!function(){function t(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=n(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return c=t.done,t},e:function(t){s=!0,r=t},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw r}}}}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var a,i,o=[],r=!0,c=!1;try{for(n=n.call(t);!(r=(a=n.next()).done)&&(o.push(a.value),!e||o.length!==e);r=!0);}catch(s){c=!0,i=s}finally{try{r||null==n.return||n.return()}finally{if(c)throw i}}return o}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,n){t.exports=n("zUnb")},zUnb:function(n,a,o){"use strict";o.r(a);var c,s=o("cUpR"),l=o("8Y7J"),u=o("HaE+"),b=o("IheW"),d=o("QFOu"),m=o("s7LF"),f=o("lJxs"),p=o("JIr8"),h=((c=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/admin"}return r(t,[{key:"getApplicationConfiguration",value:function(){return this.configObservable||(this.configObservable=this.http.get(this.host+"/application-configuration").pipe(Object(f.a)(function(t){return t.config},Object(p.a)(function(t){throw t})))),this.configObservable}}]),t}()).\u0275fac=function(t){return new(t||c)(l.Zb(b.b))},c.\u0275prov=l.Lb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),g=o("7O5W"),v=o("8tEE"),I=o("wHSu"),C=o("twK/"),y=o("PDjf"),w=o("VDRc"),U=o("TSSN"),S=o("Dxy4"),k=function(t){return{juicycoin:t}};g.b.add(v.a,I.Z,I.p,I.i,I.j,C.a,C.b),g.a.watch();var D,V,x,O,_,P,T,A,L,E=((D=function(){function t(e){i(this,t),this.configurationService=e,this.altcoinName="Juicycoin"}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.altcoinName)&&(t.altcoinName=e.application.altcoinName)},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||D)(l.Pb(h))},D.\u0275cmp=l.Jb({type:D,selectors:[["app-token-sale"]],decls:117,vars:26,consts:[["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"container"],["fxFlexAlign","center",1,"whitepaper-container","offer-container"],[3,"innerHtml"],[1,"divider"],[1,"mat-elevation-z6"],[2,"margin-left","10px"],["translate",""],["href","https://ponzico.win/ponzico.pdf","target","_blank","rel","noopener noreferrer"],["mat-raised-button","","color","accent"],[1,"fas","fa-university","fa-lg"],["href","https://www.sec.gov/investor/alerts/ia_virtualcurrencies.pdf","target","_blank","rel","noopener noreferrer"],[1,"fas","fa-graduation-cap","fa-lg"],[1,"offer-box"],[1,"text-justify"],[1,"fab","fa-bitcoin"],[1,"badge"],["fxFlexAlign.lt-md","center",1,"faq-container"],["translate","",1,"title"],[1,"fas","fa-comments","fa-2x"],[1,"far","fa-comment-alt","fa-2x"],[1,"far","fa-comments","fa-2x"],[1,"fas","fa-comment-alt","fa-2x"],[2,"margin-left","10px",3,"innerHtml"],["translate","",1,"text-justify"],["src","assets/public/images/padding/56px.png"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card"),l.Vb(1,"div",0),l.Vb(2,"div",1),l.Vb(3,"mat-card-header"),l.Vb(4,"mat-card-title"),l.Ic(5),l.ic(6,"translate"),l.Ub(),l.Qb(7,"mat-card-subtitle",2),l.ic(8,"translate"),l.Ub(),l.Qb(9,"div",3),l.Vb(10,"mat-card",4),l.Vb(11,"h4"),l.Ic(12),l.ic(13,"translate"),l.Vb(14,"small",5),l.Ic(15,"("),l.Vb(16,"span",6),l.Ic(17,"WHITEPAPER_REFERENCES"),l.Ub(),l.Ic(18,")"),l.Ub(),l.Ub(),l.Vb(19,"div"),l.Vb(20,"a",7),l.Vb(21,"button",8),l.Qb(22,"i",9),l.Ic(23," PonzICO Whitepaper"),l.Ub(),l.Ub(),l.Vb(24,"a",10),l.Vb(25,"button",8),l.Qb(26,"i",11),l.Ic(27," PonziCoin Whitepaper"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(28,"div",12),l.Vb(29,"h3",6),l.Ic(30,"SECTION_SALES_PITCH"),l.Ub(),l.Vb(31,"p",13),l.Ic(32," Lorem ipsum dolor sit amet "),l.Vb(33,"strong"),l.Qb(34,"i",14),l.Ic(35),l.Ub(),l.Ic(36,", consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. "),l.Vb(37,"span",6),l.Ic(38,"GIVE_US_ALL_YOUR_MONEY"),l.Ub(),l.Ic(39," Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. "),l.Vb(40,"span",6),l.Ic(41,"GIVE_US_ALL_YOUR_MONEY"),l.Ub(),l.Ic(42," Ut wisi enim ad minim veniam, quis "),l.Vb(43,"strong"),l.Qb(44,"i",14),l.Ic(45),l.Ub(),l.Ic(46," nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. "),l.Vb(47,"span",6),l.Ic(48,"GIVE_US_ALL_YOUR_MONEY"),l.Ub(),l.Ic(49," Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. "),l.Vb(50,"span",6),l.Ic(51,"GIVE_US_ALL_YOUR_MONEY"),l.Ub(),l.Ic(52," Duis autem vel eum "),l.Vb(53,"strong"),l.Qb(54,"i",14),l.Ic(55),l.Ub(),l.Ic(56," iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis. "),l.Vb(57,"span",6),l.Ic(58,"GIVE_US_ALL_YOUR_MONEY"),l.Ub(),l.Ic(59," At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua. "),l.Vb(60,"span",15),l.Qb(61,"i",14),l.Ic(62),l.Ub(),l.Ic(63," est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur. "),l.Ub(),l.Ub(),l.Ub(),l.Vb(64,"div",16),l.Vb(65,"mat-card-header"),l.Vb(66,"mat-card-title",17),l.Ic(67,"ICO_FAQ"),l.Ub(),l.Ub(),l.Qb(68,"div",3),l.Vb(69,"mat-card",4),l.Vb(70,"h5"),l.Qb(71,"i",18),l.Ic(72," Stet "),l.Vb(73,"strong"),l.Qb(74,"i",14),l.Ic(75),l.Ub(),l.Ic(76," clita kasd gubergren?"),l.Ub(),l.Vb(77,"small",13),l.Ic(78," Stet clita kasd gubergren, no "),l.Vb(79,"strong"),l.Qb(80,"i",14),l.Ic(81),l.Ub(),l.Ic(82," sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. "),l.Ub(),l.Ub(),l.Vb(83,"mat-card",4),l.Vb(84,"h5"),l.Qb(85,"i",19),l.Ic(86," Consetetur sadipscing elitr?"),l.Ub(),l.Vb(87,"small",13),l.Ic(88," Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed "),l.Vb(89,"strong"),l.Qb(90,"i",14),l.Ic(91),l.Ub(),l.Ic(92," diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. "),l.Ub(),l.Ub(),l.Vb(93,"mat-card",4),l.Vb(94,"h5"),l.Qb(95,"i",20),l.Ic(96," Hendrerit "),l.Vb(97,"strong"),l.Qb(98,"i",14),l.Ic(99),l.Ub(),l.Ic(100," in vulputate velit?"),l.Ub(),l.Vb(101,"small",13),l.Ic(102," Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis. "),l.Ub(),l.Ub(),l.Vb(103,"mat-card",4),l.Vb(104,"h5"),l.Qb(105,"i",21),l.Ic(106," Justo duo dolores et ea rebum?"),l.Ub(),l.Vb(107,"small",13),l.Ic(108," At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. "),l.Ub(),l.Ub(),l.Vb(109,"mat-card",4),l.Vb(110,"h5"),l.Qb(111,"i",18),l.Qb(112,"span",22),l.ic(113,"translate"),l.Ub(),l.Vb(114,"small",23),l.Ic(115,"ICO_FAQ_ANSWER"),l.Ub(),l.Ub(),l.Ub(),l.Qb(116,"img",24),l.Ub(),l.Ub()),2&t&&(l.Db(5),l.Kc(" ",l.jc(6,12,"TITLE_TOKENSALE")," "),l.Db(2),l.nc("innerHtml",l.kc(8,14,"SECTION_ICO",l.sc(22,k,e.altcoinName)),l.zc),l.Db(5),l.Kc("",l.jc(13,17,"SECTION_WHITEPAPER")," "),l.Db(23),l.Kc(" ",e.altcoinName,""),l.Db(10),l.Kc(" ",e.altcoinName,""),l.Db(10),l.Kc(" ",e.altcoinName,""),l.Db(7),l.Kc(" ",e.altcoinName,""),l.Db(13),l.Kc(" ",e.altcoinName,""),l.Db(6),l.Kc(" ",e.altcoinName,""),l.Db(10),l.Kc(" ",e.altcoinName,""),l.Db(8),l.Kc(" ",e.altcoinName,""),l.Db(13),l.nc("innerHtml",l.kc(113,19,"ICO_FAQ_QUESTION",l.sc(24,k,e.altcoinName)),l.zc))},directives:[y.a,w.d,w.e,w.a,y.c,y.g,y.f,U.a,S.a],pipes:[U.d],styles:[".container[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{justify-content:center}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);margin-bottom:10px;padding:12px 20px}.whitepaper-container.offer-container[_ngcontent-%COMP%]{max-width:700px;min-width:400px;width:70%}.faq-container[_ngcontent-%COMP%]{max-width:500px;min-width:200px;width:70%}a[_ngcontent-%COMP%]:first-child{padding-right:10px}.title[_ngcontent-%COMP%]{padding-bottom:27px}.divider[_ngcontent-%COMP%]{border:.5px solid #f2f2f2;margin-bottom:10px}.text-justify[_ngcontent-%COMP%]{text-align:justify}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}mat-card[_ngcontent-%COMP%]:first-child{border-radius:5px;margin:0 auto;width:80%}"]}),D),M=o("XNiG"),R=((V=function(){function t(e){i(this,t),this.http=e,this.isLoggedIn=new M.a,this.hostServer=".",this.host=this.hostServer+"/api/Users"}return r(t,[{key:"find",value:function(t){return this.http.get(this.hostServer+"/rest/user/authentication-details/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"login",value:function(t){return this.isLoggedIn.next(!0),this.http.post(this.hostServer+"/rest/user/login",t).pipe(Object(f.a)(function(t){return t.authentication}),Object(p.a)(function(t){throw t}))}},{key:"getLoggedInState",value:function(){return this.isLoggedIn.asObservable()}},{key:"changePassword",value:function(t){return this.http.get(this.hostServer+"/rest/user/change-password?current="+t.current+"&new="+t.new+"&repeat="+t.repeat).pipe(Object(f.a)(function(t){return t.user}),Object(p.a)(function(t){throw t.error}))}},{key:"resetPassword",value:function(t){return this.http.post(this.hostServer+"/rest/user/reset-password",t).pipe(Object(f.a)(function(t){return t.user}),Object(p.a)(function(t){throw t}))}},{key:"whoAmI",value:function(){return this.http.get(this.hostServer+"/rest/user/whoami").pipe(Object(f.a)(function(t){return t.user}),Object(p.a)(function(t){throw t}))}},{key:"oauthLogin",value:function(t){return this.http.get("https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token="+t)}},{key:"saveLastLoginIp",value:function(){return this.http.get(this.hostServer+"/rest/saveLoginIp").pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"deluxeStatus",value:function(){return this.http.get(this.hostServer+"/rest/deluxe-membership").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"upgradeToDeluxe",value:function(t,e){return this.http.post(this.hostServer+"/rest/deluxe-membership",{paymentMode:t,paymentId:e}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||V)(l.Zb(b.b))},V.\u0275prov=l.Lb({token:V,factory:V.\u0275fac,providedIn:"root"}),V),N=o("iInd"),B=((O=function(){function t(e,n,a,o,r){i(this,t),this.cookieService=e,this.userService=n,this.router=a,this.route=o,this.ngZone=r}return r(t,[{key:"ngOnInit",value:function(){var t=this,e=this;this.userService.oauthLogin(this.parseRedirectUrlParams().access_token).subscribe(function(e){var n=btoa(e.email.split("").reverse().join(""));t.userService.save({email:e.email,password:n,passwordRepeat:n}).subscribe(function(){t.login(e)},function(){return t.login(e)})},function(n){t.invalidateSession(n),t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/login"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))})}},{key:"login",value:function(t){var e=this,n=this;this.userService.login({email:t.email,password:btoa(t.email.split("").reverse().join("")),oauth:!0}).subscribe(function(t){var a=new Date;a.setHours(a.getHours()+8),e.cookieService.put("token",t.token,{expires:a}),localStorage.setItem("token",t.token),sessionStorage.setItem("bid",t.bid),e.userService.isLoggedIn.next(!0),e.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.router.navigate(["/"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))},function(t){e.invalidateSession(t),e.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.router.navigate(["/login"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))})}},{key:"invalidateSession",value:function(t){console.log(t),this.cookieService.remove("token"),localStorage.removeItem("token"),sessionStorage.removeItem("bid")}},{key:"parseRedirectUrlParams",value:function(){for(var t=this.route.snapshot.data.params.substr(1).split("&"),e={},n=0;n<t.length;n++){var a=t[n].split("=");e[a[0]]=a[1]}return e}}]),t}()).\u0275fac=function(t){return new(t||O)(l.Pb(d.b),l.Pb(R),l.Pb(N.b),l.Pb(N.a),l.Pb(l.B))},O.\u0275cmp=l.Jb({type:O,selectors:[["app-oauth"]],decls:9,vars:6,consts:[["fxLayoutAlign","center"],[1,"primary-notification"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"div"),l.Vb(3,"h3"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Vb(6,"div"),l.Ic(7),l.ic(8,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Jc(l.jc(5,2,"TITLE_LOGIN")),l.Db(3),l.Jc(l.jc(8,4,"CONFIRM_LOGGED_IN_VIA_OAUTH2")))},directives:[w.c,y.a],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:300px;width:35%}"]}),O),G=((x=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.itemTotal=new M.a,this.host=this.hostServer+"/api/BasketItems"}return r(t,[{key:"find",value:function(t){return this.http.get("".concat(this.hostServer,"/rest/basket/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"checkout",value:function(t,e,n){return this.http.post("".concat(this.hostServer,"/rest/basket/").concat(t,"/checkout"),{couponData:e,orderDetails:n}).pipe(Object(f.a)(function(t){return t.orderConfirmation}),Object(p.a)(function(t){throw t}))}},{key:"applyCoupon",value:function(t,e){return this.http.put("".concat(this.hostServer,"/rest/basket/").concat(t,"/coupon/").concat(e),{}).pipe(Object(f.a)(function(t){return t.discount}),Object(p.a)(function(t){throw t}))}},{key:"updateNumberOfCartItems",value:function(){var t=this;this.find(parseInt(sessionStorage.getItem("bid"),10)).subscribe(function(e){t.itemTotal.next(e.Products.reduce(function(t,e){return t+e.BasketItem.quantity},0))},function(t){return console.log(t)})}},{key:"getItemTotal",value:function(){return this.itemTotal.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||x)(l.Zb(b.b))},x.\u0275prov=l.Lb({token:x,factory:x.\u0275fac,providedIn:"root"}),x),F=o("BOF4"),j=((A=function(){function t(e,n){i(this,t),this.router=e,this.ngZone=n}return r(t,[{key:"canActivate",value:function(){return!!localStorage.getItem("token")||(this.forbidRoute("UNAUTHORIZED_ACCESS_ERROR"),!1)}},{key:"forbidRoute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNAUTHORIZED_PAGE_ACCESS_ERROR",e=this;this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.router.navigate(["403"],{skipLocationChange:!0,queryParams:{error:t}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})))}},{key:"tokenDecode",value:function(){var t=null,e=localStorage.getItem("token");if(e)try{t=F(e)}catch(n){console.log(n)}return t}}]),t}()).\u0275fac=function(t){return new(t||A)(l.Zb(N.b),l.Zb(l.B))},A.\u0275prov=l.Lb({token:A,factory:A.\u0275fac}),A),H=((T=function(){function t(e){i(this,t),this.loginGuard=e}return r(t,[{key:"canActivate",value:function(){var t=this.loginGuard.tokenDecode();return!(!(null==t?void 0:t.data)||"admin"!==t.data.role)||(this.loginGuard.forbidRoute(),!1)}}]),t}()).\u0275fac=function(t){return new(t||T)(l.Zb(j))},T.\u0275prov=l.Lb({token:T,factory:T.\u0275fac}),T),Q=((P=function(){function t(e){i(this,t),this.loginGuard=e}return r(t,[{key:"canActivate",value:function(){var t=this.loginGuard.tokenDecode();return!(!(null==t?void 0:t.data)||"accounting"!==t.data.role)||(this.loginGuard.forbidRoute(),!1)}}]),t}()).\u0275fac=function(t){return new(t||P)(l.Zb(j))},P.\u0275prov=l.Lb({token:P,factory:P.\u0275fac}),P),z=((_=function(){function t(e){i(this,t),this.loginGuard=e}return r(t,[{key:"isDeluxe",value:function(){var t=this.loginGuard.tokenDecode();return(null==t?void 0:t.data)&&"deluxe"===t.data.role}}]),t}()).\u0275fac=function(t){return new(t||_)(l.Zb(j))},_.\u0275prov=l.Lb({token:_,factory:_.\u0275fac}),_),W=o("zHaW"),K=((L=function(){function t(e,n){i(this,t),this.translateService=e,this.snackBar=n}return r(t,[{key:"open",value:function(t,e){var n=this;this.translateService.get(t).subscribe(function(t){n.snackBar.open(t,"X",{duration:5e3,panelClass:e})},function(){n.snackBar.open(t,"X",{duration:5e3,panelClass:e})})}}]),t}()).\u0275fac=function(t){return new(t||L)(l.Zb(U.e),l.Zb(W.a))},L.\u0275prov=l.Lb({token:L,factory:L.\u0275fac,providedIn:"root"}),L),q=o("OaSA"),Y=o("SVse"),J=o("ura0");function $(t,e){1&t&&l.Qb(0,"mat-header-cell",19)}function Z(t,e){if(1&t&&(l.Vb(0,"mat-cell",20),l.Qb(1,"img",21),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.oc("alt",n.name),l.nc("src","assets/public/images/products/"+n.image,l.Bc)}}function X(t,e){1&t&&l.Qb(0,"mat-footer-cell",20)}function tt(t,e){1&t&&l.Qb(0,"mat-header-cell",19)}function et(t,e){if(1&t&&(l.Vb(0,"mat-cell",22),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.name," ")}}function nt(t,e){1&t&&l.Qb(0,"mat-footer-cell",23)}function at(t,e){1&t&&l.Qb(0,"mat-header-cell",19)}function it(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",27),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc().dec(t.BasketItem.id)}),l.Qb(1,"i",28),l.Ub()}}function ot(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",27),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc().inc(t.BasketItem.id)}),l.Qb(1,"i",29),l.Ub()}}function rt(t,e){if(1&t&&(l.Vb(0,"mat-cell",24),l.Gc(1,it,2,0,"button",25),l.Vb(2,"span",26),l.Ic(3),l.Ub(),l.Gc(4,ot,2,0,"button",25),l.Ub()),2&t){var n=e.$implicit,a=l.hc();l.Db(1),l.nc("ngIf",a.allowEdit),l.Db(2),l.Kc(" ",n.BasketItem.quantity,""),l.Db(1),l.nc("ngIf",a.allowEdit)}}function ct(t,e){1&t&&(l.Vb(0,"mat-footer-cell",30),l.Ic(1,"TOTAL"),l.Ub())}function st(t,e){1&t&&l.Qb(0,"mat-header-cell",19)}function lt(t,e){if(1&t&&(l.Vb(0,"mat-cell",31),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.price,"\xa4")}}function ut(t,e){1&t&&l.Qb(0,"mat-footer-cell",32)}function bt(t,e){1&t&&l.Qb(0,"mat-header-cell",19)}function dt(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",36),l.Vb(1,"button",27),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).delete(t.BasketItem.id)}),l.Qb(2,"i",37),l.Ub(),l.Ub()}}function mt(t,e){1&t&&l.Qb(0,"mat-footer-cell",36)}function ft(t,e){1&t&&(l.Tb(0,33),l.Gc(1,bt,1,0,"mat-header-cell",2),l.Gc(2,dt,3,0,"mat-cell",34),l.Gc(3,mt,1,0,"mat-footer-cell",35),l.Sb())}function pt(t,e){1&t&&l.Qb(0,"mat-header-row")}function ht(t,e){1&t&&l.Qb(0,"mat-row")}function gt(t,e){1&t&&l.Qb(0,"mat-footer-row",39)}function vt(t,e){if(1&t&&(l.Vb(0,"span"),l.Gc(1,gt,1,0,"mat-footer-row",38),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("matFooterRowDef",n.tableColumns)}}function It(t,e){if(1&t&&(l.Vb(0,"div",40),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t){var n=l.hc();l.Db(1),l.Lc("",l.jc(2,2,"LABEL_TOTAL_PRICE"),": ",n.itemTotal,"\xa4")}}g.b.add(C.g,I.y,I.A),g.a.watch();var Ct,yt=((Ct=function(){function t(e,n,a,o){i(this,t),this.deluxeGuard=e,this.basketService=n,this.userService=a,this.snackBarHelperService=o,this.allowEdit=!1,this.displayTotal=!1,this.totalPrice=!0,this.emitTotal=new l.o,this.emitProductCount=new l.o,this.tableColumns=["image","product","quantity","price"],this.dataSource=[],this.bonus=0,this.itemTotal=0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.allowEdit&&!this.tableColumns.includes("remove")&&this.tableColumns.push("remove"),this.load(),this.userService.whoAmI().subscribe(function(e){t.userEmail=e.email||"anonymous",t.userEmail="("+t.userEmail+")"},function(t){return console.log(t)})}},{key:"load",value:function(){var t=this;this.basketService.find(parseInt(sessionStorage.getItem("bid"),10)).subscribe(function(e){t.isDeluxe()&&e.Products.map(function(t){t.price=t.deluxePrice}),t.dataSource=e.Products,t.itemTotal=e.Products.reduce(function(t,e){return t+e.price*e.BasketItem.quantity},0),t.bonus=e.Products.reduce(function(t,e){return t+Math.round(e.price/10)*e.BasketItem.quantity},0),t.sendToParent(t.dataSource.length)},function(t){return console.log(t)})}},{key:"delete",value:function(t){var e=this;this.basketService.del(t).subscribe(function(){e.load(),e.basketService.updateNumberOfCartItems()},function(t){return console.log(t)})}},{key:"inc",value:function(t){this.addToQuantity(t,1)}},{key:"dec",value:function(t){this.addToQuantity(t,-1)}},{key:"addToQuantity",value:function(t,e){var n=this;this.basketService.get(t).subscribe(function(a){var i=a.quantity+e;n.basketService.put(t,{quantity:i<1?1:i}).subscribe(function(){n.load(),n.basketService.updateNumberOfCartItems()},function(t){var e;n.snackBarHelperService.open(null===(e=t.error)||void 0===e?void 0:e.error,"errorBar"),console.log(t)})},function(t){return console.log(t)})}},{key:"sendToParent",value:function(t){this.emitTotal.emit([this.itemTotal,this.bonus]),this.emitProductCount.emit(t)}},{key:"isDeluxe",value:function(){return this.deluxeGuard.isDeluxe()}}]),t}()).\u0275fac=function(t){return new(t||Ct)(l.Pb(z),l.Pb(G),l.Pb(R),l.Pb(K))},Ct.\u0275cmp=l.Jb({type:Ct,selectors:[["app-purchase-basket"]],inputs:{allowEdit:"allowEdit",displayTotal:"displayTotal",totalPrice:"totalPrice"},outputs:{emitTotal:"emitTotal",emitProductCount:"emitProductCount"},decls:27,vars:10,consts:[[3,"dataSource"],["matColumnDef","image"],["style","display: none;",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-md","","fxFlex","20%","class","content-align",4,"matCellDef"],["fxShow","","fxHide.lt-md","","fxFlex","20%","class","content-align",4,"matFooterCellDef"],["matColumnDef","product"],["fxFlex","35%","fxFlex.lt-md","30%","style","font-size: initial;",4,"matCellDef"],["fxFlex","35%","fxFlex.lt-md","30%",4,"matFooterCellDef"],["matColumnDef","quantity"],["fxFlex","16%","fxFlex.lt-md","35%","class","content-align",4,"matCellDef"],["fxFlex","16%","fxFlex.lt-md","35%","class","header-align",4,"matFooterCellDef"],["matColumnDef","price"],["fxShow","","fxHide.lt-md","","fxFlex","16%","style","font-size: initial;",4,"matCellDef"],["fxShow","","fxHide.lt-md","","fxFlex","16%",4,"matFooterCellDef"],["matColumnDef","remove",4,"ngIf"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["id","price",4,"ngIf"],[2,"display","none"],["fxShow","","fxHide.lt-md","","fxFlex","20%",1,"content-align"],[1,"img-responsive","img-thumbnail",3,"src","alt"],["fxFlex","35%","fxFlex.lt-md","30%",2,"font-size","initial"],["fxFlex","35%","fxFlex.lt-md","30%"],["fxFlex","16%","fxFlex.lt-md","35%",1,"content-align"],["mat-icon-button","",3,"click",4,"ngIf"],[2,"font-size","initial"],["mat-icon-button","",3,"click"],[1,"fas","fa-minus-square"],[1,"fas","fa-plus-square"],["fxFlex","16%","fxFlex.lt-md","35%",1,"header-align"],["fxShow","","fxHide.lt-md","","fxFlex","16%",2,"font-size","initial"],["fxShow","","fxHide.lt-md","","fxFlex","16%"],["matColumnDef","remove"],["fxFlex","10%","fxFlex.lt-md","15%",4,"matCellDef"],["fxFlex","10%","fxFlex.lt-md","15%",4,"matFooterCellDef"],["fxFlex","10%","fxFlex.lt-md","15%"],[1,"far","fa-trash-alt"],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""],["id","price"]],template:function(t,e){1&t&&(l.Vb(0,"h1"),l.Ic(1),l.ic(2,"translate"),l.Vb(3,"small"),l.Ic(4),l.Ub(),l.Ub(),l.Vb(5,"mat-table",0),l.Tb(6,1),l.Gc(7,$,1,0,"mat-header-cell",2),l.Gc(8,Z,2,2,"mat-cell",3),l.Gc(9,X,1,0,"mat-footer-cell",4),l.Sb(),l.Tb(10,5),l.Gc(11,tt,1,0,"mat-header-cell",2),l.Gc(12,et,2,1,"mat-cell",6),l.Gc(13,nt,1,0,"mat-footer-cell",7),l.Sb(),l.Tb(14,8),l.Gc(15,at,1,0,"mat-header-cell",2),l.Gc(16,rt,5,3,"mat-cell",9),l.Gc(17,ct,2,0,"mat-footer-cell",10),l.Sb(),l.Tb(18,11),l.Gc(19,st,1,0,"mat-header-cell",2),l.Gc(20,lt,2,1,"mat-cell",12),l.Gc(21,ut,1,0,"mat-footer-cell",13),l.Sb(),l.Gc(22,ft,4,0,"ng-container",14),l.Gc(23,pt,1,0,"mat-header-row",15),l.Gc(24,ht,1,0,"mat-row",16),l.Gc(25,vt,2,1,"span",17),l.Ub(),l.Gc(26,It,3,4,"div",18)),2&t&&(l.Db(1),l.Kc(" ",l.jc(2,8,"TITLE_BASKET")," "),l.Db(3),l.Jc(e.userEmail),l.Db(1),l.nc("dataSource",e.dataSource),l.Db(17),l.nc("ngIf",e.allowEdit),l.Db(1),l.nc("matHeaderRowDef",e.tableColumns),l.Db(1),l.nc("matRowDefColumns",e.tableColumns),l.Db(1),l.nc("ngIf",e.displayTotal),l.Db(1),l.nc("ngIf",e.totalPrice))},directives:[q.n,q.c,q.i,q.b,q.e,Y.l,q.k,q.m,q.h,q.a,J.b,w.b,q.d,S.a,q.j,q.l,q.g,q.f],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}.img-thumbnail[_ngcontent-%COMP%]{height:auto;width:90px}mat-cell[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px;padding-left:10px;padding-right:10px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}mat-footer-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.mat-footer-cell[_ngcontent-%COMP%]{font-weight:700}.content-align[_ngcontent-%COMP%]{display:flex;justify-content:center}#price[_ngcontent-%COMP%]{font-size:large;margin-top:30px;text-align:right;width:100%}"]}),Ct),wt=function(t){return{bonus:t}};g.b.add(I.d),g.a.watch();var Ut,St,kt=((St=function(){function t(e,n){i(this,t),this.router=e,this.ngZone=n,this.productCount=0,this.bonus=0}return r(t,[{key:"checkout",value:function(){var t=this;this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/address/select"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"getProductCount",value:function(t){this.productCount=t}},{key:"getBonusPoints",value:function(t){sessionStorage.setItem("itemTotal",t[0]),this.bonus=t[1]}}]),t}()).\u0275fac=function(t){return new(t||St)(l.Pb(N.b),l.Pb(l.B))},St.\u0275cmp=l.Jb({type:St,selectors:[["app-basket"]],decls:8,vars:8,consts:[[1,"mat-elevation-z6"],[3,"allowEdit","emitTotal","emitProductCount"],["id","checkoutButton","color","primary","mat-raised-button","",1,"checkout-button",3,"disabled","click"],[1,"fas","fa-cart-arrow-down"],["translate","",1,"hint",3,"translateParams"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"app-purchase-basket",1),l.dc("emitTotal",function(t){return e.getBonusPoints(t)})("emitProductCount",function(t){return e.getProductCount(t)}),l.Ub(),l.Vb(2,"button",2),l.dc("click",function(){return e.checkout()}),l.Qb(3,"i",3),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Vb(6,"div",4),l.Ic(7,"CHECKOUT_FOR_BONUS_POINTS"),l.Ub(),l.Ub()),2&t&&(l.Db(1),l.nc("allowEdit",!0),l.Db(1),l.nc("disabled",e.productCount<1),l.Db(2),l.Kc(" ",l.jc(5,4,"BTN_CHECKOUT")," "),l.Db(2),l.nc("translateParams",l.sc(6,wt,e.bonus)))},directives:[y.a,yt,S.a,U.a],pipes:[U.d],styles:[".container[_ngcontent-%COMP%]{min-width:420px;width:40%}mat-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);justify-content:center;padding:12px 20px}.mat-row[_ngcontent-%COMP%]{padding-bottom:10px}.mat-column-bonus[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%], .mat-column-price[_ngcontent-%COMP%]{margin-left:20px}.mat-column-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{width:20px}.mat-column-quantity[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:22px}mat-form-field[_ngcontent-%COMP%]{margin-top:15px;width:100%}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:20px}#checkoutButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.hint[_ngcontent-%COMP%]{display:flex;font-size:13px;justify-content:center;margin-top:5px}.payment-label[_ngcontent-%COMP%]{padding-top:10px}"]}),St),Dt=((Ut=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/track-order"}return r(t,[{key:"find",value:function(t){return t=encodeURIComponent(t),this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ut)(l.Zb(b.b))},Ut.\u0275prov=l.Lb({token:Ut,factory:Ut.\u0275fac,providedIn:"root"}),Ut);function Vt(t,e){1&t&&(l.Vb(0,"span"),l.Qb(1,"i",27),l.Ub())}function xt(t,e){1&t&&(l.Vb(0,"span"),l.Qb(1,"i",28),l.Ub())}function Ot(t,e){1&t&&(l.Vb(0,"span"),l.Qb(1,"i",29),l.Ub())}function _t(t,e){1&t&&(l.Vb(0,"span"),l.Qb(1,"i",30),l.Ub())}function Pt(t,e){1&t&&(l.Vb(0,"span"),l.Qb(1,"i",31),l.Ub())}function Tt(t,e){1&t&&(l.Vb(0,"span"),l.Qb(1,"i",32),l.Ub())}function At(t,e){if(1&t&&(l.Vb(0,"span",33),l.Vb(1,"span"),l.Qb(2,"i",34),l.Ub(),l.Vb(3,"span",35),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(4),l.Lc("",n.results.eta," ",l.jc(5,2,"LABEL_DAYS"),"")}}function Lt(t,e){if(1&t&&(l.Vb(0,"span",33),l.Vb(1,"span"),l.Qb(2,"i",36),l.Ub(),l.Vb(3,"span",35),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(4),l.Lc("",n.results.eta," ",l.jc(5,2,"LABEL_DAYS"),"")}}function Et(t,e){1&t&&(l.Vb(0,"mat-header-cell",1),l.Ic(1,"LABEL_PRODUCT"),l.Ub())}function Mt(t,e){if(1&t&&(l.Vb(0,"mat-cell",37),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.name,"")}}function Rt(t,e){1&t&&(l.Vb(0,"mat-header-cell",38),l.Ic(1,"LABEL_PRICE"),l.Ub())}function Nt(t,e){if(1&t&&(l.Vb(0,"mat-cell",39),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.price,"\xa4")}}function Bt(t,e){1&t&&(l.Vb(0,"mat-header-cell",1),l.Ic(1,"LABEL_QUANTITY"),l.Ub())}function Gt(t,e){if(1&t&&(l.Vb(0,"mat-cell",40),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.quantity,"")}}function Ft(t,e){1&t&&(l.Vb(0,"mat-header-cell",1),l.Ic(1,"LABEL_TOTAL_PRICE"),l.Ub())}function jt(t,e){if(1&t&&(l.Vb(0,"mat-cell",41),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.total,"\xa4")}}function Ht(t,e){1&t&&l.Qb(0,"mat-header-row")}function Qt(t,e){1&t&&l.Qb(0,"mat-row")}var zt=function(t){return{bonus:t}};g.b.add(I.hb,I.M,I.X,I.W,I.t),g.a.watch();var Wt,Kt,qt,Yt,Jt=function(t){return t[t.New=0]="New",t[t.Packing=1]="Packing",t[t.Transit=2]="Transit",t[t.Delivered=3]="Delivered",t}({}),$t=((Yt=function(){function t(e,n,a){i(this,t),this.route=e,this.trackOrderService=n,this.sanitizer=a,this.displayedColumns=["product","price","quantity","total price"],this.dataSource=new q.o,this.results={},this.status=Jt.New,this.Status=Jt}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.orderId=this.route.snapshot.queryParams.id,this.trackOrderService.find(this.orderId).subscribe(function(e){t.results.orderNo=t.sanitizer.bypassSecurityTrustHtml("<code>".concat(e.data[0].orderId,"</code>")),t.results.email=e.data[0].email,t.results.totalPrice=e.data[0].totalPrice,t.results.products=e.data[0].products,t.results.eta=void 0!==e.data[0].eta?e.data[0].eta:"?",t.results.bonus=e.data[0].bonus,t.dataSource.data=t.results.products,t.status=e.data[0].delivered?Jt.Delivered:t.route.snapshot.data.type?Jt.New:t.results.eta>2?Jt.Packing:Jt.Transit})}}]),t}()).\u0275fac=function(t){return new(t||Yt)(l.Pb(N.a),l.Pb(Dt),l.Pb(s.c))},Yt.\u0275cmp=l.Jb({type:Yt,selectors:[["app-track-result"]],decls:48,vars:18,consts:[[1,"mat-elevation-z6","mat-own-card"],["translate",""],[3,"innerHtml"],[2,"text-align","center"],[1,"container-fluid","well"],[1,"row","fa-4x"],[4,"ngIf"],["class","fa-layers fa-fw",4,"ngIf"],["fxLayoutAlign","center",1,"table-wrapper"],[1,"table-heading","heading"],["fxLayoutAlign","center"],[1,"mat-elevation-z0",3,"dataSource"],["table",""],["matColumnDef","product"],["translate","",4,"matHeaderCellDef"],["class","product-name",4,"matCellDef"],["matColumnDef","price"],["fxShow","","fxHide.lt-md","","translate","",4,"matHeaderCellDef"],["class","product-price","fxShow","","fxHide.lt-md","",4,"matCellDef"],["matColumnDef","quantity"],["class","product-quantity",4,"matCellDef"],["matColumnDef","total price"],["class","product-total",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"bonus-container"],["translate","",3,"translateParams"],[1,"fas","fa-warehouse","confirmation"],[1,"fas","fa-warehouse"],[1,"fas","fa-truck-loading","confirmation"],[1,"fas","fa-truck-loading"],[1,"fas","fa-truck","confirmation"],[1,"fas","fa-truck"],[1,"fa-layers","fa-fw"],[1,"fas","fa-home","confirmation"],[1,"fa-layers-counter","accent-notification",2,"width","max-content"],[1,"fas","fa-home"],[1,"product-name"],["fxShow","","fxHide.lt-md","","translate",""],["fxShow","","fxHide.lt-md","",1,"product-price"],[1,"product-quantity"],[1,"product-total"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"h1"),l.Vb(2,"span",1),l.Ic(3,"TITLE_SEARCH_RESULTS"),l.Ub(),l.Ic(4," - "),l.Qb(5,"span",2),l.Ub(),l.Vb(6,"div",3),l.Vb(7,"h3",1),l.Ic(8,"LABEL_EXPECTED_DELIVERY"),l.Ub(),l.Vb(9,"div",4),l.Vb(10,"div",5),l.Gc(11,Vt,2,0,"span",6),l.Gc(12,xt,2,0,"span",6),l.Gc(13,Ot,2,0,"span",6),l.Gc(14,_t,2,0,"span",6),l.Gc(15,Pt,2,0,"span",6),l.Gc(16,Tt,2,0,"span",6),l.Gc(17,At,6,4,"span",7),l.Gc(18,Lt,6,4,"span",7),l.Ub(),l.Ub(),l.Ub(),l.Vb(19,"div",8),l.Vb(20,"div",9),l.Vb(21,"h2",1),l.Ic(22,"LABEL_PRODUCT_ORDERED"),l.Ub(),l.Ub(),l.Ub(),l.Vb(23,"div",10),l.Vb(24,"mat-table",11,12),l.Tb(26,13),l.Gc(27,Et,2,0,"mat-header-cell",14),l.Gc(28,Mt,2,1,"mat-cell",15),l.Sb(),l.Tb(29,16),l.Gc(30,Rt,2,0,"mat-header-cell",17),l.Gc(31,Nt,2,1,"mat-cell",18),l.Sb(),l.Tb(32,19),l.Gc(33,Bt,2,0,"mat-header-cell",14),l.Gc(34,Gt,2,1,"mat-cell",20),l.Sb(),l.Tb(35,21),l.Gc(36,Ft,2,0,"mat-header-cell",14),l.Gc(37,jt,2,1,"mat-cell",22),l.Sb(),l.Gc(38,Ht,1,0,"mat-header-row",23),l.Gc(39,Qt,1,0,"mat-row",24),l.Ub(),l.Ub(),l.Vb(40,"div",25),l.Vb(41,"h2",26),l.Ic(42,"BONUS_POINTS_EARNED"),l.Ub(),l.Vb(43,"p"),l.Ic(44,"("),l.Qb(45,"span",2),l.ic(46,"translate"),l.Ic(47,")"),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(5),l.nc("innerHtml",e.results.orderNo,l.zc),l.Db(6),l.nc("ngIf",e.status===e.Status.New),l.Db(1),l.nc("ngIf",e.status!==e.Status.New),l.Db(1),l.nc("ngIf",e.status===e.Status.Packing),l.Db(1),l.nc("ngIf",e.status!==e.Status.Packing),l.Db(1),l.nc("ngIf",e.status===e.Status.Transit),l.Db(1),l.nc("ngIf",e.status!==e.Status.Transit),l.Db(1),l.nc("ngIf",e.status===e.Status.Delivered),l.Db(1),l.nc("ngIf",e.status!==e.Status.Delivered),l.Db(6),l.nc("dataSource",e.dataSource),l.Db(14),l.nc("matHeaderRowDef",e.displayedColumns),l.Db(1),l.nc("matRowDefColumns",e.displayedColumns),l.Db(2),l.nc("translateParams",l.sc(16,zt,e.results.bonus)),l.Db(4),l.nc("innerHtml",l.jc(46,14,"BONUS_FOR_FUTURE_PURCHASES"),l.zc))},directives:[y.a,U.a,Y.l,w.c,q.n,q.c,q.i,q.b,q.k,q.m,q.h,q.a,J.b,q.j,q.l],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%], .table-heading[_ngcontent-%COMP%], mat-table[_ngcontent-%COMP%]{width:90%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);height:35px;justify-content:center;padding:0 20px}.product-name[_ngcontent-%COMP%]{margin-right:25px}.table-wrapper[_ngcontent-%COMP%]{margin-top:30px}.table-heading[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.row.fa-4x[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:10px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.bonus-container[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;flex-direction:column;margin-top:10px;place-content:stretch center}.bonus-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}"]}),Yt),Zt=((qt=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Feedbacks"}return r(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||qt)(l.Zb(b.b))},qt.\u0275prov=l.Lb({token:qt,factory:qt.\u0275fac,providedIn:"root"}),qt),Xt=((Kt=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/captcha"}return r(t,[{key:"getCaptcha",value:function(){return this.http.get(this.host+"/").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Kt)(l.Zb(b.b))},Kt.\u0275prov=l.Lb({token:Kt,factory:Kt.\u0275fac,providedIn:"root"}),Kt),te=((Wt=function(){function t(e){i(this,t),this._document=e}return r(t,[{key:"attachEnterKeyHandler",value:function(t,e,n){var a=this._document.getElementById(t),i=this._document.getElementById(e);a.addEventListener("keyup",function(t){t.preventDefault(),13!==t.keyCode||i.disabled||n()})}}]),t}()).\u0275fac=function(t){return new(t||Wt)(l.Zb(Y.d))},Wt.\u0275prov=l.Lb({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Wt),ee=o("Q2Ze"),ne=o("e6WT"),ae=o("mPVK");function ie(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_COMMENT "),l.Ub())}function oe(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_CAPTCHA "),l.Ub())}function re(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"INVALID_CAPTCHA "),l.Ub())}var ce=function(){return{length:"160"}};g.b.add(I.K,I.z),g.a.watch();var se,le=((se=function(){function t(e,n,a,o,r,c){i(this,t),this.userService=e,this.captchaService=n,this.feedbackService=a,this.formSubmitService=o,this.translate=r,this.snackBarHelperService=c,this.authorControl=new m.e({value:"",disabled:!0},[]),this.feedbackControl=new m.e("",[m.z.required,m.z.maxLength(160)]),this.captchaControl=new m.e("",[m.z.required,m.z.pattern("-?[\\d]*")]),this.userIdControl=new m.e("",[]),this.rating=0,this.feedback=void 0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.feedback={},t.userIdControl.setValue(e.id),t.feedback.UserId=e.id,t.authorControl.setValue(e.email?"***".concat(e.email.slice(3)):"anonymous")},function(e){t.feedback=void 0,console.log(e)}),this.getNewCaptcha(),this.formSubmitService.attachEnterKeyHandler("feedback-form","submitButton",function(){return t.save()})}},{key:"getNewCaptcha",value:function(){var t=this;this.captchaService.getCaptcha().subscribe(function(e){t.captcha=e.captcha,t.captchaId=e.captchaId},function(t){return t})}},{key:"save",value:function(){var t=this;this.feedback.captchaId=this.captchaId,this.feedback.captcha=this.captchaControl.value,this.feedback.comment="".concat(this.feedbackControl.value," (").concat(this.authorControl.value,")"),this.feedback.rating=this.rating,this.feedback.UserId=this.userIdControl.value,this.feedbackService.save(this.feedback).subscribe(function(e){5===e.rating?t.translate.get("FEEDBACK_FIVE_STAR_THANK_YOU").subscribe(function(e){t.snackBarHelperService.open(e)},function(e){t.snackBarHelperService.open(e)}):t.translate.get("FEEDBACK_THANK_YOU").subscribe(function(e){t.snackBarHelperService.open(e)},function(e){t.snackBarHelperService.open(e)}),t.feedback={},t.ngOnInit(),t.resetForm()},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.feedback={},t.resetCaptcha()})}},{key:"resetForm",value:function(){this.authorControl.markAsUntouched(),this.authorControl.markAsPristine(),this.authorControl.setValue(""),this.feedbackControl.markAsUntouched(),this.feedbackControl.markAsPristine(),this.feedbackControl.setValue(""),this.rating=0,this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue("")}},{key:"resetCaptcha",value:function(){this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue("")}},{key:"formatRating",value:function(t){return"".concat(t,"\u2605")}}]),t}()).\u0275fac=function(t){return new(t||se)(l.Pb(R),l.Pb(Xt),l.Pb(Zt),l.Pb(te),l.Pb(U.e),l.Pb(K))},se.\u0275cmp=l.Jb({type:se,selectors:[["app-contact"]],decls:52,vars:26,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["id","feedback-form",1,"form-container"],["hidden","","type","text","id","userId",3,"formControl"],["appearance","outline","color","accent"],["matInput","","type","text","aria-label","Field with the name of the author",3,"formControl"],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["id","comment","matInput","","matAutosizeMinRows","4","matAutosizeMaxRows","4","matTextareaAutosize","","cols","50","maxlength","160","aria-label","Field for entering the comment or the feedback",3,"formControl","placeholder"],["comment",""],["align","end"],["translate","",4,"ngIf"],[1,"rating-container"],["translate","",2,"font-weight","500","margin-right","8px","float","left"],["id","rating","min","1","max","5","thumbLabel","","tickInterval","1","aria-label","Slider for selecting the star rating",3,"value","displayWith","valueChange"],[2,"margin-bottom","10px","margin-top","10px"],[2,"font-weight","500"],["translate","",2,"font-size","small"],["id","captcha","aria-label","CAPTCHA code which must be solved"],[2,"font-size","small"],["id","captchaControl","matInput","","type","text","aria-label","Field for the result of the CAPTCHA code","pattern","-?[\\d]*",3,"formControl","placeholder"],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Button to send the review",3,"disabled","click"],[1,"material-icons"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"SECTION_CUSTOMER_FEEDBACK"),l.Ub(),l.Vb(4,"div",3),l.Qb(5,"input",4),l.Vb(6,"mat-form-field",5),l.Vb(7,"mat-label",2),l.Ic(8,"LABEL_AUTHOR"),l.Ub(),l.Qb(9,"input",6),l.Ub(),l.Vb(10,"mat-form-field",5),l.Vb(11,"mat-label",2),l.Ic(12,"LABEL_COMMENT"),l.Ub(),l.Vb(13,"mat-hint",2),l.Qb(14,"i",7),l.Vb(15,"em",8),l.Ic(16),l.ic(17,"translate"),l.Ub(),l.Ub(),l.Qb(18,"textarea",9,10),l.ic(20,"translate"),l.Vb(21,"mat-hint",11),l.Ic(22),l.Ub(),l.Gc(23,ie,2,0,"mat-error",12),l.Ub(),l.Vb(24,"div",13),l.Vb(25,"label",14),l.Ic(26,"LABEL_RATING"),l.Ub(),l.Vb(27,"mat-slider",15),l.dc("valueChange",function(t){return e.rating=t}),l.Ub(),l.Ub(),l.Vb(28,"div",16),l.Vb(29,"label",17),l.Ic(30,"CAPTCHA:"),l.Ub(),l.Ic(31,"\xa0\xa0"),l.Vb(32,"span",18),l.Ic(33,"LABEL_WHAT_IS"),l.Ub(),l.Ic(34,"\xa0 "),l.Vb(35,"code",19),l.Ic(36),l.Ub(),l.Ic(37,"\xa0"),l.Vb(38,"label",20),l.Ic(39,"?"),l.Ub(),l.Ub(),l.Vb(40,"mat-form-field",5),l.Vb(41,"mat-label",2),l.Ic(42,"LABEL_RESULT"),l.Ub(),l.Qb(43,"input",21),l.ic(44,"translate"),l.Gc(45,oe,2,0,"mat-error",12),l.Gc(46,re,2,0,"mat-error",12),l.Ub(),l.Ub(),l.Vb(47,"button",22),l.dc("click",function(){return e.save()}),l.Vb(48,"i",23),l.Ic(49," send "),l.Ub(),l.Ic(50),l.ic(51,"translate"),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(19);l.Db(5),l.nc("formControl",e.userIdControl),l.Db(4),l.nc("formControl",e.authorControl),l.Db(7),l.Jc(l.kc(17,16,"MAX_TEXTAREA_LENGTH",l.rc(25,ce))),l.Db(2),l.oc("placeholder",l.jc(20,19,"WRITE_REVIEW_PLACEHOLDER")),l.nc("formControl",e.feedbackControl),l.Db(4),l.Kc("",(null==n.value?null:n.value.length)||0,"/160"),l.Db(1),l.nc("ngIf",e.feedbackControl.invalid&&e.feedbackControl.errors.required),l.Db(4),l.nc("value",e.rating)("displayWith",e.formatRating),l.Db(9),l.Jc(e.captcha),l.Db(7),l.oc("placeholder",l.jc(44,21,"MANDATORY_CAPTCHA")),l.nc("formControl",e.captchaControl),l.Db(2),l.nc("ngIf",e.captchaControl.invalid&&e.captchaControl.errors.required),l.Db(1),l.nc("ngIf",e.captchaControl.invalid&&e.captchaControl.errors.pattern),l.Db(1),l.nc("disabled",e.authorControl.invalid||e.feedbackControl.invalid||e.captchaControl.invalid||!e.rating),l.Db(3),l.Kc(" ",l.jc(51,23,"BTN_SUBMIT")," ")}},directives:[w.c,y.a,U.a,m.d,m.p,m.f,ee.c,ee.g,ne.b,ee.f,ne.d,m.k,Y.l,ae.a,m.v,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:30%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.rating-container[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.star[_ngcontent-%COMP%]{color:#c8c8c8}.active[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]{color:gold}[_nghost-%COMP%]     .br{margin:0!important}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}"]}),se),ue=o("5VOe");function be(t,e){if(1&t&&(l.Vb(0,"a",14),l.Vb(1,"button",15),l.Qb(2,"i",16),l.Ic(3," Twitter"),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.nc("href",n.twitterUrl,l.Bc)}}function de(t,e){if(1&t&&(l.Vb(0,"a",17),l.Vb(1,"button",15),l.Qb(2,"i",18),l.Ic(3," Facebook"),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.nc("href",n.facebookUrl,l.Bc)}}function me(t,e){if(1&t&&(l.Vb(0,"a",19),l.Vb(1,"button",15),l.Qb(2,"i",20),l.Ic(3," Slack"),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.nc("href",n.slackUrl,l.Bc)}}function fe(t,e){if(1&t&&(l.Vb(0,"a",21),l.Vb(1,"button",15),l.Qb(2,"i",22),l.Ic(3," Reddit"),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.nc("href",n.redditUrl,l.Bc)}}function pe(t,e){if(1&t&&(l.Vb(0,"a",23),l.Vb(1,"button",15),l.Qb(2,"i",24),l.Ic(3," Press Kit"),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.nc("href",n.pressKitUrl,l.Bc)}}function he(t,e){if(1&t&&(l.Vb(0,"div",8),l.Vb(1,"h3"),l.Vb(2,"span",3),l.Ic(3,"SECTION_SOCIAL_MEDIA"),l.Ub(),l.Ub(),l.Gc(4,be,4,1,"a",9),l.Gc(5,de,4,1,"a",10),l.Gc(6,me,4,1,"a",11),l.Gc(7,fe,4,1,"a",12),l.Gc(8,pe,4,1,"a",13),l.Ub()),2&t){var n=l.hc();l.Db(4),l.nc("ngIf",n.twitterUrl),l.Db(1),l.nc("ngIf",n.facebookUrl),l.Db(1),l.nc("ngIf",n.slackUrl),l.Db(1),l.nc("ngIf",n.redditUrl),l.Db(1),l.nc("ngIf",n.pressKitUrl)}}g.b.add(v.c,v.k,v.i,v.h,C.e,C.f,I.K),g.a.watch();var ge,ve,Ie,Ce=((Ie=function(){function t(e,n,a){i(this,t),this.configurationService=e,this.feedbackService=n,this.sanitizer=a,this.slideshowDataSource=[],this.images=["assets/public/images/carousel/1.jpg","assets/public/images/carousel/2.jpg","assets/public/images/carousel/3.jpg","assets/public/images/carousel/4.jpg","assets/public/images/carousel/5.png","assets/public/images/carousel/6.jpg","assets/public/images/carousel/7.jpg"],this.stars=[null,'<i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i>','<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>']}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.populateSlideshowFromFeedbacks(),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.social)&&(e.application.social.twitterUrl&&(t.twitterUrl=e.application.social.twitterUrl),e.application.social.facebookUrl&&(t.facebookUrl=e.application.social.facebookUrl),e.application.social.slackUrl&&(t.slackUrl=e.application.social.slackUrl),e.application.social.redditUrl&&(t.redditUrl=e.application.social.redditUrl),e.application.social.pressKitUrl&&(t.pressKitUrl=e.application.social.pressKitUrl))},function(t){return console.log(t)})}},{key:"populateSlideshowFromFeedbacks",value:function(){var t=this;this.feedbackService.find().subscribe(function(e){for(var n=0;n<e.length;n++)e[n].comment='<span style="width: 90%; display:block;">'.concat(e[n].comment,"<br/> (").concat(t.stars[e[n].rating],")</span>"),e[n].comment=t.sanitizer.bypassSecurityTrustHtml(e[n].comment),t.slideshowDataSource.push({url:t.images[n%t.images.length],caption:e[n].comment})},function(t){console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Ie)(l.Pb(h),l.Pb(Zt),l.Pb(s.c))},Ie.\u0275cmp=l.Jb({type:Ie,selectors:[["app-about"]],decls:17,vars:7,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],[1,"about-us"],["translate",""],[1,"text-justify"],["href","ftp/legal.md","aria-label","Link to the Terms of Use","translate",""],[3,"height","autoPlay","arrowSize","showArrows","showDots","imageUrls"],["class","social",4,"ngIf"],[1,"social"],["target","_blank","rel","noopener noreferrer","style","margin-left: 0px;","aria-label","Button for the Twitter page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Facebook page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Slack page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Reddit page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the PressKit page of the shop",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Twitter page of the shop",2,"margin-left","0px",3,"href"],["mat-raised-button","","color","accent"],[1,"fab","fa-twitter","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Facebook page of the shop",3,"href"],[1,"fab","fa-facebook","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Slack page of the shop",3,"href"],[1,"fab","fa-slack","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the Reddit page of the shop",3,"href"],[1,"fab","fa-reddit","fa-lg"],["target","_blank","rel","noopener noreferrer","aria-label","Button for the PressKit page of the shop",3,"href"],[1,"far","fa-newspaper","fa-lg"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"section",2),l.Vb(3,"h1",3),l.Ic(4,"TITLE_ABOUT"),l.Ub(),l.Vb(5,"h3",3),l.Ic(6,"SECTION_CORPORATE_HISTORY"),l.Ub(),l.Vb(7,"p",4),l.Ic(8," Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. "),l.Vb(9,"a",5),l.Ic(10,"LINK_TERMS_OF_USE"),l.Ub(),l.Ic(11," At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. "),l.Ub(),l.Vb(12,"h3"),l.Vb(13,"span",3),l.Ic(14,"SECTION_CUSTOMER_FEEDBACK"),l.Ub(),l.Ub(),l.Qb(15,"slideshow",6),l.Gc(16,he,9,5,"div",7),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(15),l.nc("height","300px")("autoPlay",!0)("arrowSize","10px")("showArrows",!0)("showDots",!1)("imageUrls",e.slideshowDataSource),l.Db(1),l.nc("ngIf",e.twitterUrl||e.facebookUrl))},directives:[w.c,y.a,U.a,ue.b,Y.l,S.a],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-bottom:30px;margin-left:auto;margin-right:auto;width:80%}.about-us[_ngcontent-%COMP%]{margin-left:8.33333%;margin-right:8.33333%;width:83.3333%}.social[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin:5px}.text-justify[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word}"]}),Ie),ye=((ve=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/SecurityAnswers"}return r(t,[{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ve)(l.Zb(b.b))},ve.\u0275prov=l.Lb({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve),we=((ge=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/SecurityQuestions"}return r(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"findBy",value:function(t){return this.http.get(this.hostServer+"/rest/user/security-question?email="+t).pipe(Object(f.a)(function(t){return t.question}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ge)(l.Zb(b.b))},ge.\u0275prov=l.Lb({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge),Ue=o("jMqV"),Se=o("sOue"),ke=o("ZTz/"),De=o("UhP/");function Ve(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_EMAIL"),l.Ub())}function xe(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"INVALID_EMAIL"),l.Ub())}function Oe(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_PASSWORD "),l.Ub())}var _e=function(){return{length:"5-40"}};function Pe(t,e){1&t&&(l.Vb(0,"mat-error",30),l.Ic(1,"INVALID_PASSWORD_LENGTH "),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,_e))}function Te(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_PASSWORD_REPEAT "),l.Ub())}function Ae(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," PASSWORDS_NOT_MATCHING "),l.Ub())}var Le=function(){return{value:8}};function Ee(t,e){if(1&t&&(l.Qb(0,"mat-password-strength-info",31),l.ic(1,"translate"),l.ic(2,"translate"),l.ic(3,"translate"),l.ic(4,"translate"),l.ic(5,"translate")),2&t){l.hc();var n=l.vc(41);l.nc("passwordComponent",n)("lowerCaseCriteriaMsg",l.jc(1,6,"LOWER_CASE_CRITERIA_MSG"))("upperCaseCriteriaMsg",l.jc(2,8,"UPPER_CASE_CRITERIA_MSG"))("digitsCriteriaMsg",l.jc(3,10,"DIGITS_CRITERIA_MSG"))("specialCharsCriteriaMsg",l.jc(4,12,"SPECIAL_CHARS_CRITERIA_MSG"))("minCharsCriteriaMsg",l.kc(5,14,"MIN_CHARS_CRITERIA_MSG",l.rc(17,Le)))}}function Me(t,e){if(1&t&&(l.Vb(0,"mat-option",32),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.nc("value",n.id),l.Db(1),l.Kc(" ",n.question," ")}}function Re(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_SECURITY_QUESTION "),l.Ub())}function Ne(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_SECURITY_ANSWER "),l.Ub())}g.b.add(I.eb,I.l),g.a.watch();var Be,Ge=((Be=function(){function t(e,n,a,o,r,c,s,l,u){var b;i(this,t),this.securityQuestionService=e,this.userService=n,this.securityAnswerService=a,this.router=o,this.formSubmitService=r,this.translateService=c,this.snackBar=s,this.snackBarHelperService=l,this.ngZone=u,this.emailControl=new m.e("",[m.z.required,m.z.email]),this.passwordControl=new m.e("",[m.z.required,m.z.minLength(5),m.z.maxLength(40)]),this.repeatPasswordControl=new m.e("",[m.z.required,(b=this.passwordControl,function(t){return b.value!==t.value?{notSame:!0}:null})]),this.securityQuestionControl=new m.e("",[m.z.required]),this.securityAnswerControl=new m.e("",[m.z.required]),this.error=null}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.securityQuestionService.find(null).subscribe(function(e){t.securityQuestions=e},function(t){return console.log(t)}),this.formSubmitService.attachEnterKeyHandler("registration-form","registerButton",function(){return t.save()})}},{key:"save",value:function(){var t=this,e=this,n={email:this.emailControl.value,password:this.passwordControl.value,passwordRepeat:this.repeatPasswordControl.value,securityQuestion:this.securityQuestions.find(function(e){return e.id===t.securityQuestionControl.value}),securityAnswer:this.securityAnswerControl.value};this.userService.save(n).subscribe(function(n){t.securityAnswerService.save({UserId:n.id,answer:t.securityAnswerControl.value,SecurityQuestionId:t.securityQuestionControl.value}).subscribe(function(){t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/login"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))),t.snackBarHelperService.open("CONFIRM_REGISTER")})},function(e){var n;if(console.log(e),null===(n=e.error)||void 0===n?void 0:n.errors){var a=e.error.errors[0];t.error=a.message?a.message[0].toUpperCase()+a.message.slice(1):a}})}}]),t}()).\u0275fac=function(t){return new(t||Be)(l.Pb(we),l.Pb(R),l.Pb(ye),l.Pb(N.b),l.Pb(te),l.Pb(U.e),l.Pb(W.a),l.Pb(K),l.Pb(l.B))},Be.\u0275cmp=l.Jb({type:Be,selectors:[["app-register"]],decls:69,vars:39,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["ng-if","error",1,"error"],["id","registration-form",1,"form-container"],["appearance","outline","color","accent"],["id","emailControl","type","text","matInput","","aria-label","Email address field",3,"formControl","focus"],["translate","",4,"ngIf"],["id","passwordControl","type","password","matInput","","aria-label","Field for the password",3,"formControl","focus"],["password",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["align","end"],["translate","",3,"translateParams",4,"ngIf"],["id","repeatPasswordControl","type","password","matInput","","aria-label","Field to confirm the password",3,"formControl","focus"],["repeatPassword",""],[3,"color"],["passwordInfoToggle",""],[3,"password"],["passwordStrength",""],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg",4,"ngIf"],[1,"security-container"],["color","accent","appearance","outline"],["placeholder","","name","securityQuestion","aria-label","Selection list for the security question",3,"formControl","value","valueChange","focus"],[3,"value",4,"ngFor","ngForOf"],["id","securityAnswerControl","type","text","matInput","","aria-label","Field for the answer to the security question",3,"formControl","placeholder","focus"],["type","submit","id","registerButton","mat-raised-button","","color","primary","aria-label","Button to complete the registration",3,"disabled","click"],[1,"material-icons"],["id","alreadyACustomerLink"],["routerLink","/login","translate","",1,"primary-link"],["translate","",3,"translateParams"],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg"],[3,"value"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_REGISTRATION"),l.Ub(),l.Vb(4,"div",3),l.Ic(5),l.Ub(),l.Vb(6,"div",4),l.Vb(7,"mat-form-field",5),l.Vb(8,"mat-label",2),l.Ic(9,"LABEL_EMAIL"),l.Ub(),l.Vb(10,"input",6),l.dc("focus",function(){return e.error=null}),l.Ub(),l.Gc(11,Ve,2,0,"mat-error",7),l.Gc(12,xe,2,0,"mat-error",7),l.Ub(),l.Vb(13,"mat-form-field",5),l.Vb(14,"mat-label",2),l.Ic(15,"LABEL_PASSWORD"),l.Ub(),l.Vb(16,"input",8,9),l.dc("focus",function(){return e.error=null}),l.Ub(),l.Vb(18,"mat-hint",2),l.Qb(19,"i",10),l.Vb(20,"em",11),l.Ic(21),l.ic(22,"translate"),l.Ub(),l.Ub(),l.Vb(23,"mat-hint",12),l.Ic(24),l.Ub(),l.Gc(25,Oe,2,0,"mat-error",7),l.Gc(26,Pe,2,2,"mat-error",13),l.Ub(),l.Vb(27,"mat-form-field",5),l.Vb(28,"mat-label",2),l.Ic(29,"LABEL_PASSWORD_REPEAT"),l.Ub(),l.Vb(30,"input",14,15),l.dc("focus",function(){return e.error=null}),l.Ub(),l.Vb(32,"mat-hint",12),l.Ic(33),l.Ub(),l.Gc(34,Te,2,0,"mat-error",7),l.Gc(35,Ae,2,0,"mat-error",7),l.Ub(),l.Vb(36,"mat-slide-toggle",16,17),l.Ic(38),l.ic(39,"translate"),l.Ub(),l.Qb(40,"mat-password-strength",18,19),l.Gc(42,Ee,6,18,"mat-password-strength-info",20),l.Vb(43,"div",21),l.Vb(44,"mat-form-field",22),l.Vb(45,"mat-label"),l.Ic(46),l.ic(47,"translate"),l.Ub(),l.Vb(48,"mat-select",23),l.dc("valueChange",function(t){return e.selected=t})("focus",function(){return e.error=null}),l.Gc(49,Me,2,2,"mat-option",24),l.Ub(),l.Vb(50,"mat-hint",2),l.Qb(51,"i",10),l.Vb(52,"em",11),l.Ic(53,"CANNOT_BE_CHANGED_LATER"),l.Ub(),l.Ub(),l.Gc(54,Re,2,0,"mat-error",7),l.Ub(),l.Vb(55,"mat-form-field",5),l.Vb(56,"mat-label",2),l.Ic(57,"SECURITY_ANSWER"),l.Ub(),l.Vb(58,"input",25),l.dc("focus",function(){return e.error=null}),l.ic(59,"translate"),l.Ub(),l.Gc(60,Ne,2,0,"mat-error",7),l.Ub(),l.Ub(),l.Vb(61,"button",26),l.dc("click",function(){return e.save()}),l.Vb(62,"i",27),l.Ic(63," person_add "),l.Ub(),l.Ic(64),l.ic(65,"translate"),l.Ub(),l.Vb(66,"div",28),l.Vb(67,"a",29),l.Ic(68,"ALREADY_A_CUSTOMER"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(17),a=l.vc(31),i=l.vc(37),o=l.vc(41);l.Db(5),l.Jc(e.error),l.Db(5),l.nc("formControl",e.emailControl),l.Db(1),l.nc("ngIf",e.emailControl.invalid&&e.emailControl.errors.required),l.Db(1),l.nc("ngIf",e.emailControl.invalid&&e.emailControl.errors.email),l.Db(4),l.nc("formControl",e.passwordControl),l.Db(5),l.Jc(l.kc(22,27,"INVALID_PASSWORD_LENGTH",l.rc(38,_e))),l.Db(3),l.Kc("",(null==n.value?null:n.value.length)||0,"/20"),l.Db(1),l.nc("ngIf",e.passwordControl.invalid&&e.passwordControl.errors.required),l.Db(1),l.nc("ngIf",e.passwordControl.invalid&&(e.passwordControl.errors.minlength||e.passwordControl.errors.maxlength)),l.Db(4),l.nc("formControl",e.repeatPasswordControl),l.Db(3),l.Kc("",(null==a.value?null:a.value.length)||0,"/40"),l.Db(1),l.nc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.required),l.Db(1),l.nc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.notSame),l.Db(1),l.nc("color",o.color),l.Db(2),l.Jc(l.jc(39,30,"SHOW_PASSWORD_ADVICE")),l.Db(2),l.nc("password",n.value),l.Db(2),l.nc("ngIf",i.checked),l.Db(4),l.Kc(" ",l.jc(47,32,"LABEL_SECURITY_QUESTION")," "),l.Db(2),l.nc("formControl",e.securityQuestionControl)("value",e.selected),l.Db(1),l.nc("ngForOf",e.securityQuestions),l.Db(5),l.nc("ngIf",e.securityQuestionControl.invalid&&e.securityQuestionControl.errors.required),l.Db(4),l.nc("formControl",e.securityAnswerControl)("placeholder",l.jc(59,34,"SECURITY_ANSWER_PLACEHOLDER")),l.Db(2),l.nc("ngIf",e.securityAnswerControl.invalid&&e.securityAnswerControl.errors.required),l.Db(1),l.nc("disabled",e.emailControl.invalid||e.passwordControl.invalid||e.repeatPasswordControl.invalid||e.securityQuestionControl.invalid||e.securityAnswerControl.invalid),l.Db(3),l.Kc(" ",l.jc(65,36,"BTN_REGISTER")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.d,m.p,m.f,Y.l,ee.f,Ue.a,Se.a,ke.a,Y.k,S.a,N.d,ee.b,Se.b,De.k],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#registerButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}#alreadyACustomerLink[_ngcontent-%COMP%]{align-self:center;font-size:12px;margin-top:40px}.security-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}  mat-option .mat-option-text{font-size:14px}"]}),Be),Fe=o("Tj54"),je=o("ZFy/");function He(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_EMAIL"),l.Ub())}function Qe(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"INVALID_EMAIL"),l.Ub())}function ze(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_SECURITY_ANSWER "),l.Ub())}function We(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_NEW_PASSWORD "),l.Ub())}function Ke(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_PASSWORD_REPEAT "),l.Ub())}function qe(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," PASSWORDS_NOT_MATCHING "),l.Ub())}var Ye=function(){return{length:"5-40"}};function Je(t,e){1&t&&(l.Vb(0,"mat-error",28),l.Ic(1,"INVALID_PASSWORD_LENGTH "),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,Ye))}var $e=function(){return{value:8}};function Ze(t,e){if(1&t&&(l.Qb(0,"mat-password-strength-info",29),l.ic(1,"translate"),l.ic(2,"translate"),l.ic(3,"translate"),l.ic(4,"translate"),l.ic(5,"translate")),2&t){l.hc();var n=l.vc(55);l.nc("passwordComponent",n)("lowerCaseCriteriaMsg",l.jc(1,6,"LOWER_CASE_CRITERIA_MSG"))("upperCaseCriteriaMsg",l.jc(2,8,"UPPER_CASE_CRITERIA_MSG"))("digitsCriteriaMsg",l.jc(3,10,"DIGITS_CRITERIA_MSG"))("specialCharsCriteriaMsg",l.jc(4,12,"SPECIAL_CHARS_CRITERIA_MSG"))("minCharsCriteriaMsg",l.kc(5,14,"MIN_CHARS_CRITERIA_MSG",l.rc(17,$e)))}}g.b.add(I.E,C.c),g.a.watch();var Xe,tn,en=((Xe=function(){function t(e,n,a){var o;i(this,t),this.securityQuestionService=e,this.userService=n,this.translate=a,this.emailControl=new m.e("",[m.z.required,m.z.email]),this.securityQuestionControl=new m.e({disabled:!0,value:""},[m.z.required]),this.passwordControl=new m.e({disabled:!0,value:""},[m.z.required,m.z.minLength(5)]),this.repeatPasswordControl=new m.e({disabled:!0,value:""},[m.z.required,(o=this.passwordControl,function(t){return o.value!==t.value?{notSame:!0}:null})]),this.timeoutDuration=1e3}return r(t,[{key:"findSecurityQuestion",value:function(){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.securityQuestion=void 0,t.emailControl.value?t.securityQuestionService.findBy(t.emailControl.value).subscribe(function(e){e?(t.securityQuestion=e.question,t.securityQuestionControl.enable(),t.passwordControl.enable(),t.repeatPasswordControl.enable()):(t.securityQuestionControl.disable(),t.passwordControl.disable(),t.repeatPasswordControl.disable())},function(t){return t}):(t.securityQuestionControl.disable(),t.passwordControl.disable(),t.repeatPasswordControl.disable())},this.timeoutDuration)}},{key:"resetPassword",value:function(){var t=this;this.userService.resetPassword({email:this.emailControl.value,answer:this.securityQuestionControl.value,new:this.passwordControl.value,repeat:this.repeatPasswordControl.value}).subscribe(function(){t.error=void 0,t.translate.get("PASSWORD_SUCCESSFULLY_CHANGED").subscribe(function(e){t.confirmation=e},function(e){t.confirmation=e}),t.resetForm()},function(e){t.error=e.error,t.confirmation=void 0,t.resetErrorForm()})}},{key:"resetForm",value:function(){this.emailControl.setValue(""),this.emailControl.markAsPristine(),this.emailControl.markAsUntouched(),this.securityQuestionControl.setValue(""),this.securityQuestionControl.markAsPristine(),this.securityQuestionControl.markAsUntouched(),this.passwordControl.setValue(""),this.passwordControl.markAsPristine(),this.passwordControl.markAsUntouched(),this.repeatPasswordControl.setValue(""),this.repeatPasswordControl.markAsPristine(),this.repeatPasswordControl.markAsUntouched()}},{key:"resetErrorForm",value:function(){this.emailControl.markAsPristine(),this.emailControl.markAsUntouched(),this.securityQuestionControl.setValue(""),this.securityQuestionControl.markAsPristine(),this.securityQuestionControl.markAsUntouched(),this.passwordControl.setValue(""),this.passwordControl.markAsPristine(),this.passwordControl.markAsUntouched(),this.repeatPasswordControl.setValue(""),this.repeatPasswordControl.markAsPristine(),this.repeatPasswordControl.markAsUntouched()}}]),t}()).\u0275fac=function(t){return new(t||Xe)(l.Pb(we),l.Pb(R),l.Pb(U.e))},Xe.\u0275cmp=l.Jb({type:Xe,selectors:[["app-forgot-password"]],decls:61,vars:39,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[1,"confirmation",3,"hidden"],[1,"error",3,"hidden"],[1,"form-container"],["appearance","outline","color","accent"],["id","email","type","email","matInput","","placeholder","Enter your email","aria-label","Email address field",3,"formControl","ngModelChange"],["matSuffix","","matTooltipPosition","right","aria-label","Please enter your email address to proceed",3,"matTooltip"],["translate","",4,"ngIf"],["id","forgot-form",1,"form-container"],["id","securityAnswer","type","password","matInput","","aria-label","Field for the answer to the security question",3,"formControl","placeholder"],["matSuffix","","matTooltipPosition","right","aria-label","Please answer your selected security question",3,"matTooltip"],["id","newPassword","type","password","matInput","","placeholder","","aria-label","Field for New Password",3,"formControl"],["password",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["align","end"],["id","newPasswordRepeat","type","password","matInput","","placeholder","","aria-label","Field to confirm the new password",3,"formControl"],["repeatPassword",""],["translate","",3,"translateParams",4,"ngIf"],[3,"color"],["passwordInfoToggle",""],[3,"password"],["passwordStrength",""],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg",4,"ngIf"],["type","submit","id","resetButton","mat-raised-button","","color","primary","aria-label","Button to confirm the changes",3,"disabled","click"],["aria-hidden","true",1,"far","fa-edit","fa-lg"],["translate","",3,"translateParams"],[3,"passwordComponent","lowerCaseCriteriaMsg","upperCaseCriteriaMsg","digitsCriteriaMsg","specialCharsCriteriaMsg","minCharsCriteriaMsg"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_FORGOT_PASSWORD"),l.Ub(),l.Vb(4,"div",3),l.Ic(5),l.Ub(),l.Vb(6,"div",4),l.Ic(7),l.Ub(),l.Vb(8,"div",5),l.Vb(9,"mat-form-field",6),l.Vb(10,"mat-label",2),l.Ic(11,"LABEL_EMAIL"),l.Ub(),l.Vb(12,"input",7),l.dc("ngModelChange",function(){return e.findSecurityQuestion()}),l.Ub(),l.Vb(13,"mat-icon",8),l.ic(14,"translate"),l.Ic(15,"help_outline "),l.Ub(),l.Gc(16,He,2,0,"mat-error",9),l.Gc(17,Qe,2,0,"mat-error",9),l.Ub(),l.Ub(),l.Vb(18,"div",10),l.Vb(19,"mat-form-field",6),l.Vb(20,"mat-label",2),l.Ic(21,"LABEL_SECURITY_QUESTION"),l.Ub(),l.Qb(22,"input",11),l.Vb(23,"mat-icon",12),l.ic(24,"translate"),l.Ic(25,"help_outline "),l.Ub(),l.Gc(26,ze,2,0,"mat-error",9),l.Ub(),l.Vb(27,"mat-form-field",6),l.Vb(28,"mat-label",2),l.Ic(29,"LABEL_NEW_PASSWORD"),l.Ub(),l.Qb(30,"input",13,14),l.Vb(32,"mat-hint",2),l.Qb(33,"i",15),l.Vb(34,"em",16),l.Ic(35),l.ic(36,"translate"),l.Ub(),l.Ub(),l.Vb(37,"mat-hint",17),l.Ic(38),l.Ub(),l.Gc(39,We,2,0,"mat-error",9),l.Ub(),l.Vb(40,"mat-form-field",6),l.Vb(41,"mat-label",2),l.Ic(42,"LABEL_REPEAT_NEW_PASSWORD"),l.Ub(),l.Qb(43,"input",18,19),l.Vb(45,"mat-hint",17),l.Ic(46),l.Ub(),l.Gc(47,Ke,2,0,"mat-error",9),l.Gc(48,qe,2,0,"mat-error",9),l.Gc(49,Je,2,2,"mat-error",20),l.Ub(),l.Vb(50,"mat-slide-toggle",21,22),l.Ic(52),l.ic(53,"translate"),l.Ub(),l.Qb(54,"mat-password-strength",23,24),l.Gc(56,Ze,6,18,"mat-password-strength-info",25),l.Ub(),l.Vb(57,"button",26),l.dc("click",function(){return e.resetPassword()}),l.Qb(58,"i",27),l.Ic(59),l.ic(60,"translate"),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(31),a=l.vc(44),i=l.vc(51),o=l.vc(55);l.Db(4),l.nc("hidden",!(e.confirmation&&!e.emailControl.dirty&&!e.securityQuestionControl.dirty&&!e.passwordControl.dirty&&!e.repeatPasswordControl.dirty)),l.Db(1),l.Kc(" ",e.confirmation," "),l.Db(1),l.nc("hidden",!(e.error&&!e.emailControl.dirty&&!e.securityQuestionControl.dirty&&!e.passwordControl.dirty&&!e.repeatPasswordControl.dirty)),l.Db(1),l.Kc(" ",e.error," "),l.Db(5),l.nc("formControl",e.emailControl),l.Db(1),l.oc("matTooltip",l.jc(14,27,"MANDATORY_EMAIL")),l.Db(3),l.nc("ngIf",e.emailControl.invalid&&e.emailControl.errors.required),l.Db(1),l.nc("ngIf",e.emailControl.invalid&&e.emailControl.errors.email),l.Db(5),l.oc("placeholder",e.securityQuestion),l.nc("formControl",e.securityQuestionControl),l.Db(1),l.oc("matTooltip",l.jc(24,29,"MANDATORY_SECURITY_ANSWER")),l.Db(3),l.nc("ngIf",e.securityQuestionControl.invalid&&e.securityQuestionControl.errors.required),l.Db(4),l.nc("formControl",e.passwordControl),l.Db(5),l.Jc(l.kc(36,31,"INVALID_PASSWORD_LENGTH",l.rc(38,Ye))),l.Db(3),l.Kc("",(null==n.value?null:n.value.length)||0,"/20"),l.Db(1),l.nc("ngIf",e.passwordControl.invalid&&e.passwordControl.errors.required),l.Db(4),l.nc("formControl",e.repeatPasswordControl),l.Db(3),l.Kc("",(null==a.value?null:a.value.length)||0,"/20"),l.Db(1),l.nc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.required),l.Db(1),l.nc("ngIf",e.repeatPasswordControl.invalid&&e.repeatPasswordControl.errors.notSame),l.Db(1),l.nc("ngIf",e.repeatPasswordControl.invalid&&((null==e.repeatPasswordControl?null:e.repeatPasswordControl.errors.minlength)||(null==e.repeatPasswordControl?null:e.repeatPasswordControl.errors.maxlength))),l.Db(1),l.nc("color",o.color),l.Db(2),l.Jc(l.jc(53,34,"SHOW_PASSWORD_ADVICE")),l.Db(2),l.nc("password",n.value),l.Db(2),l.nc("ngIf",i.checked),l.Db(1),l.nc("disabled",e.emailControl.invalid||e.securityQuestionControl.invalid||e.passwordControl.invalid||e.repeatPasswordControl.invalid||e.repeatPasswordControl.disabled),l.Db(2),l.Kc(" ",l.jc(60,36,"BTN_CHANGE")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.d,m.p,m.f,Fe.a,ee.h,je.a,Y.l,ee.f,Ue.a,Se.a,S.a,ee.b,Se.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}button[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:30px;width:60%}"]}),Xe),nn=o("iELJ"),an=((tn=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/products"}return r(t,[{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t,"/reviews")).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"create",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t,"/reviews"),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"patch",value:function(t){return this.http.patch(this.host+"/reviews",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"like",value:function(t){return this.http.post(this.host+"/reviews",{id:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||tn)(l.Zb(b.b))},tn.\u0275prov=l.Lb({token:tn,factory:tn.\u0275fac,providedIn:"root"}),tn);function on(t,e){1&t&&(l.Vb(0,"mat-error",1),l.Ic(1,"MANDATORY_REVIEW"),l.Ub())}g.b.add(I.z,I.b),g.a.watch();var rn,cn=((rn=function(){function t(e,n,a,o,r){i(this,t),this.data=e,this.productReviewService=n,this.dialogRef=a,this.snackBar=o,this.snackBarHelperService=r,this.editReviewControl=new m.e("",[m.z.required,m.z.minLength(1),m.z.maxLength(160)]),this.error=null}return r(t,[{key:"ngOnInit",value:function(){this.editReviewControl.setValue(this.data.reviewData.message)}},{key:"editReview",value:function(){var t=this;this.productReviewService.patch({id:this.data.reviewData._id,message:this.editReviewControl.value}).subscribe(function(){t.dialogRef.close()},function(e){console.log(e),t.error=e}),this.snackBarHelperService.open("CONFIRM_CHANGES_SAVED")}}]),t}()).\u0275fac=function(t){return new(t||rn)(l.Pb(nn.a),l.Pb(an),l.Pb(nn.g),l.Pb(W.a),l.Pb(K))},rn.\u0275cmp=l.Jb({type:rn,selectors:[["app-product-review-edit"]],decls:27,vars:13,consts:[["fxLayout","column",1,"container","mat-typography"],["translate",""],["appearance","outline","color","accent","hintLabel","Max 160 characters","floatLabel","always"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","2","maxlength","160","matAutosizeMaxRows","4","aria-label","Text field to edit a product review",3,"formControl","placeholder","focus"],["textPut",""],["align","end"],["translate","",4,"ngIf"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog"],[1,"material-icons"],["type","submit","mat-raised-button","","color","primary","aria-label","Send the review",2,"margin-left","5px",3,"disabled","click"]],template:function(t,e){if(1&t&&(l.Vb(0,"mat-dialog-content"),l.Vb(1,"div",0),l.Vb(2,"h1",1),l.Ic(3,"LABEL_EDIT_REVIEW"),l.Ub(),l.Vb(4,"div"),l.Vb(5,"mat-form-field",2),l.Vb(6,"mat-label",1),l.Ic(7,"LABEL_REVIEW"),l.Ub(),l.Vb(8,"textarea",3,4),l.dc("focus",function(){return e.error=null}),l.ic(10,"translate"),l.Ub(),l.Vb(11,"mat-hint",5),l.Ic(12),l.Ub(),l.Gc(13,on,2,0,"mat-error",6),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(14,"mat-dialog-actions",5),l.Vb(15,"button",7),l.Vb(16,"i",8),l.Ic(17," close "),l.Ub(),l.Vb(18,"span"),l.Ic(19),l.ic(20,"translate"),l.Ub(),l.Ub(),l.Vb(21,"button",9),l.dc("click",function(){return e.editReview()}),l.Vb(22,"i",8),l.Ic(23," send "),l.Ub(),l.Vb(24,"span"),l.Ic(25),l.ic(26,"translate"),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(9);l.Db(8),l.oc("placeholder",l.jc(10,7,"WRITE_REVIEW_PLACEHOLDER")),l.nc("formControl",e.editReviewControl),l.Db(4),l.Kc("",(null==n.value?null:n.value.length)||0,"/160"),l.Db(1),l.nc("ngIf",e.editReviewControl.invalid),l.Db(6),l.Kc(" ",l.jc(20,9,"BTN_CLOSE"),""),l.Db(2),l.nc("disabled",e.editReviewControl.invalid),l.Db(4),l.Kc(" ",l.jc(26,11,"BTN_SUBMIT"),"")}},directives:[nn.e,w.d,U.a,ee.c,ee.g,ne.b,ne.d,m.d,m.k,m.p,m.f,ee.f,Y.l,nn.c,S.a,nn.d,ee.b],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),rn),sn=o("BSbQ"),ln=o("o4Yh");function un(t,e){if(1&t&&(l.Vb(0,"div",24),l.ic(1,"translate"),l.Vb(2,"span",25),l.Qb(3,"i",26),l.Vb(4,"span",27),l.Ic(5),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.hc();l.oc("matTooltip",l.jc(1,2,"LABEL_BONUS")),l.Db(5),l.Jc(n.data.productData.points)}}function bn(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div",29),l.Vb(1,"div",30),l.Vb(2,"div",31),l.dc("click",function(){l.yc(n);var t=e.$implicit,a=l.hc(2);return"Anonymous"!==t.author&&t.author===a.author&&a.editReview(t)}),l.ic(3,"translate"),l.Vb(4,"cite"),l.Ic(5),l.Ub(),l.Vb(6,"p"),l.Ic(7),l.Ub(),l.Ub(),l.Vb(8,"div"),l.Vb(9,"button",32),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).likeReview(t)}),l.Vb(10,"span",25),l.Vb(11,"mat-icon"),l.Ic(12,"thumb_up"),l.Ub(),l.Vb(13,"span",33),l.Ic(14),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc(2);l.Db(2),l.oc("matTooltipDisabled",a.author!==i.author),l.oc("matTooltip",l.jc(3,6,"LABEL_EDIT_REVIEW")),l.Db(3),l.Jc(a.author),l.Db(2),l.Jc(a.message),l.Db(2),l.nc("disabled",a.liked||!i.isLoggedIn()),l.Db(5),l.Jc(a.likesCount)}}function dn(t,e){if(1&t&&(l.Vb(0,"div"),l.Gc(1,bn,15,8,"div",28),l.ic(2,"async"),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("ngForOf",l.jc(2,1,n.reviews$))}}function mn(t,e){1&t&&(l.Vb(0,"div"),l.Vb(1,"span",34),l.Ic(2," EMPTY_REVIEW_LIST "),l.Ub(),l.Ub())}var fn=function(){return{length:"160"}};g.b.add(I.z,I.b,I.db,I.S,I.k),g.a.watch();var pn,hn,gn,vn,In=((hn=function(){function t(e,n,a,o,r,c){i(this,t),this.dialog=e,this.data=n,this.productReviewService=a,this.userService=o,this.snackBar=r,this.snackBarHelperService=c,this.author="Anonymous",this.reviewControl=new m.e("",[m.z.maxLength(160)])}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.data.productData.points=Math.round(this.data.productData.price/10),this.reviews$=this.productReviewService.get(this.data.productData.id),this.userSubscription=this.userService.whoAmI().subscribe(function(e){t.author=(null==e?void 0:e.email)?e.email:"Anonymous"},function(t){return console.log(t)})}},{key:"ngOnDestroy",value:function(){this.userSubscription&&this.userSubscription.unsubscribe()}},{key:"addReview",value:function(t){var e=this,n={message:t.value,author:this.author};t.value="",this.productReviewService.create(this.data.productData.id,n).subscribe(function(){e.reviews$=e.productReviewService.get(e.data.productData.id)},function(t){return console.log(t)}),this.snackBarHelperService.open("CONFIRM_REVIEW_SAVED")}},{key:"editReview",value:function(t){var e=this;this.dialog.open(cn,{width:"500px",height:"max-content",data:{reviewData:t}}).afterClosed().subscribe(function(){return e.reviews$=e.productReviewService.get(e.data.productData.id)})}},{key:"likeReview",value:function(t){var e=this;this.productReviewService.like(t._id).subscribe(function(){console.log("Liked "+t._id)}),setTimeout(function(){return e.reviews$=e.productReviewService.get(e.data.productData.id)},200)}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}}]),t}()).\u0275fac=function(t){return new(t||hn)(l.Pb(nn.b),l.Pb(nn.a),l.Pb(an),l.Pb(R),l.Pb(W.a),l.Pb(K))},hn.\u0275cmp=l.Jb({type:hn,selectors:[["app-product-details"]],decls:59,vars:36,consts:[["fxLayout","column",1,"container","mat-typography"],["fxLayout","row","fxLayout.lt-sm","column","fxLayoutGap","20px"],["fxFlex","noshrink"],[1,"img-thumbnail",3,"src","alt"],[3,"innerHTML"],[1,"item-price"],["aria-label","Bonus points when buying the product",3,"matTooltip",4,"ngIf"],[1,"detail-divider"],["mat-button","",2,"height","0","position","absolute"],["aria-label","Expand for Reviews",1,"mat-elevation-z0"],["translate","",2,"margin-right","5px"],[4,"ngIf","ngIfElse"],["emptyResult",""],["translate",""],["appearance","outline","color","accent","floatLabel","always"],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["cols","50","matInput","","matTextareaAutosize","","matAutosizeMinRows","2","maxlength","160","matAutosizeMaxRows","4","aria-label","Text field to review a product",3,"formControl","placeholder"],["textPut",""],["align","end"],["align","end",1,"dialogAction"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons"],[1,"material-icons"],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Send the review",1,"buttons",2,"margin-bottom","5px","margin-top","5px","margin-left","5px",3,"disabled","click"],["aria-label","Bonus points when buying the product",3,"matTooltip"],[1,"fa-2x","fa-layers","fa-fw"],[1,"fas","fa-crown"],[1,"fa-layers-counter","fa-layers-bottom-left","fa-2x","warn-notification",2,"font-size","47px"],["class","comment",4,"ngFor","ngForOf"],[1,"comment"],["fxLayout","row"],["matTooltipPosition","right",1,"review-text",3,"matTooltipDisabled","matTooltip","click"],["mat-icon-button","","aria-label","Rate a helpful review",1,"rw-button",3,"disabled","click"],[1,"fa-layers-counter","fa-layers-bottom-right","accent-notification",2,"font-size","32px"],["translate","",1,"noResultText"]],template:function(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-dialog-content"),l.Vb(1,"div",0),l.Vb(2,"div",1),l.Vb(3,"div",2),l.Qb(4,"img",3),l.Ub(),l.Vb(5,"div"),l.Vb(6,"h1"),l.Ic(7),l.Ub(),l.Qb(8,"div",4),l.Qb(9,"br"),l.Vb(10,"div"),l.Vb(11,"p",5),l.Ic(12),l.Ub(),l.Gc(13,un,6,4,"div",6),l.Ub(),l.Ub(),l.Ub(),l.Qb(14,"mat-divider",7),l.Qb(15,"button",8),l.Vb(16,"mat-expansion-panel",9),l.Vb(17,"mat-expansion-panel-header"),l.Vb(18,"mat-panel-title"),l.Vb(19,"span",10),l.Ic(20,"LABEL_REVIEWS"),l.Ub(),l.Vb(21,"span"),l.Ic(22),l.ic(23,"async"),l.Ub(),l.Ub(),l.Ub(),l.Qb(24,"button",8),l.Gc(25,dn,3,3,"div",11),l.ic(26,"async"),l.Gc(27,mn,3,0,"ng-template",null,12,l.Hc),l.Ub(),l.Vb(29,"div"),l.Qb(30,"mat-divider",7),l.Vb(31,"h4",13),l.Ic(32,"WRITE_REVIEW"),l.Ub(),l.Vb(33,"mat-form-field",14),l.Vb(34,"mat-label",13),l.Ic(35,"LABEL_REVIEW"),l.Ub(),l.Vb(36,"mat-hint",13),l.Qb(37,"i",15),l.Vb(38,"em",16),l.Ic(39),l.ic(40,"translate"),l.Ub(),l.Ub(),l.Qb(41,"textarea",17,18),l.ic(43,"translate"),l.Vb(44,"mat-hint",19),l.Ic(45),l.Ub(),l.Ub(),l.Vb(46,"mat-dialog-actions",20),l.Vb(47,"button",21),l.Vb(48,"i",22),l.Ic(49," close "),l.Ub(),l.Vb(50,"span"),l.Ic(51),l.ic(52,"translate"),l.Ub(),l.Ub(),l.Vb(53,"button",23),l.dc("click",function(){l.yc(n);var t=l.vc(42);return e.addReview(t)}),l.Vb(54,"i",22),l.Ic(55," send "),l.Ub(),l.Vb(56,"span"),l.Ic(57),l.ic(58,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a,i,o=l.vc(28),r=l.vc(42);l.Db(4),l.oc("alt",e.data.productData.name),l.nc("src","assets/public/images/products/"+e.data.productData.image,l.Bc),l.Db(3),l.Jc(e.data.productData.name),l.Db(1),l.nc("innerHTML",e.data.productData.description,l.zc),l.Db(4),l.Kc("",e.data.productData.price,"\xa4"),l.Db(1),l.nc("ngIf",e.data.productData.points>0),l.Db(9),l.Kc("(",null==(a=l.jc(23,22,e.reviews$))?null:a.length,")"),l.Db(3),l.nc("ngIf",(null==(i=l.jc(26,24,e.reviews$))?null:i.length)>=1)("ngIfElse",o),l.Db(6),l.Dc("display",e.isLoggedIn()?"block":"none"),l.Db(2),l.Dc("display",e.isLoggedIn()?"block":"none"),l.Db(6),l.Jc(l.kc(40,26,"MAX_TEXTAREA_LENGTH",l.rc(35,fn))),l.Db(2),l.oc("placeholder",l.jc(43,29,"WRITE_REVIEW_PLACEHOLDER")),l.nc("formControl",e.reviewControl),l.Db(4),l.Kc("",(null==r.value?null:r.value.length)||0,"/160"),l.Db(6),l.Kc(" ",l.jc(52,31,"BTN_CLOSE"),""),l.Db(2),l.Dc("display",e.isLoggedIn()?"block":"none"),l.nc("disabled",!r.value.trim()),l.Db(4),l.Kc(" ",l.jc(58,33,"BTN_SUBMIT")," ")}},directives:[nn.e,w.d,w.e,w.b,Y.l,sn.a,S.a,ln.b,ln.d,ln.e,U.a,ee.c,ee.g,ee.f,ne.b,ne.d,m.d,m.k,m.p,m.f,nn.c,nn.d,je.a,Y.k,Fe.a],pipes:[Y.b,U.d],styles:[".img-thumbnail[_ngcontent-%COMP%]{height:auto;max-width:100%;padding:0;width:200px}mat-form-field[_ngcontent-%COMP%]{width:100%}p[_ngcontent-%COMP%]{word-break:break-all}.btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){left:530px;width:50px}.detail-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}.rw-button[_ngcontent-%COMP%]{margin-left:8px}.comment[_ngcontent-%COMP%]{margin-bottom:8px}.review-link[_ngcontent-%COMP%]{font-size:11px;margin-top:-10px;text-decoration:none}#submitButton[_ngcontent-%COMP%]{float:right}.item-price[_ngcontent-%COMP%]{float:left;margin-right:40px;margin-top:8px}.noResultText[_ngcontent-%COMP%]{display:block;font-size:small;margin-left:auto;margin-right:auto;text-align:center}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}.buttons[_ngcontent-%COMP%]{padding-left:13px;padding-right:13px}"]}),hn),Cn=((pn=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Products"}return r(t,[{key:"search",value:function(t){return this.http.get("".concat(this.hostServer,"/rest/products/search?q=").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t,"?d=").concat(encodeURIComponent((new Date).toDateString()))).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||pn)(l.Zb(b.b))},pn.\u0275prov=l.Lb({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn),yn=o("5QHs"),wn=o("cp0P"),Un=o("jifJ"),Sn=((vn=function(){function t(e){var n=this;i(this,t),this.ngZone=e,this.ngZone.runOutsideAngular(function(){n._socket=Object(Un.io)(window.location.origin,{path:(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")+"socket.io"})})}return r(t,[{key:"socket",value:function(){return this._socket}}]),t}()).\u0275fac=function(t){return new(t||vn)(l.Zb(l.B))},vn.\u0275prov=l.Lb({token:vn,factory:vn.\u0275fac,providedIn:"root"}),vn),kn=((gn=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Quantitys"}return r(t,[{key:"getAll",value:function(){return this.http.get(this.host+"/").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||gn)(l.Zb(b.b))},gn.\u0275prov=l.Lb({token:gn,factory:gn.\u0275fac,providedIn:"root"}),gn),Dn=o("40+f");function Vn(t,e){if(1&t&&(l.Vb(0,"div"),l.Vb(1,"span"),l.Ic(2),l.ic(3,"translate"),l.Ub(),l.Qb(4,"span",9),l.Ub()),2&t){var n=l.hc();l.Db(2),l.Kc("",l.jc(3,2,"TITLE_SEARCH_RESULTS")," - "),l.Db(2),l.nc("innerHTML",n.searchValue,l.zc)}}function xn(t,e){1&t&&(l.Vb(0,"div"),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Jc(l.jc(2,1,"TITLE_ALL_PRODUCTS")))}var On=function(t){return{quantity:t}};function _n(t,e){if(1&t&&(l.Vb(0,"div",24),l.Vb(1,"span",25),l.Ic(2,"LABEL_ONLY_QUANTITY_LEFT"),l.Ub(),l.Ub()),2&t){var n=l.hc().$implicit;l.Db(1),l.nc("translateParams",l.sc(1,On,n.quantity))}}function Pn(t,e){1&t&&(l.Vb(0,"div",26),l.Vb(1,"span",27),l.Ic(2,"LABEL_SOLD_OUT"),l.Ub(),l.Ub())}function Tn(t,e){if(1&t&&(l.Vb(0,"span"),l.Ic(1),l.Ub()),2&t){var n=l.hc().$implicit;l.Db(1),l.Kc("",n.price,"\xa4")}}function An(t,e){if(1&t&&(l.Vb(0,"span"),l.Vb(1,"s"),l.Ic(2),l.Ub(),l.Ic(3),l.Ub()),2&t){var n=l.hc().$implicit;l.Db(2),l.Jc(n.price),l.Db(1),l.Kc(" ",n.deluxePrice,"\xa4")}}function Ln(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",28),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc(2).addToBasket(t.id)}),l.Vb(1,"span",27),l.Ic(2,"ADD_BASKET"),l.Ub(),l.Ub()}}function En(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-grid-tile"),l.Vb(1,"mat-card",13),l.Gc(2,_n,3,3,"div",14),l.Gc(3,Pn,3,0,"div",15),l.Vb(4,"div",16),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).showDetail(t)}),l.Vb(5,"div",17),l.Qb(6,"img",18),l.Ub(),l.Vb(7,"div",19),l.Vb(8,"div",20),l.Ic(9),l.Ub(),l.Vb(10,"div",21),l.Gc(11,Tn,2,1,"span",3),l.Gc(12,An,4,2,"span",3),l.Ub(),l.Ub(),l.Ub(),l.Vb(13,"div",22),l.Gc(14,Ln,3,0,"button",23),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc(2);l.Db(1),l.Dc("width","100%"),l.Db(1),l.nc("ngIf",a.quantity<=5&&a.quantity>0),l.Db(1),l.nc("ngIf",a.quantity<=0),l.Db(3),l.oc("alt",a.name),l.nc("src","assets/public/images/products/"+a.image,l.Bc),l.Db(3),l.Kc(" ",a.name," "),l.Db(2),l.nc("ngIf",!i.isDeluxe()||a.price===a.deluxePrice),l.Db(1),l.nc("ngIf",i.isDeluxe()&&a.price!==a.deluxePrice),l.Db(2),l.nc("ngIf",i.isLoggedIn())}}function Mn(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div"),l.Vb(1,"mat-grid-list",10,11),l.dc("resize",function(t){return l.yc(n),l.hc().onResize(t)},!1,l.xc),l.Gc(3,En,15,10,"mat-grid-tile",12),l.ic(4,"async"),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(1),l.nc("cols",a.breakpoint),l.Db(2),l.nc("ngForOf",l.jc(4,2,a.gridDataSource))}}function Rn(t,e){1&t&&(l.Vb(0,"mat-card",29),l.Qb(1,"img",30),l.Vb(2,"mat-card-title"),l.Vb(3,"span",31),l.Ic(4," NO_SEARCH_RESULT "),l.Ub(),l.Ub(),l.Vb(5,"mat-card-content"),l.Vb(6,"span",31),l.Ic(7," EMPTY_SEARCH_RESULT "),l.Ub(),l.Ub(),l.Ub())}g.b.add(I.m,I.e),g.a.watch();var Nn,Bn,Gn=((Bn=function(){function n(t,e,a,o,r,c,s,l,u,b,d,m,f){i(this,n),this.deluxeGuard=t,this.dialog=e,this.productService=a,this.quantityService=o,this.basketService=r,this.translateService=c,this.router=s,this.route=l,this.sanitizer=u,this.ngZone=b,this.io=d,this.snackBarHelperService=m,this.cdRef=f,this.displayedColumns=["Image","Product","Description","Price","Select"],this.pageSizeOptions=[],this.resultsLength=0,this.paginator=null,this.breakpoint=6,this.emptyState=!1}return r(n,[{key:"ngAfterViewInit",value:function(){var n=this,a=this.productService.search(""),i=this.quantityService.getAll();Object(wn.a)([i,a]).subscribe(function(a){var i=e(a,2),o=i[0],r=i[1],c=[];n.tableData=r,n.trustProductDescription(r);var s,l=t(r);try{for(l.s();!(s=l.n()).done;){var u=s.value;c.push({name:u.name,price:u.price,deluxePrice:u.deluxePrice,id:u.id,image:u.image,description:u.description})}}catch(h){l.e(h)}finally{l.f()}var b,d=t(o);try{var m=function(){var t=b.value,e=c.find(function(e){return e.id===t.ProductId});void 0!==e&&(e.quantity=t.quantity)};for(d.s();!(b=d.n()).done;)m()}catch(h){d.e(h)}finally{d.f()}n.dataSource=new q.o(c);for(var f=1;f<=Math.ceil(n.dataSource.data.length/12);f++)n.pageSizeOptions.push(12*f);n.paginator.pageSizeOptions=n.pageSizeOptions,n.dataSource.paginator=n.paginator,n.gridDataSource=n.dataSource.connect(),n.resultsLength=n.dataSource.data.length,n.filterTable(),n.routerSubscription=n.router.events.subscribe(function(){n.filterTable()});var p=n.route.snapshot.queryParams.challenge;p&&n.route.snapshot.url.join("").match(/hacking-instructor/)&&n.startHackingInstructor(decodeURIComponent(p)),window.innerWidth<2600?(n.breakpoint=4,window.innerWidth<1740&&(n.breakpoint=3,window.innerWidth<1280&&(n.breakpoint=2,window.innerWidth<850&&(n.breakpoint=1)))):n.breakpoint=6,n.cdRef.detectChanges()},function(t){return console.log(t)})}},{key:"trustProductDescription",value:function(t){for(var e=0;e<t.length;e++)t[e].description=this.sanitizer.bypassSecurityTrustHtml(t[e].description)}},{key:"ngOnDestroy",value:function(){this.routerSubscription&&this.routerSubscription.unsubscribe(),this.productSubscription&&this.productSubscription.unsubscribe(),this.dataSource&&this.dataSource.disconnect()}},{key:"filterTable",value:function(){var t=this,e=this.route.snapshot.queryParams.q;e?(e=e.trim(),this.ngZone.runOutsideAngular(function(){t.io.socket().emit("verifyLocalXssChallenge",e)}),this.dataSource.filter=e.toLowerCase(),this.searchValue=this.sanitizer.bypassSecurityTrustHtml(e),this.gridDataSource.subscribe(function(e){t.emptyState=0===e.length})):(this.dataSource.filter="",this.searchValue=void 0,this.emptyState=!1)}},{key:"startHackingInstructor",value:function(t){console.log('Starting instructions for challenge "'.concat(t,'"')),o.e(6).then(o.bind(null,"s2oO")).then(function(e){e.startHackingInstructorFor(t)})}},{key:"showDetail",value:function(t){this.dialog.open(In,{width:"500px",height:"max-content",data:{productData:t}})}},{key:"addToBasket",value:function(t){var e=this;this.basketService.find(Number(sessionStorage.getItem("bid"))).subscribe(function(n){for(var a=n.Products,i=!1,o=0;o<a.length;o++)if(a[o].id===t){i=!0,e.basketService.get(a[o].BasketItem.id).subscribe(function(t){e.basketService.put(t.id,{quantity:t.quantity+1}).subscribe(function(t){e.productService.get(t.ProductId).subscribe(function(t){e.translateService.get("BASKET_ADD_SAME_PRODUCT",{product:t.name}).subscribe(function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()},function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()})},function(t){return console.log(t)})},function(t){var n;e.snackBarHelperService.open(null===(n=t.error)||void 0===n?void 0:n.error,"errorBar"),console.log(t)})},function(t){return console.log(t)});break}i||e.basketService.save({ProductId:t,BasketId:sessionStorage.getItem("bid"),quantity:1}).subscribe(function(t){e.productService.get(t.ProductId).subscribe(function(t){e.translateService.get("BASKET_ADD_PRODUCT",{product:t.name}).subscribe(function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()},function(t){e.snackBarHelperService.open(t,"confirmBar"),e.basketService.updateNumberOfCartItems()})},function(t){return console.log(t)})},function(t){var n;e.snackBarHelperService.open(null===(n=t.error)||void 0===n?void 0:n.error,"errorBar"),console.log(t)})},function(t){return console.log(t)})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"onResize",value:function(t){t.target.innerWidth<2600?(this.breakpoint=4,t.target.innerWidth<1740&&(this.breakpoint=3,t.target.innerWidth<1280&&(this.breakpoint=2,t.target.innerWidth<850&&(this.breakpoint=1)))):this.breakpoint=6}},{key:"isDeluxe",value:function(){return this.deluxeGuard.isDeluxe()}}]),n}()).\u0275fac=function(t){return new(t||Bn)(l.Pb(z),l.Pb(nn.b),l.Pb(Cn),l.Pb(kn),l.Pb(G),l.Pb(U.e),l.Pb(N.b),l.Pb(N.a),l.Pb(s.c),l.Pb(l.B),l.Pb(Sn),l.Pb(K),l.Pb(l.h))},Bn.\u0275cmp=l.Jb({type:Bn,selectors:[["app-search-result"]],viewQuery:function(t,e){var n;1&t&&l.Nc(yn.a,3),2&t&&l.uc(n=l.ec())&&(e.paginator=n.first)},decls:12,vars:7,consts:[["fxLayoutAlign","center"],[1,"table-container","custom-slate"],[1,"heading","mat-elevation-z6"],[4,"ngIf"],["id","search-result-heading"],[4,"ngIf","ngIfElse"],["emptyResult",""],["color","accent",1,"mat-elevation-z6",3,"pageSize","pageSizeOptions","length"],["paginator",""],["id","searchValue",3,"innerHTML"],["gutterSize","30px",3,"cols","resize"],["table",""],[4,"ngFor","ngForOf"],[1,"mat-elevation-z6","ribbon-card"],["class","ribbon ribbon-top-left",4,"ngIf"],["class","ribbon ribbon-top-left ribbon-sold",4,"ngIf"],["aria-label","Click for more information about the product","matTooltip","Click for more information","matTooltipPosition","above",1,"product",3,"click"],["fxFlexAlign","center","fxFlex","60%",1,"img-container"],["mat-card-image","","role","button",1,"img-responsive","img-thumbnail",3,"src","alt"],["fxFlexAlign","center","fxFlex","40%"],[1,"item-name"],[1,"item-price"],[2,"display","flex","justify-content","center"],["aria-label","Add to Basket","class","btn-basket","color","primary","mat-button","","mat-raised-button","",3,"click",4,"ngIf"],[1,"ribbon","ribbon-top-left"],["translate","",3,"translateParams"],[1,"ribbon","ribbon-top-left","ribbon-sold"],["translate",""],["aria-label","Add to Basket","color","primary","mat-button","","mat-raised-button","",1,"btn-basket",3,"click"],[1,"mat-elevation-z6","emptyState"],["alt"," No results found","src","assets/public/images/products/no-results.png",1,"img-responsive","noResult"],["translate","",1,"noResultText"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Gc(3,Vn,5,4,"div",3),l.Gc(4,xn,3,3,"div",3),l.Qb(5,"div",4),l.Ub(),l.Gc(6,Mn,5,4,"div",5),l.Gc(7,Rn,8,0,"ng-template",null,6,l.Hc),l.Qb(9,"mat-divider"),l.Qb(10,"mat-paginator",7,8),l.Ub(),l.Ub()),2&t){var n=l.vc(8);l.Db(3),l.nc("ngIf",e.searchValue),l.Db(1),l.nc("ngIf",!e.searchValue),l.Db(2),l.nc("ngIf",!e.emptyState)("ngIfElse",n),l.Db(4),l.nc("pageSize",12)("pageSizeOptions",e.pageSizeOptions)("length",e.resultsLength)}},directives:[w.c,Y.l,sn.a,yn.a,Dn.a,Y.k,Dn.c,y.a,je.a,w.a,w.b,y.d,U.a,S.a,y.g,y.b],pipes:[U.d,Y.b],styles:['.table-container[_ngcontent-%COMP%]{min-width:350px;width:80%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}.img-thumbnail[_ngcontent-%COMP%]{width:100%}.product[_ngcontent-%COMP%]{cursor:pointer}.btn-basket[_ngcontent-%COMP%]{bottom:10%}mat-card[_ngcontent-%COMP%]{height:calc(100% - 70px)}.item-price[_ngcontent-%COMP%]{font-size:medium;margin-top:12px;text-align:center}.item-name[_ngcontent-%COMP%]{font-size:large;text-align:center}.emptyState[_ngcontent-%COMP%]{display:block;height:auto!important;margin:20px auto;width:50%}.noResult[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.noResultText[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}.ribbon-card[_ngcontent-%COMP%]{position:relative}.ribbon[_ngcontent-%COMP%]{height:150px;overflow:hidden;pointer-events:none;position:absolute;width:150px}.ribbon[_ngcontent-%COMP%]:before{content:"";z-index:-1}.ribbon[_ngcontent-%COMP%]:before, .ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;position:absolute}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{box-shadow:0 5px 10px rgba(0,0,0,.1);color:#fff;font:700 18px/1 Lato,sans-serif;padding:15px 0;text-align:center;text-shadow:0 1px 1px rgba(0,0,0,.2);width:225px}.ribbon-top-left[_ngcontent-%COMP%]{left:-10px;top:-10px}.ribbon-top-left[_ngcontent-%COMP%]:before{border-left-color:transparent;border-top-color:transparent;right:0;top:0}.ribbon-top-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{right:-25px;top:30px;transform:rotate(-45deg)}']}),Bn),Fn=((Nn=function(){function t(){i(this,t)}return r(t,[{key:"nativeWindow",get:function(){return window}}]),t}()).\u0275fac=function(t){return new(t||Nn)},Nn.\u0275prov=l.Lb({token:Nn,factory:Nn.\u0275fac,providedIn:"root"}),Nn),jn=o("pMoy");function Hn(t,e){if(1&t&&(l.Vb(0,"div",20),l.Ic(1),l.Ub()),2&t){var n=l.hc();l.Db(1),l.Jc(n.error)}}function Qn(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1,"MANDATORY_EMAIL"),l.Ub())}function zn(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",21),l.dc("click",function(){l.yc(n);var t=l.hc();return t.hide=!t.hide}),l.ic(1,"translate"),l.Qb(2,"i",22),l.Ub()}2&t&&l.oc("matTooltip",l.jc(1,1,"SHOW_PWD_TOOLTIP"))}function Wn(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",23),l.dc("click",function(){l.yc(n);var t=l.hc();return t.hide=!t.hide}),l.ic(1,"translate"),l.Qb(2,"i",24),l.Ub()}2&t&&l.oc("matTooltip",l.jc(1,1,"HIDE_PWD_TOOLTIP"))}function Kn(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1,"MANDATORY_PASSWORD"),l.Ub())}function qn(t,e){1&t&&(l.Vb(0,"div",25),l.Vb(1,"div",26),l.Qb(2,"div"),l.Ub(),l.Vb(3,"div",27),l.Ic(4,"LABEL_OR"),l.Ub(),l.Vb(5,"div",26),l.Qb(6,"div"),l.Ub(),l.Ub())}function Yn(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",28),l.dc("click",function(){return l.yc(n),l.hc().googleLogin()}),l.Qb(1,"i",29),l.Ic(2),l.ic(3,"translate"),l.Ub()}2&t&&(l.Db(2),l.Kc(" ",l.jc(3,1,"BTN_GOOGLE_LOGIN")," "))}g.b.add(I.v,I.m,I.n,v.f),g.a.watch();var Jn,$n=((Jn=function(){function t(e,n,a,o,r,c,s,l){i(this,t),this.configurationService=e,this.userService=n,this.windowRefService=a,this.cookieService=o,this.router=r,this.formSubmitService=c,this.basketService=s,this.ngZone=l,this.emailControl=new m.e("",[m.z.required]),this.passwordControl=new m.e("",[m.z.required]),this.hide=!0,this.rememberMe=new m.e(!1),this.clientId="1005568560502-6hm16lef8oh46hr2d98vf2ohlnj4nfhq.apps.googleusercontent.com",this.oauthUnavailable=!0,this.redirectUri=""}return r(t,[{key:"ngOnInit",value:function(){var t=this,e=localStorage.getItem("email");e?(this.user={},this.user.email=e,this.rememberMe.setValue(!0)):this.rememberMe.setValue(!1),this.redirectUri="".concat(this.windowRefService.nativeWindow.location.protocol,"//").concat(this.windowRefService.nativeWindow.location.host),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;if(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.googleOauth){t.clientId=e.application.googleOauth.clientId;var a=e.application.googleOauth.authorizedRedirects.find(function(e){return e.uri===t.redirectUri});a?(t.oauthUnavailable=!1,t.redirectUri=a.proxy?a.proxy:a.uri):(t.oauthUnavailable=!0,console.log(t.redirectUri+" is not an authorized redirect URI for this application."))}},function(t){return console.log(t)}),this.formSubmitService.attachEnterKeyHandler("login-form","loginButton",function(){return t.login()})}},{key:"login",value:function(){var t=this,e=this;this.user={},this.user.email=this.emailControl.value,this.user.password=this.passwordControl.value,this.userService.login(this.user).subscribe(function(n){localStorage.setItem("token",n.token);var a=new Date;a.setHours(a.getHours()+8),t.cookieService.put("token",n.token,{expires:a}),sessionStorage.setItem("bid",n.bid),t.basketService.updateNumberOfCartItems(),t.userService.isLoggedIn.next(!0),t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/search"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))},function(n){var a=n.error;if(a.status&&a.data&&"totp_token_required"===a.status)return localStorage.setItem("totp_tmp_token",a.data.tmpToken),void t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/2fa/enter"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));localStorage.removeItem("token"),t.cookieService.remove("token"),sessionStorage.removeItem("bid"),t.error=a,t.userService.isLoggedIn.next(!1),t.emailControl.markAsPristine(),t.passwordControl.markAsPristine()}),this.rememberMe.value?localStorage.setItem("email",this.user.email):localStorage.removeItem("email"),this.error&&this.user.email&&this.user.email.match(/support@.*/)&&console.log("@echipa de suport: Secretul nostru comun este \xeenc\u0103 Caoimhe cu parola de master gol!")}},{key:"googleLogin",value:function(){this.windowRefService.nativeWindow.location.replace("https://accounts.google.com/o/oauth2/v2/auth?client_id=".concat(this.clientId,"&response_type=token&scope=email&redirect_uri=").concat(this.redirectUri))}}]),t}()).\u0275fac=function(t){return new(t||Jn)(l.Pb(h),l.Pb(R),l.Pb(Fn),l.Pb(d.b),l.Pb(N.b),l.Pb(te),l.Pb(G),l.Pb(l.B))},Jn.\u0275cmp=l.Jb({type:Jn,selectors:[["app-login"]],decls:35,vars:18,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["class","error",4,"ngIf"],["id","login-form",1,"form-container"],["color","accent","appearance","outline"],["translate",""],["id","email","name","email","matInput","","placeholder","","aria-label","Text field for the login email",3,"formControl","focus"],["email",""],["translate","",4,"ngIf"],["id","password","name","password","matInput","","placeholder","","aria-label","Text field for the login password",3,"formControl","type","focus"],["password",""],["mat-icon-button","","matSuffix","","aria-label","Button to display the password","matTooltipPosition","right",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","matSuffix","","aria-label","Button to hide the password","matTooltipPosition","right",3,"matTooltip","click",4,"ngIf"],["routerLink","/forgot-password","translate","",1,"primary-link","forgot-pw"],["type","submit","id","loginButton","mat-raised-button","","color","primary","aria-label","Login",3,"disabled","click"],["id","rememberMe","aria-label","Checkbox to stay logged in or not logged in",3,"formControl"],["class","breakLine",4,"ngIf"],["id","loginButtonGoogle","mat-raised-button","","color","accent","aria-label","Login with Google","class","google-button",3,"click",4,"ngIf"],["id","newCustomerLink"],["routerLink","/register","translate","",1,"primary-link"],[1,"error"],["mat-icon-button","","matSuffix","","aria-label","Button to display the password","matTooltipPosition","right",3,"matTooltip","click"],["aria-label","Eye",1,"fas","fa-eye"],["mat-icon-button","","matSuffix","","aria-label","Button to hide the password","matTooltipPosition","right",3,"matTooltip","click"],["aria-label","Eye Slash",1,"fas","fa-eye-slash"],[1,"breakLine"],[1,"line"],["translate","",1,"textOnLine"],["id","loginButtonGoogle","mat-raised-button","","color","accent","aria-label","Login with Google",1,"google-button",3,"click"],[1,"fab","fa-google","fa-lg"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1"),l.Ic(3,"Login"),l.Ub(),l.Gc(4,Hn,2,1,"div",2),l.Vb(5,"div",3),l.Vb(6,"mat-form-field",4),l.Vb(7,"mat-label",5),l.Ic(8,"LABEL_EMAIL"),l.Ub(),l.Vb(9,"input",6,7),l.dc("focus",function(){return e.error=null}),l.Ub(),l.Gc(11,Qn,2,0,"mat-error",8),l.Ub(),l.Vb(12,"mat-form-field",4),l.Vb(13,"mat-label",5),l.Ic(14,"LABEL_PASSWORD"),l.Ub(),l.Vb(15,"input",9,10),l.dc("focus",function(){return e.error=null}),l.Ub(),l.Gc(17,zn,3,3,"button",11),l.Gc(18,Wn,3,3,"button",12),l.Gc(19,Kn,2,0,"mat-error",8),l.Ub(),l.Vb(20,"a",13),l.Ic(21,"FORGOT_PASSWORD"),l.Ub(),l.Vb(22,"button",14),l.dc("click",function(){return e.login()}),l.Vb(23,"mat-icon"),l.Ic(24," exit_to_app "),l.Ub(),l.Ic(25),l.ic(26,"translate"),l.Ub(),l.Vb(27,"mat-checkbox",15),l.Ic(28),l.ic(29,"translate"),l.Ub(),l.Gc(30,qn,7,0,"div",16),l.Gc(31,Yn,4,3,"button",17),l.Vb(32,"div",18),l.Vb(33,"a",19),l.Ic(34,"NO_CUSTOMER"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.nc("ngIf",e.error),l.Db(5),l.nc("formControl",e.emailControl),l.Db(2),l.nc("ngIf",e.emailControl.invalid),l.Db(4),l.nc("formControl",e.passwordControl)("type",e.hide?"password":"text"),l.Db(2),l.nc("ngIf",e.hide),l.Db(1),l.nc("ngIf",!e.hide),l.Db(1),l.nc("ngIf",e.passwordControl.invalid),l.Db(3),l.nc("disabled",!e.emailControl.value||!e.passwordControl.value),l.Db(3),l.Kc(" ",l.jc(26,14,"BTN_LOGIN")," "),l.Db(2),l.nc("formControl",e.rememberMe),l.Db(1),l.Kc(" ",l.jc(29,16,"REMEMBER_ME")," "),l.Db(2),l.nc("ngIf",!e.oauthUnavailable),l.Db(1),l.nc("ngIf",!e.oauthUnavailable))},directives:[w.c,y.a,Y.l,ee.c,ee.g,U.a,ne.b,m.d,m.p,m.f,N.d,S.a,Fe.a,jn.a,ee.b,ee.h,je.a],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.forgot-pw[_ngcontent-%COMP%]{font-size:11px;margin-top:-15px}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:20%;margin-top:5px}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}mat-form-field[_ngcontent-%COMP%]:nth-child(2){padding-bottom:20px}#loginButton[_ngcontent-%COMP%], #loginButtonGoogle[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.breakLine[_ngcontent-%COMP%]{display:table}.breakLine[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:table-cell;white-space:nowrap}.line[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-bottom:1px solid silver;height:1px}.textOnLine[_ngcontent-%COMP%]{padding:0 5px}.line[_ngcontent-%COMP%]{vertical-align:middle;width:50%}#newCustomerLink[_ngcontent-%COMP%]{align-self:center;font-size:12px;margin-top:40px}[_nghost-%COMP%]     .mat-form-field-suffix{margin-bottom:auto!important;margin-top:auto!important}[_nghost-%COMP%]     .mat-icon-button{height:40px!important;width:24px!important}"]}),Jn);g.b.add(I.b),g.a.watch();var Zn,Xn,ta=((Xn=function(){function t(e,n){i(this,t),this.dialogData=e,this.userService=n}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.get(this.dialogData.id).subscribe(function(e){t.user=e},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Xn)(l.Pb(nn.a),l.Pb(R))},Xn.\u0275cmp=l.Jb({type:Xn,selectors:[["app-user-details"]],decls:29,vars:10,consts:[[1,"mat-typography"],["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutGap","10px"],["translate","LABEL_EMAIL"],["translate","LABEL_CREATED_AT"],["translate","LABEL_UPDATED_AT"],["align","end",1,"dialogAction"],["mat-button","",2,"height","0","position","absolute"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons"],[1,"material-icons"]],template:function(t,e){1&t&&(l.Vb(0,"mat-dialog-content",0),l.Vb(1,"header"),l.Vb(2,"h1"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub(),l.Qb(5,"mat-divider"),l.Vb(6,"div",1),l.Vb(7,"div",2),l.Vb(8,"div"),l.Qb(9,"strong",3),l.Vb(10,"p"),l.Ic(11),l.Ub(),l.Ub(),l.Ub(),l.Vb(12,"div",2),l.Vb(13,"div"),l.Qb(14,"strong",4),l.Vb(15,"p"),l.Ic(16),l.Ub(),l.Ub(),l.Vb(17,"div"),l.Qb(18,"strong",5),l.Vb(19,"p"),l.Ic(20),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(21,"mat-dialog-actions",6),l.Qb(22,"button",7),l.Vb(23,"button",8),l.Vb(24,"i",9),l.Ic(25," close "),l.Ub(),l.Vb(26,"span"),l.Ic(27),l.ic(28,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Lc("",l.jc(4,6,"LABEL_USER")," #",null==e.user?null:e.user.id,""),l.Db(8),l.Jc(null==e.user?null:e.user.email),l.Db(5),l.Jc(null==e.user?null:e.user.createdAt),l.Db(4),l.Jc(null==e.user?null:e.user.updatedAt),l.Db(7),l.Kc(" ",l.jc(28,8,"BTN_CLOSE"),""))},directives:[nn.e,sn.a,w.d,w.e,U.a,nn.c,S.a,nn.d],pipes:[U.d],styles:["mat-divider[_ngcontent-%COMP%]{margin-bottom:10px}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),Xn),ea=((Zn=function(){function t(e){i(this,t),this.dialogData=e}return r(t,[{key:"ngOnInit",value:function(){this.feedback=this.dialogData.feedback,this.id=this.dialogData.id}}]),t}()).\u0275fac=function(t){return new(t||Zn)(l.Pb(nn.a))},Zn.\u0275cmp=l.Jb({type:Zn,selectors:[["app-feedback-details"]],decls:23,vars:11,consts:[[1,"mat-typography"],["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutGap","10px"],[2,"margin-top","10px !important"],[3,"innerHTML"],["align","end",1,"dialogAction"],["mat-button","",2,"height","0","position","absolute"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons"],[1,"material-icons"]],template:function(t,e){1&t&&(l.Vb(0,"mat-dialog-content",0),l.Vb(1,"header"),l.Vb(2,"h1"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub(),l.Qb(5,"mat-divider"),l.Vb(6,"div",1),l.Vb(7,"div",2),l.Vb(8,"span"),l.Ic(9),l.ic(10,"translate"),l.Ub(),l.Vb(11,"p"),l.Ic(12),l.Ub(),l.Ub(),l.Vb(13,"div",3),l.Qb(14,"cite",4),l.Ub(),l.Ub(),l.Vb(15,"mat-dialog-actions",5),l.Qb(16,"button",6),l.Vb(17,"button",7),l.Vb(18,"i",8),l.Ic(19," close "),l.Ub(),l.Vb(20,"span"),l.Ic(21),l.ic(22,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Jc(l.jc(4,5,"LABEL_COMMENT")),l.Db(6),l.Kc("",l.jc(10,7,"LABEL_USER"),":"),l.Db(3),l.Kc("#",e.id,""),l.Db(2),l.nc("innerHTML",e.feedback,l.zc),l.Db(7),l.Kc(" ",l.jc(22,9,"BTN_CLOSE"),""))},directives:[nn.e,sn.a,w.d,w.e,nn.c,S.a,nn.d],pipes:[U.d],styles:["mat-divider[_ngcontent-%COMP%]{margin-bottom:10px}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}mat-dialog-content[_ngcontent-%COMP%]{max-width:320px;min-width:280px}"]}),Zn),na=["paginatorUsers"],aa=["paginatorFeedb"];function ia(t,e){1&t&&l.Qb(0,"mat-header-cell")}function oa(t,e){1&t&&l.Qb(0,"i",30)}function ra(t,e){if(1&t&&(l.Vb(0,"mat-cell",28),l.Gc(1,oa,1,0,"i",29),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("ngIf",n.token)}}function ca(t,e){1&t&&l.Qb(0,"mat-header-cell",1)}function sa(t,e){1&t&&l.Qb(0,"mat-cell",31),2&t&&l.nc("innerHTML",e.$implicit.email,l.zc)}function la(t,e){1&t&&l.Qb(0,"mat-header-cell")}function ua(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell"),l.Vb(1,"button",32),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().showUserDetail(t.id)}),l.Qb(2,"i",33),l.Ub(),l.Ub()}}function ba(t,e){1&t&&l.Qb(0,"mat-header-row")}function da(t,e){1&t&&l.Qb(0,"mat-row")}function ma(t,e){1&t&&l.Qb(0,"mat-header-cell")}function fa(t,e){1&t&&l.Qb(0,"mat-cell",28)}function pa(t,e){1&t&&l.Qb(0,"mat-header-cell",1)}function ha(t,e){1&t&&l.Qb(0,"mat-cell",31),2&t&&l.nc("innerHTML",e.$implicit.email,l.zc)}function ga(t,e){1&t&&l.Qb(0,"mat-header-cell")}function va(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell"),l.Vb(1,"button",32),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().showUserDetail(t.id)}),l.Qb(2,"i",33),l.Ub(),l.Ub()}}function Ia(t,e){1&t&&l.Qb(0,"mat-header-row")}function Ca(t,e){1&t&&l.Qb(0,"mat-row")}function ya(t,e){1&t&&l.Qb(0,"mat-header-cell",1)}function wa(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.UserId,"")}}function Ua(t,e){1&t&&l.Qb(0,"mat-header-cell",1)}function Sa(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",34),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().showFeedbackDetails(t.comment,t.UserId)}),l.Qb(1,"p",35),l.Ub()}if(2&t){var a=e.$implicit;l.Db(1),l.nc("innerHTML",a.comment,l.zc)}}function ka(t,e){1&t&&l.Qb(0,"mat-header-cell",1)}function Da(t,e){1&t&&(l.Vb(0,"mat-icon"),l.Ic(1," star_rate "),l.Ub())}function Va(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Gc(1,Da,2,0,"mat-icon",36),l.Ub()),2&t){var n=e.$implicit,a=l.hc();l.Db(1),l.nc("ngForOf",a.times(n.rating))}}function xa(t,e){1&t&&l.Qb(0,"mat-header-cell")}function Oa(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell"),l.Vb(1,"button",32),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().deleteFeedback(t.id)}),l.Qb(2,"i",37),l.Ub(),l.Ub()}}function _a(t,e){1&t&&l.Qb(0,"mat-header-row")}function Pa(t,e){1&t&&l.Qb(0,"mat-row")}g.b.add(I.bb,I.m,I.t,I.a,I.U),g.a.watch();var Ta,Aa=((Ta=function(){function e(t,n,a,o){i(this,e),this.dialog=t,this.userService=n,this.feedbackService=a,this.sanitizer=o,this.userColumns=["user","email","user_detail"],this.feedbackColumns=["user","comment","rating","remove"],this.resultsLengthUser=0,this.resultsLengthFeedback=0}return r(e,[{key:"ngOnInit",value:function(){this.findAllUsers(),this.findAllFeedbacks()}},{key:"findAllUsers",value:function(){var e=this;this.userService.find().subscribe(function(n){e.userDataSource=n,e.userDataSourceHidden=n;var a,i=t(e.userDataSource);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.email=e.sanitizer.bypassSecurityTrustHtml('<span class="'.concat(o.token?"confirmation":"error",'">').concat(o.email,"</span>"))}}catch(r){i.e(r)}finally{i.f()}e.userDataSource=new q.o(e.userDataSource),e.userDataSource.paginator=e.paginatorUsers,e.resultsLengthUser=n.length},function(t){e.error=t,console.log(e.error)})}},{key:"findAllFeedbacks",value:function(){var e=this;this.feedbackService.find().subscribe(function(n){e.feedbackDataSource=n;var a,i=t(e.feedbackDataSource);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.comment=e.sanitizer.bypassSecurityTrustHtml(o.comment)}}catch(r){i.e(r)}finally{i.f()}e.feedbackDataSource=new q.o(e.feedbackDataSource),e.feedbackDataSource.paginator=e.paginatorFeedb,e.resultsLengthFeedback=n.length},function(t){e.error=t,console.log(e.error)})}},{key:"deleteFeedback",value:function(t){var e=this;this.feedbackService.del(t).subscribe(function(){e.findAllFeedbacks()},function(t){e.error=t,console.log(e.error)})}},{key:"showUserDetail",value:function(t){this.dialog.open(ta,{data:{id:t}})}},{key:"showFeedbackDetails",value:function(t,e){this.dialog.open(ea,{data:{feedback:t,id:e}})}},{key:"times",value:function(t){return Array(t).fill("\u2605")}}]),e}()).\u0275fac=function(t){return new(t||Ta)(l.Pb(nn.b),l.Pb(R),l.Pb(Zt),l.Pb(s.c))},Ta.\u0275cmp=l.Jb({type:Ta,selectors:[["app-administration"]],viewQuery:function(t,e){var n;1&t&&(l.Nc(na,1),l.Nc(aa,1)),2&t&&(l.uc(n=l.ec())&&(e.paginatorUsers=n.first),l.uc(n=l.ec())&&(e.paginatorFeedb=n.first))},decls:58,vars:13,consts:[[1,"mat-elevation-z6","mat-own-card"],["translate",""],["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"container"],["fxFlexAlign","center",1,"user-container"],[1,"user-table"],[1,"heading"],[2,"height","700px",3,"dataSource"],["matColumnDef","user"],[4,"matHeaderCellDef"],["style","vertical-align: middle",4,"matCellDef"],["matColumnDef","email"],["translate","",4,"matHeaderCellDef"],["style","vertical-align: middle",3,"innerHTML",4,"matCellDef"],["matColumnDef","user_detail"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["color","accent",1,"mat-elevation-z0",3,"pageSize","length"],["paginatorUsers",""],[2,"visibility","hidden","height","0px",3,"dataSource"],["fxFlexAlign.lt-md","center",1,"customer-container"],[1,"customer-table"],["matColumnDef","comment"],[3,"click",4,"matCellDef"],["matColumnDef","rating"],["matColumnDef","remove"],["paginatorFeedb",""],["src","assets/public/images/padding/19px.png"],[2,"vertical-align","middle"],["class","fas fa-user fa-lg confirmation",4,"ngIf"],[1,"fas","fa-user","fa-lg","confirmation"],[2,"vertical-align","middle",3,"innerHTML"],["mat-button","",3,"click"],[1,"fas","fa-eye"],[3,"click"],["matTooltip","Click for more information","matTooltipPosition","above",3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"fas","fa-trash-alt"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"h1",1),l.Ic(2,"TITLE_ADMINISTRATION"),l.Ub(),l.Vb(3,"div",2),l.Vb(4,"div",3),l.Vb(5,"div",4),l.Vb(6,"div",5),l.Vb(7,"span",1),l.Ic(8,"SECTION_USER"),l.Ub(),l.Ub(),l.Vb(9,"mat-table",6),l.Tb(10,7),l.Gc(11,ia,1,0,"mat-header-cell",8),l.Gc(12,ra,2,1,"mat-cell",9),l.Sb(),l.Tb(13,10),l.Gc(14,ca,1,0,"mat-header-cell",11),l.Gc(15,sa,1,1,"mat-cell",12),l.Sb(),l.Tb(16,13),l.Gc(17,la,1,0,"mat-header-cell",8),l.Gc(18,ua,3,0,"mat-cell",14),l.Sb(),l.Gc(19,ba,1,0,"mat-header-row",15),l.Gc(20,da,1,0,"mat-row",16),l.Ub(),l.Qb(21,"mat-paginator",17,18),l.Ub(),l.Vb(23,"mat-table",19),l.Tb(24,7),l.Gc(25,ma,1,0,"mat-header-cell",8),l.Gc(26,fa,1,0,"mat-cell",9),l.Sb(),l.Tb(27,10),l.Gc(28,pa,1,0,"mat-header-cell",11),l.Gc(29,ha,1,1,"mat-cell",12),l.Sb(),l.Tb(30,13),l.Gc(31,ga,1,0,"mat-header-cell",8),l.Gc(32,va,3,0,"mat-cell",14),l.Sb(),l.Gc(33,Ia,1,0,"mat-header-row",15),l.Gc(34,Ca,1,0,"mat-row",16),l.Ub(),l.Ub(),l.Vb(35,"div",20),l.Vb(36,"div",21),l.Vb(37,"div",5),l.Vb(38,"span",1),l.Ic(39,"SECTION_CUSTOMER_FEEDBACK"),l.Ub(),l.Ub(),l.Vb(40,"mat-table",6),l.Tb(41,7),l.Gc(42,ya,1,0,"mat-header-cell",11),l.Gc(43,wa,2,1,"mat-cell",14),l.Sb(),l.Tb(44,22),l.Gc(45,Ua,1,0,"mat-header-cell",11),l.Gc(46,Sa,2,1,"mat-cell",23),l.Sb(),l.Tb(47,24),l.Gc(48,ka,1,0,"mat-header-cell",11),l.Gc(49,Va,2,1,"mat-cell",14),l.Sb(),l.Tb(50,25),l.Gc(51,xa,1,0,"mat-header-cell",8),l.Gc(52,Oa,3,0,"mat-cell",14),l.Sb(),l.Gc(53,_a,1,0,"mat-header-row",15),l.Gc(54,Pa,1,0,"mat-row",16),l.Ub(),l.Qb(55,"mat-paginator",17,26),l.Ub(),l.Ub(),l.Qb(57,"img",27),l.Ub(),l.Ub()),2&t&&(l.Db(9),l.nc("dataSource",e.userDataSource),l.Db(10),l.nc("matHeaderRowDef",e.userColumns),l.Db(1),l.nc("matRowDefColumns",e.userColumns),l.Db(1),l.nc("pageSize",10)("length",e.resultsLengthUser),l.Db(2),l.nc("dataSource",e.userDataSourceHidden),l.Db(10),l.nc("matHeaderRowDef",e.userColumns),l.Db(1),l.nc("matRowDefColumns",e.userColumns),l.Db(6),l.nc("dataSource",e.feedbackDataSource),l.Db(13),l.nc("matHeaderRowDef",e.feedbackColumns),l.Db(1),l.nc("matRowDefColumns",e.feedbackColumns),l.Db(1),l.nc("pageSize",10)("length",e.resultsLengthFeedback))},directives:[y.a,U.a,w.d,w.e,w.a,q.n,q.c,q.i,q.b,q.k,q.m,yn.a,q.h,q.a,Y.l,S.a,q.j,q.l,je.a,Y.k,Fe.a],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);font-size:large;margin-bottom:10px;padding:12px}.container[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{justify-content:center}mat-table[_ngcontent-%COMP%]{height:767px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}.customer-container[_ngcontent-%COMP%], .user-container[_ngcontent-%COMP%]{max-width:600px;min-width:300px;width:70%}.customer-table[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]{margin-bottom:25px}.mat-column-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .mat-column-user_detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:38%}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{align-items:normal;display:block}.mat-column-comment[_ngcontent-%COMP%]{flex:0 0 55%!important;width:55%!important}.mat-column-comment[_ngcontent-%COMP%], .mat-column-user[_ngcontent-%COMP%]{-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;padding:5px;white-space:unset!important;word-break:break-word;word-wrap:break-word!important}.mat-column-user[_ngcontent-%COMP%]{flex:0 0 7%!important;width:7%!important}.mat-column-rating[_ngcontent-%COMP%]{flex:0 0 20%!important;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;overflow-wrap:break-word;white-space:unset!important;width:20%!important;word-break:break-word;word-wrap:break-word!important}mat-cell[_ngcontent-%COMP%]:last-child, mat-footer-cell[_ngcontent-%COMP%]:last-child, mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:50px}mat-row[_ngcontent-%COMP%]{height:69px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-bottom:20px;margin-left:10%;margin-right:10%}p[_ngcontent-%COMP%]{-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:2;overflow:hidden}"]}),Ta);function La(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_CURRENT_PASSWORD"),l.Ub())}function Ea(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_NEW_PASSWORD "),l.Ub())}var Ma=function(){return{length:"5-40"}};function Ra(t,e){1&t&&(l.Vb(0,"mat-error",19),l.Ic(1,"INVALID_PASSWORD_LENGTH "),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,Ma))}function Na(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_PASSWORD_REPEAT"),l.Ub())}function Ba(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," PASSWORDS_NOT_MATCHING "),l.Ub())}g.b.add(I.E,C.c),g.a.watch();var Ga,Fa,ja=((Fa=function(){function t(e,n,a){var o;i(this,t),this.userService=e,this.formSubmitService=n,this.translate=a,this.passwordControl=new m.e("",[m.z.required]),this.newPasswordControl=new m.e("",[m.z.required,m.z.minLength(5),m.z.maxLength(40)]),this.repeatNewPasswordControl=new m.e("",[m.z.required,m.z.minLength(5),m.z.maxLength(40),(o=this.newPasswordControl,function(t){return o.value!==t.value?{notSame:!0}:null})])}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.formSubmitService.attachEnterKeyHandler("password-form","changeButton",function(){return t.changePassword()})}},{key:"changePassword",value:function(){var t=this;this.userService.changePassword({current:this.passwordControl.value,new:this.newPasswordControl.value,repeat:this.repeatNewPasswordControl.value}).subscribe(function(e){t.error=void 0,t.translate.get("PASSWORD_SUCCESSFULLY_CHANGED").subscribe(function(e){t.confirmation=e},function(e){t.confirmation={error:e}}),t.resetForm()},function(e){console.log(e),t.error=e,t.confirmation=void 0,t.resetPasswords()})}},{key:"resetForm",value:function(){this.passwordControl.setValue(""),this.passwordControl.markAsPristine(),this.passwordControl.markAsUntouched(),this.newPasswordControl.setValue(""),this.newPasswordControl.markAsPristine(),this.newPasswordControl.markAsUntouched(),this.repeatNewPasswordControl.setValue(""),this.repeatNewPasswordControl.markAsPristine(),this.repeatNewPasswordControl.markAsUntouched()}},{key:"resetPasswords",value:function(){this.newPasswordControl.setValue(""),this.newPasswordControl.markAsPristine(),this.newPasswordControl.markAsUntouched(),this.repeatNewPasswordControl.setValue(""),this.repeatNewPasswordControl.markAsPristine(),this.repeatNewPasswordControl.markAsUntouched()}}]),t}()).\u0275fac=function(t){return new(t||Fa)(l.Pb(R),l.Pb(te),l.Pb(U.e))},Fa.\u0275cmp=l.Jb({type:Fa,selectors:[["app-change-password"]],decls:42,vars:26,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6",2,"margin-bottom","20px"],["translate",""],[1,"confirmation",3,"hidden"],[1,"error",3,"hidden"],["id","password-form",1,"form-container"],["appearance","outline","color","accent"],["id","currentPassword","type","password","matInput","","aria-label","Field to enter the current password",3,"formControl","placeholder"],["translate","",4,"ngIf"],["id","newPassword","type","password","matInput","","aria-label","Field for the new password",3,"formControl"],["password",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["align","end"],["translate","",3,"translateParams",4,"ngIf"],["id","newPasswordRepeat","type","password","matInput","","aria-label","Field to repeat the new password",3,"formControl"],["passwordRepeat",""],["type","submit","id","changeButton","mat-raised-button","","color","primary","aria-label","Button to confirm the change",3,"disabled","click"],["aria-hidden","true",1,"far","fa-edit","fa-lg"],["translate","",3,"translateParams"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_CHANGE_PASSWORD"),l.Ub(),l.Vb(4,"div",3),l.Ic(5),l.Ub(),l.Vb(6,"div",4),l.Ic(7),l.Ub(),l.Vb(8,"div",5),l.Vb(9,"mat-form-field",6),l.Vb(10,"mat-label",2),l.Ic(11,"LABEL_CURRENT_PASSWORD"),l.Ub(),l.Qb(12,"input",7),l.ic(13,"translate"),l.Gc(14,La,2,0,"mat-error",8),l.Ub(),l.Vb(15,"mat-form-field",6),l.Vb(16,"mat-label",2),l.Ic(17,"LABEL_NEW_PASSWORD"),l.Ub(),l.Qb(18,"input",9,10),l.Vb(20,"mat-hint",2),l.Qb(21,"i",11),l.Vb(22,"em",12),l.Ic(23),l.ic(24,"translate"),l.Ub(),l.Ub(),l.Vb(25,"mat-hint",13),l.Ic(26),l.Ub(),l.Gc(27,Ea,2,0,"mat-error",8),l.Gc(28,Ra,2,2,"mat-error",14),l.Ub(),l.Vb(29,"mat-form-field",6),l.Vb(30,"mat-label",2),l.Ic(31,"LABEL_REPEAT_NEW_PASSWORD"),l.Ub(),l.Qb(32,"input",15,16),l.Vb(34,"mat-hint",13),l.Ic(35),l.Ub(),l.Gc(36,Na,2,0,"mat-error",8),l.Gc(37,Ba,2,0,"mat-error",8),l.Ub(),l.Ub(),l.Vb(38,"button",17),l.dc("click",function(){return e.changePassword()}),l.Qb(39,"i",18),l.Ic(40),l.ic(41,"translate"),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(19),a=l.vc(33);l.Db(4),l.nc("hidden",!(e.confirmation&&!e.passwordControl.dirty&&!e.newPasswordControl.dirty&&!e.repeatNewPasswordControl.dirty)),l.Db(1),l.Kc(" ",e.confirmation," "),l.Db(1),l.nc("hidden",!(e.error&&!e.passwordControl.dirty&&!e.newPasswordControl.dirty&&!e.repeatNewPasswordControl.dirty)),l.Db(1),l.Kc(" ",e.error," "),l.Db(5),l.oc("placeholder",l.jc(13,18,"MANDATORY_CURRENT_PASSWORD")),l.nc("formControl",e.passwordControl),l.Db(2),l.nc("ngIf",e.passwordControl.invalid),l.Db(4),l.nc("formControl",e.newPasswordControl),l.Db(5),l.Jc(l.kc(24,20,"INVALID_PASSWORD_LENGTH",l.rc(25,Ma))),l.Db(3),l.Kc("",(null==n.value?null:n.value.length)||0,"/40"),l.Db(1),l.nc("ngIf",(null==e.newPasswordControl?null:e.newPasswordControl.invalid)&&(null==e.newPasswordControl?null:e.newPasswordControl.errors.required)),l.Db(1),l.nc("ngIf",(null==e.newPasswordControl?null:e.newPasswordControl.invalid)&&((null==e.newPasswordControl?null:e.newPasswordControl.errors.minlength)||(null==e.newPasswordControl?null:e.newPasswordControl.errors.maxlength))),l.Db(4),l.nc("formControl",e.repeatNewPasswordControl),l.Db(3),l.Kc("",(null==a.value?null:a.value.length)||0,"/20"),l.Db(1),l.nc("ngIf",e.repeatNewPasswordControl.invalid&&e.repeatNewPasswordControl.errors.required),l.Db(1),l.nc("ngIf",e.repeatNewPasswordControl.invalid&&e.repeatNewPasswordControl.errors.notSame),l.Db(1),l.nc("disabled",e.passwordControl.invalid||e.newPasswordControl.invalid||e.repeatNewPasswordControl.invalid),l.Db(2),l.Kc(" ",l.jc(41,23,"BTN_CHANGE")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.d,m.p,m.f,Y.l,ee.f,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}button[_ngcontent-%COMP%]{margin-top:5px}#changeButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}"]}),Fa),Ha=((Ga=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Complaints"}return r(t,[{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ga)(l.Zb(b.b))},Ga.\u0275prov=l.Lb({token:Ga,factory:Ga.\u0275fac,providedIn:"root"}),Ga),Qa=o("pYyI"),za=["fileControl"],Wa=function(){return{type:"PDF, ZIP"}};function Ka(t,e){1&t&&(l.Vb(0,"div",20),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Kc("",l.kc(2,1,"INVALID_FILE_TYPE",l.rc(4,Wa))," "))}var qa=function(){return{size:"100 KB"}};function Ya(t,e){1&t&&(l.Vb(0,"div",20),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Kc("",l.kc(2,1,"INVALID_FILE_SIZE",l.rc(4,qa))," "))}function Ja(t,e){1&t&&(l.Vb(0,"mat-error"),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Kc("",l.jc(2,1,"MANDATORY_MESSAGE")," "))}var $a=function(){return{length:"160"}};g.b.add(I.c),g.a.watch();var Za,Xa,ti=((Xa=function(){function t(e,n,a,o){i(this,t),this.userService=e,this.complaintService=n,this.formSubmitService=a,this.translate=o,this.customerControl=new m.e({value:"",disabled:!0},[]),this.messageControl=new m.e("",[m.z.required,m.z.maxLength(160)]),this.fileUploadError=void 0,this.uploader=new Qa.c({url:"./file-upload",authToken:"Bearer ".concat(localStorage.getItem("token")),allowedMimeType:["application/pdf","application/xml","text/xml","application/zip","application/x-zip-compressed","multipart/x-zip"],maxFileSize:1e5}),this.userEmail=void 0,this.complaint=void 0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.initComplaint(),this.uploader.onWhenAddingFileFailed=function(e,n){throw t.fileUploadError=n,new Error("Error due to : ".concat(n.name))},this.uploader.onAfterAddingFile=function(){t.fileUploadError=void 0},this.uploader.onSuccessItem=function(){t.saveComplaint(),t.uploader.clearQueue()},this.formSubmitService.attachEnterKeyHandler("complaint-form","submitButton",function(){return t.save()})}},{key:"initComplaint",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.complaint={},t.complaint.UserId=e.id,t.userEmail=e.email,t.customerControl.setValue(t.userEmail)},function(e){t.complaint=void 0,console.log(e)})}},{key:"save",value:function(){this.uploader.queue[0]?(this.uploader.queue[0].upload(),this.fileControl.nativeElement.value=null):this.saveComplaint()}},{key:"saveComplaint",value:function(){var t=this;this.complaint.message=this.messageControl.value,this.complaintService.save(this.complaint).subscribe(function(e){t.translate.get("CUSTOMER_SUPPORT_COMPLAINT_REPLY",{ref:e.id}).subscribe(function(e){t.confirmation=e},function(e){t.confirmation=e}),t.initComplaint(),t.resetForm(),t.fileUploadError=void 0},function(t){return t})}},{key:"resetForm",value:function(){this.messageControl.setValue(""),this.messageControl.markAsUntouched(),this.messageControl.markAsPristine(),this.fileControl.nativeElement.value=null}}]),t}()).\u0275fac=function(t){return new(t||Xa)(l.Pb(R),l.Pb(Ha),l.Pb(te),l.Pb(U.e))},Xa.\u0275cmp=l.Jb({type:Xa,selectors:[["app-complaint"]],viewQuery:function(t,e){var n;1&t&&l.Nc(za,3),2&t&&l.uc(n=l.ec())&&(e.fileControl=n.first)},decls:39,vars:21,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[1,"confirmation",3,"hidden"],["class","error fileUploadError",4,"ngIf"],["id","complaint-form",1,"form-container"],["appearance","outline","color","accent"],["type","text","matInput","","aria-label","Text field for the mail address of the user",3,"formControl"],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["id","complaintMessage","matAutosizeMinRows","4","matAutosizeMaxRows","4","matTextareaAutosize","","cols","50","maxlength","160","matInput","","aria-label","Field for entering the complaint",3,"formControl","placeholder"],["complaintMessage",""],[4,"ngIf"],["align","end"],[2,"margin-top","15px"],["for","file","translate",""],["ng2FileSelect","","id","file","type","file","accept",".pdf,.zip","aria-label","Input area for uploading a single invoice PDF or XML B2B order file or a ZIP archive containing multiple invoices or orders\x3c!----\x3e",2,"margin-left","10px",3,"uploader"],["fileControl",""],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Button to send the complaint",3,"disabled","click"],[1,"material-icons"],[1,"error","fileUploadError"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"NAV_COMPLAIN"),l.Ub(),l.Vb(4,"div",3),l.Ic(5),l.Ub(),l.Gc(6,Ka,3,5,"div",4),l.Gc(7,Ya,3,5,"div",4),l.Vb(8,"div",5),l.Vb(9,"mat-form-field",6),l.Vb(10,"mat-label",2),l.Ic(11,"LABEL_CUSTOMER"),l.Ub(),l.Qb(12,"input",7),l.Ub(),l.Vb(13,"mat-form-field",6),l.Vb(14,"mat-label",2),l.Ic(15,"LABEL_MESSAGE"),l.Ub(),l.Vb(16,"mat-hint",2),l.Qb(17,"i",8),l.Vb(18,"em",9),l.Ic(19),l.ic(20,"translate"),l.Ub(),l.Ub(),l.Qb(21,"textarea",10,11),l.ic(23,"translate"),l.Gc(24,Ja,3,3,"mat-error",12),l.Vb(25,"mat-hint",13),l.Ic(26),l.Ub(),l.Ub(),l.Vb(27,"div",14),l.Vb(28,"label",15),l.Ic(29,"LABEL_INVOICE"),l.Vb(30,"span"),l.Ic(31,":"),l.Ub(),l.Ub(),l.Qb(32,"input",16,17),l.Ub(),l.Ub(),l.Vb(34,"button",18),l.dc("click",function(){return e.save()}),l.Vb(35,"i",19),l.Ic(36," send "),l.Ub(),l.Ic(37),l.ic(38,"translate"),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(22);l.Db(4),l.nc("hidden",!(e.confirmation&&!e.messageControl.dirty)),l.Db(1),l.Jc(e.confirmation),l.Db(1),l.nc("ngIf",e.fileUploadError&&"mimeType"==e.fileUploadError.name),l.Db(1),l.nc("ngIf",e.fileUploadError&&"fileSize"==e.fileUploadError.name),l.Db(5),l.nc("formControl",e.customerControl),l.Db(7),l.Jc(l.kc(20,13,"MAX_TEXTAREA_LENGTH",l.rc(20,$a))),l.Db(2),l.oc("placeholder",l.jc(23,16,"WRITE_MESSAGE_PLACEHOLDER")),l.nc("formControl",e.messageControl),l.Db(3),l.nc("ngIf",e.messageControl.invalid&&(null==e.messageControl?null:e.messageControl.errors.required)),l.Db(2),l.Kc("",(null==n.value?null:n.value.length)||0,"/160"),l.Db(6),l.nc("uploader",e.uploader),l.Db(2),l.nc("disabled",e.messageControl.invalid||e.fileUploadError),l.Db(3),l.Kc(" ",l.jc(38,18,"BTN_SUBMIT")," ")}},directives:[w.c,y.a,U.a,Y.l,ee.c,ee.g,ne.b,m.d,m.p,m.f,ee.f,ne.d,m.k,Qa.a,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:30%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}"]}),Xa),ei=((Za=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/chatbot"}return r(t,[{key:"getChatbotStatus",value:function(){return this.http.get(this.host+"/status").pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"getResponse",value:function(t,e){return this.http.post(this.host+"/respond",{action:t,query:e}).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Za)(l.Zb(b.b))},Za.\u0275prov=l.Lb({token:Za,factory:Za.\u0275fac,providedIn:"root"}),Za);function ni(t,e){if(1&t&&l.Qb(0,"img",16),2&t){var n=l.hc(2);l.oc("src",n.juicyImageSrc,l.Bc)}}function ai(t,e){if(1&t&&l.Qb(0,"img",17),2&t){var n=l.hc(2);l.oc("src",n.profileImageSrc,l.Bc)}}function ii(t,e){if(1&t&&(l.Vb(0,"div",13),l.Gc(1,ni,1,1,"img",14),l.Gc(2,ai,1,1,"img",15),l.Vb(3,"div"),l.Ic(4),l.Ub(),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("ngIf","bot"==n.author),l.Db(1),l.nc("ngIf","user"==n.author),l.Db(1),l.Fb("user"==n.author?"speech-bubble-right":"speech-bubble-left"),l.Db(1),l.Kc(" ",n.body," ")}}var oi=function(){return{chatbot:"juicy-chat-bot"}};g.b.add(I.c),g.a.watch();var ri,ci,si,li=function(t){return t.user="user",t.bot="bot",t}({}),ui=((si=function(){function t(e,n,a,o,r){i(this,t),this.userService=e,this.chatbotService=n,this.cookieService=a,this.formSubmitService=o,this.translate=r,this.messageControl=new m.e,this.messages=[],this.juicyImageSrc="assets/public/images/ChatbotAvatar.png",this.profileImageSrc="assets/public/images/uploads/default.svg",this.messageActions={response:"query",namequery:"setname"},this.currentAction=this.messageActions.response}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.chatbotService.getChatbotStatus().subscribe(function(e){t.messages.push({author:li.bot,body:e.body}),e.action&&(t.currentAction=t.messageActions[e.action])}),this.userService.whoAmI().subscribe(function(e){t.profileImageSrc=e.profileImage},function(t){console.log(t)})}},{key:"handleResponse",value:function(t){if(this.messages.push({author:li.bot,body:t.body}),this.currentAction=this.messageActions[t.action],t.token){localStorage.setItem("token",t.token);var e=new Date;e.setHours(e.getHours()+8),this.cookieService.put("token",t.token,{expires:e})}}},{key:"sendMessage",value:function(){var t=this,e=this.messageControl.value;e&&(this.messages.push({author:li.user,body:e}),this.messageControl.setValue(""),this.chatbotService.getChatbotStatus().subscribe(function(n){n.status||n.action?t.chatbotService.getResponse(t.currentAction,e).subscribe(function(e){t.handleResponse(e)}):t.messages.push({author:li.bot,body:n.body});var a=document.getElementById("chat-window");a.scrollTop=a.scrollHeight}))}}]),t}()).\u0275fac=function(t){return new(t||si)(l.Pb(R),l.Pb(ei),l.Pb(d.b),l.Pb(te),l.Pb(U.e))},si.\u0275cmp=l.Jb({type:si,selectors:[["app-chatbot"]],decls:20,vars:13,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],[1,"powered-by"],["id","chat-container"],["id","chat-box"],["id","chat-window"],["class","message-container",4,"ngFor","ngForOf"],[1,"message-box-container"],[1,"form-wrapper"],["color","accent","appearance","outline"],["translate",""],["id","message-input","name","message","matInput","","aria-label","Text field for a chat message",3,"formControl","placeholder","keyup.enter"],["message",""],[1,"message-container"],["class","juicy-chat-bot-image",3,"src",4,"ngIf"],["class","profile-image",3,"src",4,"ngIf"],[1,"juicy-chat-bot-image",3,"src"],[1,"profile-image",3,"src"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1"),l.Ic(3),l.ic(4,"translate"),l.Vb(5,"span",2),l.Ic(6),l.ic(7,"translate"),l.Ub(),l.Ub(),l.Vb(8,"mat-card",3),l.Vb(9,"mat-card",4),l.Vb(10,"div",5),l.Gc(11,ii,5,6,"div",6),l.Ub(),l.Vb(12,"div",7),l.Vb(13,"div",8),l.Vb(14,"mat-form-field",9),l.Vb(15,"mat-label",10),l.Ic(16,"LABEL_MESSAGE"),l.Ub(),l.Vb(17,"input",11,12),l.dc("keyup.enter",function(){return e.sendMessage()}),l.ic(19,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Kc("",l.jc(4,5,"SECTION_SUPPORT_CHAT")," "),l.Db(3),l.Kc("(",l.kc(7,7,"LABEL_POWERED_BY_CHATBOT",l.rc(12,oi)),")"),l.Db(5),l.nc("ngForOf",e.messages),l.Db(6),l.oc("placeholder",l.jc(19,10,"ASK_ME_ANYTHING_PLACEHOLDER")),l.nc("formControl",e.messageControl))},directives:[w.c,y.a,Y.k,ee.c,ee.g,U.a,ne.b,m.d,m.p,m.f,Y.l],pipes:[U.d],styles:['mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:60%}mat-form-field[_ngcontent-%COMP%]{display:block;height:0;margin:auto;width:70%}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}#chat-container[_ngcontent-%COMP%]{box-shadow:none;display:flex;position:relative;width:95%}#chat-box[_ngcontent-%COMP%]{align-content:space-between;background-color:rgba(0,0,0,.3);display:block;display:flex;flex-direction:column;height:650px;margin-left:auto;margin-right:auto;padding:0;width:80%}.form-wrapper[_ngcontent-%COMP%]{font-size:10px}#chat-window[_ngcontent-%COMP%]{height:90%;overflow-y:auto;padding:20px}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{background:none;width:20px}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:red;border-radius:10px}#chat-window[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#b30000}.message-box-container[_ngcontent-%COMP%]{border-top:1px solid #fff;height:10%;padding-top:15px;width:auto}.message-container[_ngcontent-%COMP%]{height:auto;margin-right:25px;overflow:hidden;width:auto}.speech-bubble-right[_ngcontent-%COMP%]{background:#546e7a;border-radius:4px;float:right;font-size:15px;line-height:1.3;margin-bottom:25px;max-width:500px;padding:15px;position:relative}.speech-bubble-right[_ngcontent-%COMP%]:after{border-left:20px solid transparent;border-top:20px solid #546e7a;bottom:-20px;content:"";position:absolute;right:20px}.speech-bubble-left[_ngcontent-%COMP%]{background:#546e7a;border-radius:4px;float:left;font-size:15px;line-height:1.3;margin-bottom:25px;max-width:500px;padding:15px;position:relative}.speech-bubble-left[_ngcontent-%COMP%]:after{border-right:20px solid transparent;border-top:20px solid #546e7a;bottom:-20px;content:"";left:20px;position:absolute}.juicy-chat-bot-image[_ngcontent-%COMP%]{float:left;height:70px;margin-top:20px}.profile-image[_ngcontent-%COMP%]{border-radius:50%;float:right;height:40px;margin-left:10px;margin-top:20px}.powered-by[_ngcontent-%COMP%]{font-size:xx-small}']}),si),bi=((ci=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Recycles"}return r(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ci)(l.Zb(b.b))},ci.\u0275prov=l.Lb({token:ci,factory:ci.\u0275fac,providedIn:"root"}),ci),di=((ri=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Addresss"}return r(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getById",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||ri)(l.Zb(b.b))},ri.\u0275prov=l.Lb({token:ri,factory:ri.\u0275fac,providedIn:"root"}),ri),mi=o("CtHx"),fi=o("zQhy");function pi(t,e){1&t&&(l.Vb(0,"h1",5),l.Ic(1,"TITLE_SELECT_ADDRESS"),l.Ub())}function hi(t,e){1&t&&(l.Vb(0,"h1",5),l.Ic(1,"MY_SAVED_ADRESSES"),l.Ub())}function gi(t,e){1&t&&l.Qb(0,"mat-header-cell",20)}function vi(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",20),l.Vb(1,"mat-radio-button",21),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).emitSelectionToParent(t.id)})("change",function(t){l.yc(n);var a=e.$implicit,i=l.hc(2);return t?i.selection.toggle(a):null}),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc(2);l.Db(1),l.nc("checked",i.selection.isSelected(a))}}function Ii(t,e){1&t&&l.Qb(0,"mat-header-cell",22)}function Ci(t,e){if(1&t&&(l.Vb(0,"mat-cell",20),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",null==n?null:n.fullName," ")}}function yi(t,e){1&t&&l.Qb(0,"mat-header-cell",22)}function wi(t,e){if(1&t&&(l.Vb(0,"mat-cell",23),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Mc(" ",null==n?null:n.streetAddress,", ",null==n?null:n.city,", ",null==n?null:n.state,", ",null==n?null:n.zipCode," ")}}function Ui(t,e){1&t&&l.Qb(0,"mat-header-cell",22)}function Si(t,e){if(1&t&&(l.Vb(0,"mat-cell",20),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Jc(null==n?null:n.country)}}function ki(t,e){1&t&&l.Qb(0,"mat-header-cell",22)}function Di(t,e){if(1&t&&(l.Vb(0,"mat-cell",24),l.Vb(1,"button",25),l.Qb(2,"i",26),l.Ub(),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.pc("routerLink","/address/edit/",n.id,"")}}function Vi(t,e){1&t&&l.Qb(0,"mat-header-cell",22)}function xi(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",24),l.Vb(1,"button",27),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).deleteAddress(t.id)}),l.Qb(2,"i",28),l.Ub(),l.Ub()}}function Oi(t,e){1&t&&l.Qb(0,"mat-header-row")}function _i(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-row",29),l.dc("click",function(){l.yc(n);var t=e.$implicit,a=e.$implicit,i=l.hc(2);return i.selection.toggle(t),i.emitSelectionToParent(a.id)}),l.Ub()}}function Pi(t,e){if(1&t&&(l.Vb(0,"mat-table",6),l.Tb(1,7),l.Gc(2,gi,1,0,"mat-header-cell",8),l.Gc(3,vi,2,1,"mat-cell",9),l.Sb(),l.Tb(4,10),l.Gc(5,Ii,1,0,"mat-header-cell",11),l.Gc(6,Ci,2,1,"mat-cell",9),l.Sb(),l.Tb(7,12),l.Gc(8,yi,1,0,"mat-header-cell",11),l.Gc(9,wi,2,4,"mat-cell",13),l.Sb(),l.Tb(10,14),l.Gc(11,Ui,1,0,"mat-header-cell",11),l.Gc(12,Si,2,1,"mat-cell",9),l.Sb(),l.Tb(13,15),l.Gc(14,ki,1,0,"mat-header-cell",11),l.Gc(15,Di,3,1,"mat-cell",16),l.Sb(),l.Tb(16,17),l.Gc(17,Vi,1,0,"mat-header-cell",11),l.Gc(18,xi,3,0,"mat-cell",16),l.Sb(),l.Gc(19,Oi,1,0,"mat-header-row",18),l.Gc(20,_i,1,0,"mat-row",19),l.Ub()),2&t){var n=l.hc();l.nc("dataSource",n.dataSource),l.Db(19),l.nc("matHeaderRowDef",n.displayedColumns),l.Db(1),l.nc("matRowDefColumns",n.displayedColumns)}}function Ti(t,e){1&t&&(l.Vb(0,"div",30),l.Vb(1,"button",31),l.Vb(2,"mat-icon"),l.Ic(3," add "),l.Ub(),l.Vb(4,"span",5),l.Ic(5,"ADD_NEW_ADDRESS"),l.Ub(),l.Ub(),l.Ub())}function Ai(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",32),l.dc("click",function(){return l.yc(n),l.hc().chooseAddress()}),l.Vb(1,"mat-icon"),l.Ic(2," navigate_next "),l.Ub(),l.Vb(3,"span",5),l.Ic(4,"LABEL_CONTINUE"),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.nc("disabled",void 0===a.addressId)}}g.b.add(C.c,C.g),g.a.watch();var Li,Ei=((Li=function(){function t(e,n,a,o,r){i(this,t),this.addressService=e,this.translate=n,this.router=a,this.ngZone=o,this.snackBarHelperService=r,this.emitSelection=new l.o,this.allowEdit=!1,this.addNewAddressDiv=!0,this.showNextButton=!1,this.addressId=void 0,this.displayedColumns=["Name","Address","Country"],this.selection=new mi.c(!1,[]),this.addressExist=!1}return r(t,[{key:"ngOnInit",value:function(){this.allowEdit?this.displayedColumns.push("Edit","Remove"):this.displayedColumns.unshift("Selection"),this.load()}},{key:"load",value:function(){var t=this;this.addressService.get().subscribe(function(e){t.addressExist=e.length,t.storedAddresses=e,t.dataSource=new q.o(t.storedAddresses)},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),console.log(e)})}},{key:"emitSelectionToParent",value:function(t){this.selection.hasValue()?(this.emitSelection.emit(t),this.addressId=t):(this.emitSelection.emit(void 0),this.addressId=void 0)}},{key:"chooseAddress",value:function(){var t=this;sessionStorage.setItem("addressId",this.addressId),this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/delivery-method"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}},{key:"deleteAddress",value:function(t){var e=this;this.addressService.del(t).subscribe(function(){e.error=null,e.translate.get("ADDRESS_REMOVED").subscribe(function(t){e.snackBarHelperService.open(t,"confirmBar")},function(t){e.snackBarHelperService.open(t,"confirmBar")}),e.load()},function(t){var n;e.snackBarHelperService.open(null===(n=t.error)||void 0===n?void 0:n.error,"errorBar"),console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Li)(l.Pb(di),l.Pb(U.e),l.Pb(N.b),l.Pb(l.B),l.Pb(K))},Li.\u0275cmp=l.Jb({type:Li,selectors:[["app-address"]],inputs:{allowEdit:"allowEdit",addNewAddressDiv:"addNewAddressDiv",showNextButton:"showNextButton"},outputs:{emitSelection:"emitSelection"},decls:6,vars:7,consts:[[1,"mat-elevation-z6"],["translate","",4,"ngIf"],[3,"dataSource",4,"ngIf"],["style","margin-top: 20px;",4,"ngIf"],["mat-raised-button","","mat-button","","class","btn btn-next","color","primary","aria-label","Proceed to payment selection",3,"disabled","click",4,"ngIf"],["translate",""],[3,"dataSource"],["matColumnDef","Selection"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","Name"],["style","display: none;",4,"matHeaderCellDef"],["matColumnDef","Address"],["fxFlex","40%",4,"matCellDef"],["matColumnDef","Country"],["matColumnDef","Edit"],["fxflex","10%",4,"matCellDef"],["matColumnDef","Remove"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],["fxFlex","20%"],[3,"checked","click","change"],[2,"display","none"],["fxFlex","40%"],["fxflex","10%"],["mat-icon-button","",3,"routerLink"],[1,"far","fa-edit"],["mat-icon-button","",3,"click"],[1,"far","fa-trash-alt"],[3,"click"],[2,"margin-top","20px"],["mat-raised-button","","mat-button","","color","primary","aria-label","Add a new address","routerLink","/address/create",1,"btn","btn-new-address"],["mat-raised-button","","mat-button","","color","primary","aria-label","Proceed to payment selection",1,"btn","btn-next",3,"disabled","click"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Gc(1,pi,2,0,"h1",1),l.Gc(2,hi,2,0,"h1",1),l.Gc(3,Pi,21,3,"mat-table",2),l.Gc(4,Ti,6,0,"div",3),l.Gc(5,Ai,5,1,"button",4),l.Ub()),2&t&&(l.Hb("div-boundary",!e.addNewAddressDiv),l.Db(1),l.nc("ngIf",e.showNextButton),l.Db(1),l.nc("ngIf",!e.showNextButton),l.Db(1),l.nc("ngIf",e.addressExist),l.Db(1),l.nc("ngIf",e.addNewAddressDiv),l.Db(1),l.nc("ngIf",e.showNextButton))},directives:[y.a,Y.l,U.a,q.n,q.c,q.i,q.b,q.k,q.m,q.h,w.b,q.a,fi.a,S.a,N.c,q.j,q.l,Fe.a],styles:[".btn-new-address[_ngcontent-%COMP%]{display:block;margin-left:0;margin-right:auto}.btn-next[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;margin-top:-37px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large}.heading-text[_ngcontent-%COMP%]{justify-content:center;padding:12px 20px}.div-boundary[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,100%,.3);border-radius:5px;box-shadow:0 0 0!important}"]}),Li),Mi=o("TN/R"),Ri=["addressComp"];function Ni(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_QUANTITY "),l.Ub())}var Bi=function(){return{range:"10-1000"}};function Gi(t,e){1&t&&(l.Vb(0,"mat-error",21),l.Ic(1,"INVALID_QUANTITY "),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,Bi))}function Fi(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"INVALID_DATE"),l.Ub())}function ji(t,e){if(1&t&&(l.Vb(0,"mat-form-field",22),l.Vb(1,"mat-label",2),l.Ic(2,"LABEL_PICKUP_DATE"),l.Ub(),l.Qb(3,"input",23),l.Qb(4,"mat-datepicker-toggle",24),l.Qb(5,"mat-datepicker",null,25),l.Gc(7,Fi,2,0,"mat-error",7),l.Ub()),2&t){var n=l.vc(6),a=l.hc();l.Db(3),l.nc("formControl",a.pickUpDateControl)("matDatepicker",n),l.Db(1),l.nc("for",n),l.Db(3),l.nc("ngIf",a.pickUpDateControl.invalid)}}function Hi(t,e){if(1&t&&(l.Vb(0,"mat-checkbox",26),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t){var n=l.hc();l.nc("formControl",n.pickup),l.Db(1),l.Kc("",l.jc(2,2,"REQUEST_PICKUP")," ")}}g.b.add(I.z),g.a.watch();var Qi,zi,Wi,Ki,qi,Yi,Ji=((zi=function(){function t(e,n,a,o,r,c){i(this,t),this.recycleService=e,this.userService=n,this.configurationService=a,this.formSubmitService=o,this.translate=r,this.snackBarHelperService=c,this.requestorControl=new m.e({value:"",disabled:!0},[]),this.recycleQuantityControl=new m.e("",[m.z.required,m.z.min(10),m.z.max(1e3)]),this.pickUpDateControl=new m.e,this.pickup=new m.e(!1),this.recycle={},this.addressId=void 0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.recyclePage)&&(t.topImage="assets/public/images/products/".concat(e.application.recyclePage.topProductImage),t.bottomImage="assets/public/images/products/".concat(e.application.recyclePage.bottomProductImage))},function(t){return console.log(t)}),this.initRecycle(),this.findAll(),this.formSubmitService.attachEnterKeyHandler("recycle-form","recycleButton",function(){return t.save()})}},{key:"initRecycle",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.recycle={},t.recycle.UserId=e.id,t.userEmail=e.email,t.requestorControl.setValue(t.userEmail)},function(t){return console.log(t)})}},{key:"save",value:function(){var t=this;this.recycle.AddressId=this.addressId,this.recycle.quantity=this.recycleQuantityControl.value,this.pickup.value&&(this.recycle.isPickUp=this.pickup.value,this.recycle.date=this.pickUpDateControl.value),this.recycleService.save(this.recycle).subscribe(function(e){e.isPickup?t.translate.get("CONFIRM_RECYCLING_PICKUP",{pickupdate:e.pickupDate}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")}):t.translate.get("CONFIRM_RECYCLING_BOX").subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")}),t.addressComponent.load(),t.initRecycle(),t.resetForm()},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),console.log(e)})}},{key:"findAll",value:function(){var t=this;this.recycleService.find().subscribe(function(e){t.recycles=e},function(t){console.log(t)})}},{key:"resetForm",value:function(){this.addressId=void 0,this.recycleQuantityControl.setValue(""),this.recycleQuantityControl.markAsPristine(),this.recycleQuantityControl.markAsUntouched(),this.pickUpDateControl.setValue(""),this.pickUpDateControl.markAsPristine(),this.pickUpDateControl.markAsUntouched(),this.pickup.setValue(!1)}},{key:"getMessage",value:function(t){this.addressId=t}}]),t}()).\u0275fac=function(t){return new(t||zi)(l.Pb(bi),l.Pb(R),l.Pb(h),l.Pb(te),l.Pb(U.e),l.Pb(K))},zi.\u0275cmp=l.Jb({type:zi,selectors:[["app-recycle"]],viewQuery:function(t,e){var n;1&t&&l.Nc(Ri,3),2&t&&l.uc(n=l.ec())&&(e.addressComponent=n.first)},decls:41,vars:16,consts:[["fxLayout","row","fxLayoutGap","5%","fxLayout.lt-md","column","fxLayoutGap.lt-md","20px",1,"mat-elevation-z6","mat-own-card"],["fxLayout","column","fxLayoutGap","20px","fxFlex","50%"],["translate",""],["id","recycle-form",1,"form-container"],["appearance","outline","color","accent"],["type","text","matInput","",3,"formControl"],["type","number","matInput","",3,"formControl","placeholder"],["translate","",4,"ngIf"],["translate","",3,"translateParams",4,"ngIf"],[1,"mat-elevation-z0",3,"addNewAddressDiv","emitSelection"],["addressComp",""],["appearance","outline",4,"ngIf"],[3,"formControl",4,"ngIf"],["type","submit","id","recycleButton","mat-raised-button","","color","primary",3,"disabled","click"],[1,"fas","fa-paper-plane","fa-lg"],["fxFlex","50%"],["fxLayout","column","fxLayoutGap","20px","fxLayoutAlign","center"],["translate","",1,"responsibility-header"],["fxLayout","row","fxLayoutGap","20px",1,"mat-elevation-z0"],["mat-card-image","",3,"src"],[1,"fill-remaining-space"],["translate","",3,"translateParams"],["appearance","outline"],["matInput","",3,"formControl","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[3,"formControl"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"div",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_RECYCLE"),l.Ub(),l.Vb(4,"div",3),l.Vb(5,"mat-form-field",4),l.Vb(6,"mat-label",2),l.Ic(7,"LABEL_REQUESTOR"),l.Ub(),l.Qb(8,"input",5),l.Ub(),l.Vb(9,"mat-form-field",4),l.Vb(10,"mat-label",2),l.Ic(11,"LABEL_QUANTITY"),l.Ub(),l.Qb(12,"input",6),l.ic(13,"translate"),l.Gc(14,Ni,2,0,"mat-error",7),l.Gc(15,Gi,2,2,"mat-error",8),l.Ub(),l.Vb(16,"app-address",9,10),l.dc("emitSelection",function(t){return e.getMessage(t)}),l.Ub(),l.Gc(18,ji,8,4,"mat-form-field",11),l.Gc(19,Hi,3,4,"mat-checkbox",12),l.Ub(),l.Vb(20,"button",13),l.dc("click",function(){return e.save()}),l.Qb(21,"i",14),l.Ic(22),l.ic(23,"translate"),l.Ub(),l.Ub(),l.Vb(24,"div",15),l.Vb(25,"div",16),l.Vb(26,"h3",17),l.Ic(27,"SECTION_PRESS_JUICE_RESPONSIBLY"),l.Ub(),l.Vb(28,"mat-card",18),l.Qb(29,"img",19),l.Vb(30,"mat-card-content"),l.Vb(31,"div"),l.Vb(32,"small"),l.Ic(33,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Vb(34,"mat-card",18),l.Qb(35,"img",19),l.Vb(36,"mat-card-content"),l.Vb(37,"div"),l.Vb(38,"small"),l.Ic(39,"Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(40,"span",20),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(8),l.nc("formControl",e.requestorControl),l.Db(4),l.nc("formControl",e.recycleQuantityControl)("placeholder",l.jc(13,12,"IN_LITERS_PLACEHOLDER")),l.Db(2),l.nc("ngIf",e.recycleQuantityControl.invalid&&e.recycleQuantityControl.errors.required),l.Db(1),l.nc("ngIf",e.recycleQuantityControl.invalid&&(e.recycleQuantityControl.errors.min||e.recycleQuantityControl.errors.max)),l.Db(1),l.nc("addNewAddressDiv",!1),l.Db(2),l.nc("ngIf",e.pickup.value&&e.recycleQuantityControl.value>100),l.Db(1),l.nc("ngIf",e.recycleQuantityControl.value>100),l.Db(1),l.nc("disabled",void 0===e.addressId||e.recycleQuantityControl.invalid||e.pickUpDateControl.invalid),l.Db(2),l.Kc(" ",l.jc(23,14,"BTN_SUBMIT")," "),l.Db(7),l.nc("src",e.topImage,l.Bc),l.Db(6),l.nc("src",e.bottomImage,l.Bc))},directives:[y.a,w.d,w.e,w.b,U.a,ee.c,ee.g,ne.b,m.d,m.p,m.f,m.u,Y.l,Ei,S.a,w.c,y.d,y.b,ee.b,Mi.b,Mi.d,ee.h,Mi.a,jn.a],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}button[_ngcontent-%COMP%]{margin-left:20%;margin-top:5px;width:60%}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:10%;margin-right:10%}mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:auto}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:20px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]}),zi),$i=((Qi=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Challenges"}return r(t,[{key:"find",value:function(t){return this.http.get(this.host+"/",{params:t}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"repeatNotification",value:function(t){return this.http.get(this.hostServer+"/rest/repeat-notification",{params:{challenge:t}}).pipe(Object(p.a)(function(t){throw t}))}},{key:"continueCode",value:function(){return this.http.get(this.hostServer+"/rest/continue-code").pipe(Object(f.a)(function(t){return t.continueCode}),Object(p.a)(function(t){throw t}))}},{key:"continueCodeFindIt",value:function(){return this.http.get(this.hostServer+"/rest/continue-code-findIt").pipe(Object(f.a)(function(t){return t.continueCode}),Object(p.a)(function(t){throw t}))}},{key:"continueCodeFixIt",value:function(){return this.http.get(this.hostServer+"/rest/continue-code-fixIt").pipe(Object(f.a)(function(t){return t.continueCode}),Object(p.a)(function(t){throw t}))}},{key:"restoreProgress",value:function(t){return this.http.put(this.hostServer+"/rest/continue-code/apply/"+t,{}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"restoreProgressFindIt",value:function(t){return this.http.put(this.hostServer+"/rest/continue-code-findIt/apply/"+t,{}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"restoreProgressFixIt",value:function(t){return this.http.put(this.hostServer+"/rest/continue-code-fixIt/apply/"+t,{}).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Qi)(l.Zb(b.b))},Qi.\u0275prov=l.Lb({token:Qi,factory:Qi.\u0275fac,providedIn:"root"}),Qi),Zi=o("Iab2"),Xi=o("Cfvw"),to=o("LRne"),eo=((Yi=function(){function t(e,n,a,o){i(this,t),this.cookieService=e,this.challengeService=n,this.snackBarHelperService=a,this.snackBar=o,this.VERSION=1}return r(t,[{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"owasp_juice_shop",e={version:this.VERSION};e.scoreBoard={displayedDifficulties:localStorage.getItem("displayedDifficulties")?JSON.parse(String(localStorage.getItem("displayedDifficulties"))):void 0,showSolvedChallenges:localStorage.getItem("showSolvedChallenges")?JSON.parse(String(localStorage.getItem("showSolvedChallenges"))):void 0,showDisabledChallenges:localStorage.getItem("showDisabledChallenges")?JSON.parse(String(localStorage.getItem("showDisabledChallenges"))):void 0,showOnlyTutorialChallenges:localStorage.getItem("showOnlyTutorialChallenges")?JSON.parse(String(localStorage.getItem("showOnlyTutorialChallenges"))):void 0,displayedChallengeCategories:localStorage.getItem("displayedChallengeCategories")?JSON.parse(String(localStorage.getItem("displayedChallengeCategories"))):void 0},e.banners={welcomeBannerStatus:this.cookieService.get("welcomebanner_status")?this.cookieService.get("welcomebanner_status"):void 0,cookieConsentStatus:this.cookieService.get("cookieconsent_status")?this.cookieService.get("cookieconsent_status"):void 0},e.language=this.cookieService.get("language")?this.cookieService.get("language"):void 0,e.continueCode=this.cookieService.get("continueCode")?this.cookieService.get("continueCode"):void 0,e.continueCodeFindIt=this.cookieService.get("continueCodeFindIt")?this.cookieService.get("continueCodeFindIt"):void 0,e.continueCodeFixIt=this.cookieService.get("continueCodeFixIt")?this.cookieService.get("continueCodeFixIt"):void 0;var n=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf-8"});Object(Zi.saveAs)(n,"".concat(t,"-").concat((new Date).toISOString().split("T")[0],".json"))}},{key:"restore",value:function(t){var e=this;return Object(Xi.a)(t.text().then(function(n){var a,i,o,r,c,s,l,u=JSON.parse(n);u.version===e.VERSION?(e.restoreLocalStorage("displayedDifficulties",null===(a=u.scoreBoard)||void 0===a?void 0:a.displayedDifficulties),e.restoreLocalStorage("showSolvedChallenges",null===(i=u.scoreBoard)||void 0===i?void 0:i.showSolvedChallenges),e.restoreLocalStorage("showDisabledChallenges",null===(o=u.scoreBoard)||void 0===o?void 0:o.showDisabledChallenges),e.restoreLocalStorage("showOnlyTutorialChallenges",null===(r=u.scoreBoard)||void 0===r?void 0:r.showOnlyTutorialChallenges),e.restoreLocalStorage("displayedChallengeCategories",null===(c=u.scoreBoard)||void 0===c?void 0:c.displayedChallengeCategories),e.restoreCookie("welcomebanner_status",null===(s=u.banners)||void 0===s?void 0:s.welcomeBannerStatus),e.restoreCookie("cookieconsent_status",null===(l=u.banners)||void 0===l?void 0:l.cookieConsentStatus),e.restoreCookie("language",u.language),e.restoreCookie("continueCodeFindIt",u.continueCodeFindIt),e.restoreCookie("continueCodeFixIt",u.continueCodeFixIt),e.restoreCookie("continueCode",u.continueCode),e.snackBar.open("Backup has been restored from "+t.name,"Apply changes now",{duration:1e4}).onAction().subscribe(function(){var t=u.continueCode?e.challengeService.restoreProgress(encodeURIComponent(u.continueCode)):Object(to.a)(!0),n=u.continueCodeFindIt?e.challengeService.restoreProgressFindIt(encodeURIComponent(u.continueCodeFindIt)):Object(to.a)(!0),a=u.continueCodeFixIt?e.challengeService.restoreProgressFixIt(encodeURIComponent(u.continueCodeFixIt)):Object(to.a)(!0);Object(wn.a)([t,n,a]).subscribe(function(){location.reload()},function(t){return console.log(t)})})):e.snackBarHelperService.open("Version ".concat(u.version," is incompatible with expected version ").concat(e.VERSION),"errorBar")}).catch(function(t){e.snackBarHelperService.open("Backup restore operation failed: ".concat(t.message),"errorBar")}))}},{key:"restoreCookie",value:function(t,e){if(e){var n=new Date;n.setFullYear(n.getFullYear()+1),this.cookieService.put(t,e,{expires:n})}else this.cookieService.remove(t)}},{key:"restoreLocalStorage",value:function(t,e){e?localStorage.setItem(t,JSON.stringify(e)):localStorage.removeItem(t)}}]),t}()).\u0275fac=function(t){return new(t||Yi)(l.Zb(d.b),l.Zb($i),l.Zb(K),l.Zb(W.a))},Yi.\u0275prov=l.Lb({token:Yi,factory:Yi.\u0275fac,providedIn:"root"}),Yi),no=((qi=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/snippets"}return r(t,[{key:"get",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"challenges",value:function(){return this.http.get("".concat(this.host)).pipe(Object(f.a)(function(t){return t.challenges}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||qi)(l.Zb(b.b))},qi.\u0275prov=l.Lb({token:qi,factory:qi.\u0275fac,providedIn:"root"}),qi),ao=((Ki=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/snippets/fixes"}return r(t,[{key:"get",value:function(t){return this.http.get(this.host+"/".concat(t)).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"check",value:function(t,e){return this.http.post(this.host,{key:t,selectedFix:e}).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ki)(l.Zb(b.b))},Ki.\u0275prov=l.Lb({token:Ki,factory:Ki.\u0275fac,providedIn:"root"}),Ki),io=((Wi=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/snippets/verdict"}return r(t,[{key:"check",value:function(t,e){return this.http.post(this.host,{key:t,selectedLines:e}).pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Wi)(l.Zb(b.b))},Wi.\u0275prov=l.Lb({token:Wi,factory:Wi.\u0275fac,providedIn:"root"}),Wi),oo=o("M9ds"),ro=o("dJsq");function co(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div",5),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().selectLines(t.lineNumber)}),l.Ic(1),l.Ub()}if(2&t){var a=e.$implicit;l.Db(1),l.Jc(a.marked?"\u2705":"\ud83d\udd32")}}var so,lo=((so=function(){function e(){i(this,e),this.code="",this.addLine=new l.o,this.langs=["javascript","typescript","json","yaml"]}return r(e,[{key:"ngOnInit",value:function(){this.lineMarkers=this.code.split("\n").map(function(t,e){return{lineNumber:e+1,marked:!1}})}},{key:"selectLines",value:function(e){var n=this.lineMarkers[e-1];n.marked=!n.marked;var a,i=[],o=t(this.lineMarkers);try{for(o.s();!(a=o.n()).done;){var r=a.value,c=r.marked,s=r.lineNumber;c&&i.push(s)}}catch(l){o.e(l)}finally{o.f()}this.addLine.emit(i)}}]),e}()).\u0275fac=function(t){return new(t||so)},so.\u0275cmp=l.Jb({type:so,selectors:[["app-code-area"]],inputs:{code:"code",vulnLines:"vulnLines"},outputs:{addLine:"addLine"},decls:6,vars:4,consts:[["id","code-area"],["id","code"],["id","emphasize"],["class","lineMarker",3,"click",4,"ngFor","ngForOf"],[3,"highlight","lineNumbers","languages"],[1,"lineMarker",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"pre",1),l.Vb(2,"div",2),l.Gc(3,co,2,1,"div",3),l.Ic(4,"\n  "),l.Ub(),l.Qb(5,"code",4),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.nc("ngForOf",e.lineMarkers),l.Db(2),l.nc("highlight",e.code)("lineNumbers",!0)("languages",e.langs))},directives:[Y.k,ro.b],styles:[".hljs[_ngcontent-%COMP%]{display:block;overflow-x:auto;padding:.5em;background:#fff;color:#000}.hljs-comment[_ngcontent-%COMP%], .hljs-quote[_ngcontent-%COMP%], .hljs-variable[_ngcontent-%COMP%]{color:green}.hljs-built_in[_ngcontent-%COMP%], .hljs-keyword[_ngcontent-%COMP%], .hljs-name[_ngcontent-%COMP%], .hljs-selector-tag[_ngcontent-%COMP%], .hljs-tag[_ngcontent-%COMP%]{color:#00f}.hljs-addition[_ngcontent-%COMP%], .hljs-attribute[_ngcontent-%COMP%], .hljs-literal[_ngcontent-%COMP%], .hljs-section[_ngcontent-%COMP%], .hljs-string[_ngcontent-%COMP%], .hljs-template-tag[_ngcontent-%COMP%], .hljs-template-variable[_ngcontent-%COMP%], .hljs-title[_ngcontent-%COMP%], .hljs-type[_ngcontent-%COMP%]{color:#a31515}.hljs-deletion[_ngcontent-%COMP%], .hljs-meta[_ngcontent-%COMP%], .hljs-selector-attr[_ngcontent-%COMP%], .hljs-selector-pseudo[_ngcontent-%COMP%]{color:#2b91af}.hljs-doctag[_ngcontent-%COMP%]{color:grey}.hljs-attr[_ngcontent-%COMP%]{color:red}.hljs-bullet[_ngcontent-%COMP%], .hljs-link[_ngcontent-%COMP%], .hljs-symbol[_ngcontent-%COMP%]{color:#00b0e8}.hljs-emphasis[_ngcontent-%COMP%]{font-style:italic}.hljs-strong[_ngcontent-%COMP%]{font-weight:700}#emphasize[_ngcontent-%COMP%]{float:left;padding:.5em}#code[_ngcontent-%COMP%]{width:60em}.lineMarker[_ngcontent-%COMP%]{cursor:pointer}"]}),so),uo=o("wSOg");function bo(t,e){if(1&t&&(l.Vb(0,"option",5),l.Ic(1),l.Ub()),2&t){var n=e.index,a=l.hc();l.nc("value",n)("selected",a.selectedFix===n),l.Db(1),l.Kc("Fix ",n+1,"")}}function mo(t,e){if(1&t&&(l.Vb(0,"div"),l.Qb(1,"td-ngx-text-diff",8),l.Ub()),2&t){var n=l.hc().$implicit,a=l.hc();l.Db(1),l.nc("left",a.snippet)("right",null==n?null:n.fix)}}function fo(t,e){if(1&t&&(l.Vb(0,"div",6),l.Gc(1,mo,2,2,"div",7),l.Ub()),2&t){var n=e.index,a=l.hc();l.Db(1),l.nc("ngIf",a.selectedFix===n)}}var po,ho=((po=function(){function e(){i(this,e),this.snippet="",this.fixes=[],this.emitFix=new l.o,this.selectedFix=0,this.randomFixes=[]}return r(e,[{key:"shuffle",value:function(){var e,n=0,a=t(this.fixes);try{for(a.s();!(e=a.n()).done;){var i=e.value;this.randomFixes.push({fix:i,index:n}),n++}}catch(s){a.e(s)}finally{a.f()}for(var o=100*Math.random();o>0;){for(var r=this.randomFixes[this.randomFixes.length-1],c=this.randomFixes.length-1;c>0;c--)this.randomFixes[c]=this.randomFixes[c-1];this.randomFixes[0]=r,o--}}},{key:"ngOnInit",value:function(){this.shuffle(),this.initialEmit()}},{key:"initialEmit",value:function(){void 0!==this.randomFixes[0]&&this.emitFix.emit(this.randomFixes[0].index)}},{key:"changeFix",value:function(t){this.selectedFix=parseInt(t.target.value,10),this.emitFix.emit(this.randomFixes[this.selectedFix].index)}}]),e}()).\u0275fac=function(t){return new(t||po)},po.\u0275cmp=l.Jb({type:po,selectors:[["app-code-fixes"]],inputs:{snippet:"snippet",fixes:"fixes"},outputs:{emitFix:"changeFix"},decls:8,vars:2,consts:[["appearance","fill"],["translate",""],["matNativeControl","",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","code",4,"ngFor","ngForOf"],[3,"value","selected"],["id","code"],[4,"ngIf"],["format","LineByLine",3,"left","right"]],template:function(t,e){1&t&&(l.Vb(0,"div"),l.Qb(1,"br"),l.Vb(2,"mat-form-field",0),l.Vb(3,"mat-label",1),l.Ic(4,"LABEL_CORRECT_FIX"),l.Ub(),l.Vb(5,"select",2),l.dc("change",function(t){return e.changeFix(t)}),l.Gc(6,bo,2,3,"option",3),l.Ub(),l.Ub(),l.Gc(7,fo,2,1,"div",4),l.Ub()),2&t&&(l.Db(6),l.nc("ngForOf",e.randomFixes),l.Db(1),l.nc("ngForOf",e.randomFixes))},directives:[ee.c,ee.g,U.a,ne.b,Y.k,m.t,m.B,Y.l,uo.a],styles:["#code[_ngcontent-%COMP%]{width:63em}"]}),po);function go(t,e){if(1&t){var n=l.Wb();l.Vb(0,"app-code-area",16),l.dc("addLine",function(t){return l.yc(n),l.hc().addLine(t)}),l.Ub()}if(2&t){var a=l.hc();l.nc("code",null==a.snippet?null:a.snippet.snippet)("vulnLines",null==a.snippet?null:a.snippet.vulnLines)}}function vo(t,e){1&t&&(l.Vb(0,"pre"),l.Ic(1,"            "),l.Vb(2,"code",17),l.Ic(3,"LOADING_CODE_SNIPPET"),l.Ub(),l.Ic(4,"\n          "),l.Ub())}function Io(t,e){if(1&t&&(l.Ic(0),l.ic(1,"translate"),l.Vb(2,"mat-icon",18),l.Ic(3),l.Ub()),2&t){var n=l.hc();l.Kc(" ",l.jc(1,3,"TAB_FIX_IT")," "),l.Db(2),l.nc("color",n.lockColor()),l.Db(1),l.Jc(n.lockIcon())}}function Co(t,e){if(1&t){var n=l.Wb();l.Vb(0,"app-code-fixes",19),l.dc("changeFix",function(t){return l.yc(n),l.hc().setFix(t)}),l.Ub()}if(2&t){var a=l.hc();l.nc("snippet",null==a.snippet?null:a.snippet.snippet)("fixes",a.fixes)}}var yo,wo=function(t){return t[t.Undecided=0]="Undecided",t[t.Right=1]="Right",t[t.Wrong=2]="Wrong",t}({}),Uo=((yo=function(){function t(e,n,a,r,c,s){var l=this;i(this,t),this.dialogData=e,this.codeSnippetService=n,this.vulnLinesService=a,this.codeFixesService=r,this.challengeService=c,this.cookieService=s,this.snippet=null,this.fixes=null,this.tab=new m.e(0),this.lock=wo.Undecided,this.result=wo.Undecided,this.solved={findIt:!1,fixIt:!1},this.addLine=function(t){l.selectedLines=t},this.setFix=function(t){l.selectedFix=t},this.toggleTab=function(t){l.tab.setValue(t),l.result=wo.Undecided,0===t&&l.solved.findIt&&(l.result=wo.Right),1===t&&l.solved.fixIt&&(l.result=wo.Right)},this.checkFix=function(){l.codeFixesService.check(l.dialogData.key,l.selectedFix).subscribe(function(t){l.setVerdict(t.verdict)})},this.checkLines=function(){l.vulnLinesService.check(l.dialogData.key,l.selectedLines).subscribe(function(t){l.setVerdict(t.verdict)})},this.setVerdict=function(t){l.result!==wo.Right&&(t?(0===l.tab.value?(l.solved.findIt=!0,l.challengeService.continueCodeFindIt().subscribe(function(t){if(!t)throw new Error("Received invalid continue code from the sever!");var e=new Date;e.setFullYear(e.getFullYear()+1),console.log(t),l.cookieService.put("continueCodeFindIt",t,{expires:e})},function(t){return console.log(t)})):(l.solved.fixIt=!0,l.challengeService.continueCodeFixIt().subscribe(function(t){if(!t)throw new Error("Received invalid continue code from the sever!");var e=new Date;e.setFullYear(e.getFullYear()+1),console.log(t),l.cookieService.put("continueCodeFixIt",t,{expires:e})},function(t){return console.log(t)})),l.result=wo.Right,l.lock=wo.Right,o.e(1).then(o.bind(null,"5RHJ")).then(function(t){t.shootConfetti()}).then(function(){0===l.tab.value&&null!==l.fixes&&l.toggleTab(1)})):l.result=wo.Wrong)}}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.codeSnippetService.get(this.dialogData.key).subscribe(function(e){t.snippet=e,t.solved.findIt=!1,t.dialogData.codingChallengeStatus>=1&&(t.result=wo.Right,t.lock=wo.Right,t.solved.findIt=!0)},function(e){var n;t.snippet={snippet:JSON.stringify(null===(n=e.error)||void 0===n?void 0:n.error)}}),this.codeFixesService.get(this.dialogData.key).subscribe(function(e){t.fixes=e.fixes,t.solved.fixIt=!1,t.dialogData.codingChallengeStatus>=2&&(t.solved.fixIt=!0)},function(){t.fixes=null})}},{key:"lockIcon",value:function(){if(null===this.fixes)return"lock";switch(this.lock){case wo.Right:return"lock_open";case wo.Wrong:case wo.Undecided:return"lock"}}},{key:"lockColor",value:function(){switch(this.lockIcon()){case"lock_open":return"accent";case"lock":return"warn"}}},{key:"resultIcon",value:function(){switch(this.result){case wo.Right:return"check";case wo.Wrong:return"clear";default:return"send"}}},{key:"resultColor",value:function(){switch(this.resultIcon()){case"check":return"accent";case"clear":return"warn"}}}]),t}()).\u0275fac=function(t){return new(t||yo)(l.Pb(nn.a),l.Pb(no),l.Pb(io),l.Pb(ao),l.Pb($i),l.Pb(d.b))},yo.\u0275cmp=l.Jb({type:yo,selectors:[["app-user-details"]],decls:47,vars:32,consts:[["id","code-snippet",1,"mat-typography"],["mat-stretch-tabs","",3,"selectedIndex","selectedIndexChange"],[3,"label"],["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutGap","10px"],[3,"code","vulnLines","addLine",4,"ngIf"],[4,"ngIf"],["align","end",1,"dialogAction"],["mat-button","",2,"height","0","position","absolute"],["mat-stroked-button","","mat-dialog-close","","aria-label","Close Dialog",1,"close-dialog","buttons",3,"mat-dialog-close"],[1,"material-icons"],["mat-stroked-button","",3,"disabled","click"],[3,"color"],[3,"disabled"],["mat-tab-label",""],[3,"snippet","fixes","changeFix",4,"ngIf"],[3,"code","vulnLines","addLine"],["translate",""],[1,"materaial-icons-outlined",3,"color"],[3,"snippet","fixes","changeFix"]],template:function(t,e){1&t&&(l.Vb(0,"mat-dialog-content",0),l.Vb(1,"header"),l.Vb(2,"h1"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub(),l.Vb(5,"mat-tab-group",1),l.dc("selectedIndexChange",function(t){return e.toggleTab(t)}),l.Vb(6,"mat-tab",2),l.ic(7,"translate"),l.Vb(8,"div",3),l.Vb(9,"div",4),l.Gc(10,go,1,2,"app-code-area",5),l.Gc(11,vo,5,0,"pre",6),l.Ub(),l.Ub(),l.Vb(12,"mat-dialog-actions",7),l.Qb(13,"button",8),l.Vb(14,"button",9),l.Vb(15,"i",10),l.Ic(16," close "),l.Ub(),l.Vb(17,"span"),l.Ic(18),l.ic(19,"translate"),l.Ub(),l.Ub(),l.Vb(20,"button",11),l.dc("click",function(){return e.checkLines()}),l.Vb(21,"span"),l.Ic(22),l.ic(23,"translate"),l.Ub(),l.Vb(24,"mat-icon",12),l.Ic(25),l.Ub(),l.Ub(),l.Qb(26,"br"),l.Ub(),l.Ub(),l.Vb(27,"mat-tab",13),l.Gc(28,Io,4,5,"ng-template",14),l.Vb(29,"div",3),l.Vb(30,"div",4),l.Gc(31,Co,1,2,"app-code-fixes",15),l.Ub(),l.Ub(),l.Vb(32,"mat-dialog-actions",7),l.Qb(33,"button",8),l.Vb(34,"button",9),l.Vb(35,"i",10),l.Ic(36," close "),l.Ub(),l.Vb(37,"span"),l.Ic(38),l.ic(39,"translate"),l.Ub(),l.Ub(),l.Vb(40,"button",11),l.dc("click",function(){return e.checkFix()}),l.Vb(41,"span"),l.Ic(42),l.ic(43,"translate"),l.Ub(),l.Vb(44,"mat-icon",12),l.Ic(45),l.Ub(),l.Ub(),l.Qb(46,"br"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Lc("",l.jc(4,20,"TITLE_CODING_CHALLENGE"),": ",e.dialogData.name,""),l.Db(2),l.nc("selectedIndex",e.tab.value),l.Db(1),l.nc("label",l.jc(7,22,"TAB_FIND_IT")),l.Db(4),l.nc("ngIf",null!==e.snippet),l.Db(1),l.nc("ngIf",null===e.snippet),l.Db(3),l.nc("mat-dialog-close",e.solved),l.Db(4),l.Kc(" ",l.jc(19,24,"BTN_CLOSE"),""),l.Db(2),l.nc("disabled",e.solved.findIt),l.Db(2),l.Kc(" ",l.jc(23,26,"BTN_SUBMIT"),""),l.Db(2),l.nc("color",e.resultColor()),l.Db(1),l.Kc(" ",e.resultIcon()," "),l.Db(2),l.nc("disabled","lock"===e.lockIcon()),l.Db(4),l.nc("ngIf",null!==e.snippet&&null!==e.fixes),l.Db(3),l.nc("mat-dialog-close",e.solved),l.Db(4),l.Kc(" ",l.jc(39,28,"BTN_CLOSE"),""),l.Db(2),l.nc("disabled",e.solved.fixIt),l.Db(2),l.Kc(" ",l.jc(43,30,"BTN_SUBMIT"),""),l.Db(2),l.nc("color",e.resultColor()),l.Db(1),l.Kc(" ",e.resultIcon()," "))},directives:[nn.e,oo.b,oo.a,w.d,w.e,Y.l,nn.c,S.a,nn.d,Fe.a,oo.c,lo,U.a,ho],pipes:[U.d],styles:["mat-divider[_ngcontent-%COMP%]{margin-bottom:10px}.stretched-tabs[_ngcontent-%COMP%]{max-width:600px}#code-snippet[_ngcontent-%COMP%]{width:65em}.dialogAction[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),yo),So=o("7g+E"),ko=o("BTe0"),Do=o("Ynp+"),Vo=o("f44v");function xo(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",3),l.dc("click",function(){return l.yc(n),l.hc().repeatNotification()}),l.ic(1,"translate"),l.Vb(2,"mat-icon",4),l.Ic(3,"flag"),l.Ub(),l.Vb(4,"mat-icon",4),l.Ic(5,"check_box"),l.Ub(),l.Vb(6,"span",5),l.Ic(7),l.ic(8,"translate"),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.nc("id",a.challenge.name+".solved")("matTooltip",a.allowRepeatNotifications?l.jc(1,5,"NOTIFICATION_RESEND_INSTRUCTIONS"):null),l.Db(2),l.nc("hidden",!a.allowRepeatNotifications),l.Db(2),l.nc("hidden",a.allowRepeatNotifications),l.Db(3),l.Jc(l.jc(8,7,"STATUS_SOLVED"))}}function Oo(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",6),l.dc("click",function(){return l.yc(n),l.hc().openHint()}),l.Vb(1,"mat-icon",4),l.Ic(2,"book"),l.Ub(),l.Vb(3,"mat-icon",4),l.Ic(4,"check_box_outline_blank"),l.Ub(),l.Vb(5,"span",5),l.Ic(6),l.ic(7,"translate"),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.nc("id",a.challenge.name+".notSolved")("matTooltip",a.showChallengeHints?a.challenge.hint:null),l.Db(1),l.nc("hidden",!a.showChallengeHints||!a.challenge.hintUrl),l.Db(2),l.nc("hidden",a.showChallengeHints&&a.challenge.hintUrl),l.Db(3),l.Jc(l.jc(7,5,"STATUS_UNSOLVED"))}}function _o(t,e){if(1&t&&l.Qb(0,"i"),2&t){var n=l.hc(2);l.Fb("icon-"+(null==n.challenge.disabledEnv?null:n.challenge.disabledEnv.toString().toLowerCase()))}}function Po(t,e){if(1&t&&l.Qb(0,"i"),2&t){var n=l.hc(2);l.Fb("fab fa-"+(null==n.challenge.disabledEnv?null:n.challenge.disabledEnv.toString().toLowerCase()))}}function To(t,e){if(1&t&&(l.Vb(0,"button",7),l.Vb(1,"span"),l.Gc(2,_o,1,3,"i",8),l.Gc(3,Po,1,3,"i",8),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t){var n=l.hc();l.nc("id",n.challenge.name+".unavailable")("matTooltip",n.challenge.hint),l.Db(2),l.nc("ngIf","Windows"!==n.challenge.disabledEnv),l.Db(1),l.nc("ngIf","Windows"===n.challenge.disabledEnv),l.Db(1),l.Kc(" ",l.jc(5,5,"STATUS_UNAVAILABLE")," ")}}g.b.add(v.l),g.a.watch();var Ao,Lo=((Ao=function(){function t(e,n){i(this,t),this.challengeService=e,this.windowRefService=n,this.challenge={},this.allowRepeatNotifications=!1,this.showChallengeHints=!0}return r(t,[{key:"repeatNotification",value:function(){var t=this;this.allowRepeatNotifications&&this.challengeService.repeatNotification(encodeURIComponent(this.challenge.name)).subscribe(function(){t.windowRefService.nativeWindow.scrollTo(0,0)},function(t){return console.log(t)})}},{key:"openHint",value:function(){this.showChallengeHints&&this.challenge.hintUrl&&this.windowRefService.nativeWindow.open(this.challenge.hintUrl,"_blank")}}]),t}()).\u0275fac=function(t){return new(t||Ao)(l.Pb($i),l.Pb(Fn))},Ao.\u0275cmp=l.Jb({type:Ao,selectors:[["app-challenge-status-badge"]],inputs:{challenge:"challenge",allowRepeatNotifications:"allowRepeatNotifications",showChallengeHints:"showChallengeHints"},decls:3,vars:3,consts:[["mat-raised-button","","color","accent","matTooltipPosition","above",3,"id","matTooltip","click",4,"ngIf"],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"id","matTooltip","click",4,"ngIf"],["mat-raised-button","","matTooltipPosition","above",3,"id","matTooltip",4,"ngIf"],["mat-raised-button","","color","accent","matTooltipPosition","above",3,"id","matTooltip","click"],[3,"hidden"],["fxShow","","fxHide.lt-lg",""],["mat-raised-button","","color","primary","matTooltipPosition","above",3,"id","matTooltip","click"],["mat-raised-button","","matTooltipPosition","above",3,"id","matTooltip"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(l.Gc(0,xo,9,9,"button",0),l.Gc(1,Oo,8,7,"button",1),l.Gc(2,To,6,7,"button",2)),2&t&&(l.nc("ngIf",!e.challenge.disabledEnv&&e.challenge.solved),l.Db(1),l.nc("ngIf",!e.challenge.disabledEnv&&!e.challenge.solved),l.Db(1),l.nc("ngIf",e.challenge.disabledEnv))},directives:[Y.l,S.a,je.a,Fe.a,J.b],pipes:[U.d],styles:[""]}),Ao),Eo=o("8Qe2"),Mo=function(t){return{num:t}},Ro=function(t){return{tier:t}};function No(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-button-toggle",6),l.dc("change",function(){l.yc(n);var t=e.$implicit;return l.hc().toggleDifficulty(t)}),l.ic(1,"translate"),l.ic(2,"translate"),l.Vb(3,"label"),l.Vb(4,"span",23),l.gc(),l.Vb(5,"svg",24),l.Vb(6,"linearGradient",25),l.Qb(7,"stop",26),l.Qb(8,"stop",27),l.Ub(),l.Qb(9,"path",28),l.Ub(),l.fc(),l.Vb(10,"span",29),l.Ic(11),l.Ub(),l.Vb(12,"span"),l.Ic(13),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc();l.nc("checked",i.displayedDifficulties.includes(a))("disabled",i.restrictToTutorialsFirst&&a>i.tutorialsTier)("matTooltip",i.restrictToTutorialsFirst&&!i.allTutorialsCompleted&&a>i.tutorialsTier?i.isLastTutorialsTier?l.kc(1,13,"INFO_FULL_CHALLENGE_MODE",l.sc(19,Mo,i.challenges.length)):l.kc(2,16,"INFO_NEXT_TUTORIAL_TIER",l.sc(21,Ro,"\u2605".repeat(i.tutorialsTier))):""),l.Db(5),l.Dc("fill","url(#"+a+")"),l.Db(1),l.nc("id",a),l.Db(1),l.Eb("offset",i.challenges?i.offsetValue[a-1]:"100%"),l.Db(1),l.Eb("offset",i.challenges?i.offsetValue[a-1]:"100%"),l.Db(1),l.Eb("fill","inherit"),l.Db(2),l.Jc(a),l.Db(1),l.Fb("fa-layers-counter "+(i.solvedChallengesOfDifficulty[a-1].length===i.totalChallengesOfDifficulty[a-1].length?"accent-notification":0===i.solvedChallengesOfDifficulty[a-1].length?"warn-notification":"primary-notification")),l.Db(1),l.Kc(" ",i.solvedChallengesOfDifficulty[a-1].length+"/"+i.totalChallengesOfDifficulty[a-1].length," ")}}function Bo(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-button-toggle",30),l.dc("change",function(){return l.yc(n),l.hc().toggleShowOnlyTutorialChallenges()}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," school "),l.Ub(),l.Ic(4),l.ic(5,"translate"),l.Ub()}if(2&t){var a=l.hc();l.nc("checked",a.showOnlyTutorialChallenges)("disabled",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted)("matTooltip",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted?l.kc(1,4,"INFO_FULL_CHALLENGE_MODE",l.sc(9,Mo,a.challenges.length)):""),l.Db(4),l.Kc(" ",l.jc(5,7,"BTN_SHOW_ONLY_TUTORIALS")," ")}}function Go(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-button-toggle",6),l.dc("change",function(){return l.yc(n),l.hc().toggleShowDisabledChallenges()}),l.ic(1,"translate"),l.Qb(2,"i",31),l.Ic(3),l.ic(4,"translate"),l.Ub()}if(2&t){var a=l.hc();l.nc("checked",a.showDisabledChallenges)("disabled",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted)("matTooltip",a.restrictToTutorialsFirst&&!a.allTutorialsCompleted?l.kc(1,4,"INFO_FULL_CHALLENGE_MODE",l.sc(9,Mo,a.challenges.length)):""),l.Db(3),l.Kc(" ",l.jc(4,7,"BTN_SHOW_UNAVAILABLE")," ")}}function Fo(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",32),l.dc("click",function(){return l.yc(n),l.hc().saveBackup()}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," save_alt "),l.Ub(),l.Ub()}2&t&&l.oc("matTooltip",l.jc(1,1,"SAVE_BACKUP_TOOLTIP"))}function jo(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",33),l.dc("click",function(){return l.yc(n),l.hc(),l.vc(24).click()}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," settings_backup_restore "),l.Ub(),l.Ub()}2&t&&l.oc("matTooltip",l.jc(1,1,"RESTORE_BACKUP_TOOLTIP"))}var Ho=function(t,e){return{num:t,env:e}};function Qo(t,e){if(1&t&&(l.Qb(0,"div",34),l.ic(1,"translate")),2&t){var n=l.hc();l.nc("innerHTML",l.kc(1,1,"INFO_DISABLED_CHALLENGES",l.tc(4,Ho,n.numDisabledChallenges,n.disabledEnv)),l.zc)}}function zo(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-button-toggle",35),l.dc("change",function(){l.yc(n);var t=e.$implicit;return l.hc().toggleShowChallengeCategory(t)}),l.ic(1,"translate"),l.ic(2,"translate"),l.Ic(3),l.ic(4,"translate"),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc();l.nc("checked",i.displayedChallengeCategories.includes(a))("disabled",i.restrictToTutorialsFirst&&!i.allTutorialsCompleted)("matTooltip",i.restrictToTutorialsFirst&&!i.allTutorialsCompleted?l.kc(1,4,"INFO_FULL_CHALLENGE_MODE",l.sc(11,Mo,i.challenges.length)):l.jc(2,7,"CATEGORY_"+(null==a?null:a.toUpperCase().split(" ").join("_"))+"_DESCRIPTION")),l.Db(3),l.Kc(" ",l.jc(4,9,"CATEGORY_"+(null==a?null:a.toUpperCase().split(" ").join("_")))," ")}}function Wo(t,e){1&t&&(l.Vb(0,"mat-header-cell",55),l.Ic(1,"LABEL_NAME"),l.Ub())}function Ko(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.name," ")}}function qo(t,e){1&t&&(l.Vb(0,"mat-header-cell",56),l.Ic(1,"LABEL_DIFFICULTY"),l.Ub())}function Yo(t,e){1&t&&(l.Vb(0,"mat-icon"),l.Ic(1," star_rate "),l.Ub())}function Jo(t,e){if(1&t&&(l.Vb(0,"mat-cell",57),l.Gc(1,Yo,2,0,"mat-icon",58),l.Ub()),2&t){var n=e.$implicit,a=l.hc(2);l.Db(1),l.nc("ngForOf",a.times(n.difficulty))}}function $o(t,e){1&t&&(l.Vb(0,"mat-header-cell",59),l.Ic(1,"LABEL_DESCRIPTION "),l.Ub())}function Zo(t,e){if(1&t&&(l.Vb(0,"mat-cell",60),l.Qb(1,"div",61),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("innerHTML",n.description,l.zc)}}function Xo(t,e){1&t&&(l.Vb(0,"mat-header-cell",62),l.Ic(1,"LABEL_CATEGORY"),l.Ub())}function tr(t,e){if(1&t&&(l.Vb(0,"mat-cell",63),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",l.jc(2,1,"CATEGORY_"+(null==n.category?null:n.category.toUpperCase().split(" ").join("_")))," ")}}function er(t,e){1&t&&(l.Vb(0,"mat-header-cell",64),l.Ic(1,"LABEL_TAGS"),l.Ub())}function nr(t,e){if(1&t&&(l.Vb(0,"mat-chip-list"),l.Vb(1,"mat-chip",67),l.ic(2,"translate"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("matTooltip",l.jc(2,2,"TAG_"+(null==n?null:n.toUpperCase().split(" ").join("_"))+"_DESCRIPTION")),l.Db(2),l.Kc(" ",l.jc(4,4,"TAG_"+(null==n?null:n.toUpperCase().split(" ").join("_")))," ")}}function ar(t,e){if(1&t&&(l.Vb(0,"span"),l.Gc(1,nr,5,6,"mat-chip-list",58),l.Ub()),2&t){var n=l.hc().$implicit;l.Db(1),l.nc("ngForOf",n.tags.split(",").sort())}}function ir(t,e){if(1&t&&(l.Vb(0,"mat-cell",65),l.Gc(1,ar,2,1,"span",66),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("ngIf",n.tags)}}function or(t,e){1&t&&(l.Vb(0,"mat-header-cell",55),l.Ic(1,"LABEL_STATUS"),l.Ub())}function rr(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",73),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc(2).startHackingInstructor(t.name)}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," school "),l.Ub(),l.Ub()}2&t&&l.nc("matTooltip",l.jc(1,1,"INFO_HACKING_INSTRUCTOR"))}function cr(t,e){if(1&t&&(l.Vb(0,"a",74),l.Vb(1,"button",75),l.ic(2,"translate"),l.Vb(3,"mat-icon"),l.Ic(4," policy "),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.hc().$implicit;l.nc("href",n.mitigationUrl,l.Bc),l.Db(1),l.nc("matTooltip",l.jc(2,2,"INFO_VULNERABILITY_MITIGATION_LINK"))}}function sr(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",76),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc(2).showCodeSnippet(t.key,t.name,t.codingChallengeStatus)}),l.ic(1,"translate"),l.Vb(2,"mat-icon",77),l.Ic(3," code "),l.Ub(),l.Ub()}if(2&t){var a=l.hc().$implicit,i=l.hc(2);l.nc("disabled","solved"===i.showCodeSnippets&&!a.solved)("matTooltip",l.jc(1,4,"LAUNCH_CODING_CHALLENGE"))("color",i.generateColor(a)),l.Db(2),l.nc("matBadge",i.generateBadge(a))}}function lr(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Qb(1,"app-challenge-status-badge",68),l.Gc(2,rr,4,3,"button",69),l.Gc(3,cr,5,4,"a",70),l.Vb(4,"div",71),l.ic(5,"translate"),l.Gc(6,sr,4,6,"button",72),l.Ub(),l.Ub()),2&t){var n=e.$implicit,a=l.hc(2);l.Db(1),l.nc("challenge",n)("allowRepeatNotifications",a.allowRepeatNotifications)("showChallengeHints",a.showChallengeHints),l.Db(1),l.nc("ngIf",a.showHackingInstructor&&!n.solved&&!n.disabledEnv&&n.hasTutorial),l.Db(1),l.nc("ngIf",a.showVulnerabilityMitigations&&n.solved&&n.mitigationUrl),l.Db(1),l.nc("matTooltip",l.jc(5,8,"SOLVE_HACKING_CHALLENGE"))("matTooltipDisabled",!n.hasSnippet||"solved"===a.showCodeSnippets&&n.solved||"always"===a.showCodeSnippets),l.Db(2),l.nc("ngIf",n.hasSnippet&&"never"!==a.showCodeSnippets)}}function ur(t,e){1&t&&l.Qb(0,"mat-header-row")}function br(t,e){1&t&&l.Qb(0,"mat-row")}function dr(t,e){if(1&t&&(l.Vb(0,"mat-table",36),l.Tb(1,37),l.Gc(2,Wo,2,0,"mat-header-cell",38),l.Gc(3,Ko,2,1,"mat-cell",39),l.Sb(),l.Tb(4,40),l.Gc(5,qo,2,0,"mat-header-cell",41),l.Gc(6,Jo,2,1,"mat-cell",42),l.Sb(),l.Tb(7,43),l.Gc(8,$o,2,0,"mat-header-cell",44),l.Gc(9,Zo,2,1,"mat-cell",45),l.Sb(),l.Tb(10,46),l.Gc(11,Xo,2,0,"mat-header-cell",47),l.Gc(12,tr,3,3,"mat-cell",48),l.Sb(),l.Tb(13,49),l.Gc(14,er,2,0,"mat-header-cell",50),l.Gc(15,ir,2,1,"mat-cell",51),l.Sb(),l.Tb(16,52),l.Gc(17,or,2,0,"mat-header-cell",38),l.Gc(18,lr,7,10,"mat-cell",39),l.Sb(),l.Gc(19,ur,1,0,"mat-header-row",53),l.Gc(20,br,1,0,"mat-row",54),l.Ub()),2&t){var n=l.hc();l.nc("dataSource",n.filterToDataSource(n.challenges))("trackBy",n.trackById),l.Db(19),l.nc("matHeaderRowDef",n.displayedColumns),l.Db(1),l.nc("matRowDefColumns",n.displayedColumns)}}function mr(t,e){1&t&&(l.Qb(0,"mat-card",82),l.ic(1,"translate")),2&t&&l.nc("innerHTML",l.jc(1,1,"CALL_FOR_CONTRIBUTIONS"),l.zc)}var fr=function(t,e){return{appname:t,questionnaire:e}};function pr(t,e){if(1&t&&(l.Qb(0,"mat-card",83),l.ic(1,"translate")),2&t){var n=l.hc(2);l.nc("innerHTML",l.kc(1,1,"CALL_FOR_FEEDBACK",l.tc(4,fr,n.appName,n.questionnaireUrl)),l.zc)}}function hr(t,e){if(1&t&&(l.Vb(0,"div",78),l.Gc(1,mr,2,3,"mat-card",79),l.Qb(2,"span",80),l.Gc(3,pr,2,7,"mat-card",81),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("ngIf",n.showContributionInfoBox),l.Db(2),l.nc("ngIf",n.questionnaireUrl)}}g.b.add(I.K,C.d,v.e,v.d,v.b,I.V,I.B),g.a.watch();var gr,vr,Ir=((vr=function(){function e(t,n,a,o,r,c,s,l,u,b){i(this,e),this.configurationService=t,this.challengeService=n,this.codeSnippetService=a,this.sanitizer=o,this.ngZone=r,this.io=c,this.spinner=s,this.translate=l,this.localBackupService=u,this.dialog=b,this.availableDifficulties=[1,2,3,4,5,6],this.displayedDifficulties=[1],this.availableChallengeCategories=[],this.displayedChallengeCategories=[],this.toggledMajorityOfDifficulties=!1,this.toggledMajorityOfCategories=!0,this.showSolvedChallenges=!0,this.numDisabledChallenges=0,this.showDisabledChallenges=!1,this.showOnlyTutorialChallenges=!1,this.restrictToTutorialsFirst=!1,this.allTutorialsCompleted=!1,this.isLastTutorialsTier=!1,this.tutorialsTier=1,this.displayedColumns=["name","difficulty","description","category","tags","status"],this.offsetValue=["100%","100%","100%","100%","100%","100%"],this.allowRepeatNotifications=!1,this.showChallengeHints=!0,this.showVulnerabilityMitigations=!0,this.showCodeSnippets="solved",this.showHackingInstructor=!0,this.challenges=[],this.percentChallengesSolved="0",this.solvedChallengesOfDifficulty=[[],[],[],[],[],[]],this.totalChallengesOfDifficulty=[[],[],[],[],[],[]],this.showContributionInfoBox=!0,this.questionnaireUrl="https://forms.gle/2Tr5m1pqnnesApxN8",this.appName="OWASP Juice Shop",this.localBackupEnabled=!0}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.spinner.show(),this.displayedDifficulties=localStorage.getItem("displayedDifficulties")?JSON.parse(String(localStorage.getItem("displayedDifficulties"))):[1],this.showSolvedChallenges=!localStorage.getItem("showSolvedChallenges")||JSON.parse(String(localStorage.getItem("showSolvedChallenges"))),this.showDisabledChallenges=!!localStorage.getItem("showDisabledChallenges")&&JSON.parse(String(localStorage.getItem("showDisabledChallenges"))),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a,i;t.allowRepeatNotifications=e.challenges.showSolvedNotifications&&(null===(n=e.ctf)||void 0===n?void 0:n.showFlagsInNotifications),t.showChallengeHints=e.challenges.showHints,t.showVulnerabilityMitigations=e.challenges.showMitigations,t.showCodeSnippets=e.challenges.showCodeSnippets,t.showHackingInstructor=null===(a=e.hackingInstructor)||void 0===a?void 0:a.isEnabled,t.showContributionInfoBox=e.application.showGitHubLinks,t.questionnaireUrl=null===(i=e.application.social)||void 0===i?void 0:i.questionnaireUrl,t.appName=e.application.name,t.restrictToTutorialsFirst=e.challenges.restrictToTutorialsFirst,t.showOnlyTutorialChallenges=localStorage.getItem("showOnlyTutorialChallenges")?JSON.parse(String(localStorage.getItem("showOnlyTutorialChallenges"))):t.restrictToTutorialsFirst,t.localBackupEnabled=e.application.localBackupEnabled,t.challengeService.find({sort:"name"}).subscribe(function(e){t.codeSnippetService.challenges().subscribe(function(n){t.challenges=e;for(var a=function(a){t.augmentHintText(t.challenges[a]),t.trustDescriptionHtml(t.challenges[a]),"Score Board"===t.challenges[a].name&&(t.challenges[a].solved=!0),t.availableChallengeCategories.includes(e[a].category)||t.availableChallengeCategories.push(e[a].category),t.showHackingInstructor&&o.e(6).then(o.bind(null,"s2oO")).then(function(t){e[a].hasTutorial=t.hasInstructions(e[a].name)}),e[a].hasSnippet=n.indexOf(e[a].key)>-1},i=0;i<t.challenges.length;i++)a(i);t.availableChallengeCategories.sort(function(t,e){return t.localeCompare(e)}),t.displayedChallengeCategories=localStorage.getItem("displayedChallengeCategories")?JSON.parse(String(localStorage.getItem("displayedChallengeCategories"))):t.availableChallengeCategories,t.calculateProgressPercentage(),t.populateFilteredChallengeLists(),t.calculateGradientOffsets(e),t.calculateTutorialTier(e),t.toggledMajorityOfDifficulties=t.determineToggledMajorityOfDifficulties(),t.toggledMajorityOfCategories=t.determineToggledMajorityOfCategories(),t.showOnlyTutorialChallenges&&t.challenges.sort(function(t,e){return t.tutorialOrder-e.tutorialOrder}),t.spinner.hide()})},function(e){t.challenges=[],console.log(e)})},function(t){return console.log(t)}),this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){if(null==e?void 0:e.challenge){for(var n=0;n<t.challenges.length;n++)if(t.challenges[n].name===e.name){t.challenges[n].solved=!0;break}t.calculateProgressPercentage(),t.populateFilteredChallengeLists(),t.calculateGradientOffsets(t.challenges),t.calculateTutorialTier(t.challenges)}})})}},{key:"augmentHintText",value:function(t){t.disabledEnv?(this.numDisabledChallenges++,this.disabledEnv=t.disabledEnv,this.translate.get("CHALLENGE_UNAVAILABLE",{env:t.disabledEnv}).subscribe(function(e){t.hint=e},function(e){t.hint=e})):t.hintUrl&&(t.hint?this.translate.get("CLICK_FOR_MORE_HINTS").subscribe(function(e){t.hint+=" ".concat(e)},function(e){t.hint+=" ".concat(e)}):this.translate.get("CLICK_TO_OPEN_HINTS").subscribe(function(e){t.hint=e},function(e){t.hint=e}))}},{key:"trustDescriptionHtml",value:function(t){t.description=this.sanitizer.bypassSecurityTrustHtml(t.description)}},{key:"calculateProgressPercentage",value:function(){for(var t=0,e=0;e<this.challenges.length;e++)t+=this.challenges[e].solved?1:0;this.percentChallengesSolved=(100*t/this.challenges.length).toFixed(0)}},{key:"calculateTutorialTier",value:function(t){var e=this;this.allTutorialsCompleted=!0,this.isLastTutorialsTier=!0,this.tutorialsTier=1;for(var n=function(n){var a=t.filter(function(t){return t.tutorialOrder&&t.difficulty===n}).length,i=t.filter(function(t){return t.tutorialOrder&&t.difficulty===n&&t.solved}).length;e.allTutorialsCompleted=e.allTutorialsCompleted&&a===i,e.tutorialsTier===n&&a===i&&e.tutorialsTier++},a=1;a<=6;a++)n(a);if(!this.allTutorialsCompleted){this.isLastTutorialsTier=0===t.filter(function(t){return t.tutorialOrder&&!t.solved&&t.difficulty>e.tutorialsTier}).length;for(var i=1;i<=this.tutorialsTier;i++)this.displayedDifficulties.includes(i)||this.toggleDifficulty(this.tutorialsTier)}}},{key:"calculateGradientOffsets",value:function(t){for(var e=1;e<=6;e++)this.offsetValue[e-1]=this.calculateGradientOffset(t,e)}},{key:"calculateGradientOffset",value:function(t,e){for(var n=0,a=0,i=0;i<t.length;i++)t[i].difficulty===e&&(a++,t[i].solved&&n++);var o=Math.round(100*n/a);return+(o=100-o)+"%"}},{key:"toggleDifficulty",value:function(t){this.displayedDifficulties.includes(t)?this.displayedDifficulties=this.displayedDifficulties.filter(function(e){return e!==t}):this.displayedDifficulties.push(t),localStorage.setItem("displayedDifficulties",JSON.stringify(this.displayedDifficulties)),this.toggledMajorityOfDifficulties=this.determineToggledMajorityOfDifficulties()}},{key:"toggleAllDifficulty",value:function(){this.toggledMajorityOfDifficulties?(this.displayedDifficulties=[],this.toggledMajorityOfDifficulties=!1):(this.displayedDifficulties=this.availableDifficulties,this.toggledMajorityOfDifficulties=!0),localStorage.setItem("displayedDifficulties",JSON.stringify(this.displayedDifficulties))}},{key:"toggleShowSolvedChallenges",value:function(){this.showSolvedChallenges=!this.showSolvedChallenges,localStorage.setItem("showSolvedChallenges",JSON.stringify(this.showSolvedChallenges))}},{key:"toggleShowDisabledChallenges",value:function(){this.showDisabledChallenges=!this.showDisabledChallenges,localStorage.setItem("showDisabledChallenges",JSON.stringify(this.showDisabledChallenges))}},{key:"toggleShowOnlyTutorialChallenges",value:function(){this.showOnlyTutorialChallenges=!this.showOnlyTutorialChallenges,localStorage.setItem("showOnlyTutorialChallenges",JSON.stringify(this.showOnlyTutorialChallenges)),this.challenges.sort(this.showOnlyTutorialChallenges?function(t,e){return t.tutorialOrder-e.tutorialOrder}:function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},{key:"toggleShowChallengeCategory",value:function(t){this.displayedChallengeCategories.includes(t)?this.displayedChallengeCategories=this.displayedChallengeCategories.filter(function(e){return e!==t}):this.displayedChallengeCategories.push(t),localStorage.setItem("displayedChallengeCategories",JSON.stringify(this.displayedChallengeCategories)),this.toggledMajorityOfCategories=this.determineToggledMajorityOfCategories()}},{key:"toggleAllChallengeCategory",value:function(){this.toggledMajorityOfCategories?(this.displayedChallengeCategories=[],this.toggledMajorityOfCategories=!1):(this.displayedChallengeCategories=this.availableChallengeCategories,this.toggledMajorityOfCategories=!0),localStorage.setItem("displayedChallengeCategories",JSON.stringify(this.displayedChallengeCategories))}},{key:"determineToggledMajorityOfDifficulties",value:function(){return this.displayedDifficulties.length>this.availableDifficulties.length/2}},{key:"determineToggledMajorityOfCategories",value:function(){return this.displayedChallengeCategories.length>this.availableChallengeCategories.length/2}},{key:"filterToDataSource",value:function(t){var e=this;t=t.filter(function(t){return!(!e.displayedDifficulties.includes(t.difficulty)||!e.displayedChallengeCategories.includes(t.category)||!e.showSolvedChallenges&&t.solved||!e.showDisabledChallenges&&t.disabledEnv||e.showOnlyTutorialChallenges&&!t.hasTutorial)});var n=new q.o;return n.data=t,n}},{key:"populateFilteredChallengeLists",value:function(){var e,n=this,a=t(this.availableDifficulties);try{var i=function(){var t=e.value;0===n.challenges.length?(n.totalChallengesOfDifficulty[t-1]=[],n.solvedChallengesOfDifficulty[t-1]=[]):(n.totalChallengesOfDifficulty[t-1]=n.challenges.filter(function(e){return e.difficulty===t}),n.solvedChallengesOfDifficulty[t-1]=n.challenges.filter(function(e){return e.difficulty===t&&e.solved}))};for(a.s();!(e=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}}},{key:"startHackingInstructor",value:function(t){console.log('Starting instructions for challenge "'.concat(t,'"')),o.e(6).then(o.bind(null,"s2oO")).then(function(e){e.startHackingInstructorFor(t)})}},{key:"trackById",value:function(t,e){return e.id}},{key:"times",value:function(t){return Array(t).fill("\u2605")}},{key:"saveBackup",value:function(){this.localBackupService.save(this.appName.toLowerCase().replace(/ /,"_"))}},{key:"restoreBackup",value:function(t){this.localBackupService.restore(t)}},{key:"showCodeSnippet",value:function(e,n,a){var i=this;this.dialog.open(Uo,{disableClose:!0,data:{key:e,name:n,codingChallengeStatus:a}}).afterClosed().subscribe(function(e){var a,o=t(i.challenges);try{for(o.s();!(a=o.n()).done;){var r=a.value;r.name===n&&(r.codingChallengeStatus<1&&(r.codingChallengeStatus=e.findIt?1:r.codingChallengeStatus),r.codingChallengeStatus<2&&(r.codingChallengeStatus=e.fixIt?2:r.codingChallengeStatus))}}catch(c){o.e(c)}finally{o.f()}})}},{key:"generateColor",value:function(t){return 2===t.codingChallengeStatus?"accent":"primary"}},{key:"generateBadge",value:function(t){return 1===t.codingChallengeStatus?"1/2":""}}]),e}()).\u0275fac=function(t){return new(t||vr)(l.Pb(h),l.Pb($i),l.Pb(no),l.Pb(s.c),l.Pb(l.B),l.Pb(Sn),l.Pb(So.c),l.Pb(U.e),l.Pb(eo),l.Pb(nn.b))},vr.\u0275cmp=l.Jb({type:vr,selectors:[["app-score-board"]],decls:38,vars:34,consts:[["fxLayout","column"],[1,"confirmation"],["mode","determinate",3,"color","value"],["fxLayout","row wrap",1,"star-container"],["matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngFor","ngForOf"],["id","btnToggleAllDifficulties",1,"mat-button",3,"disabled","click"],["matTooltipPosition","above",3,"checked","disabled","matTooltip","change"],["aria-hidden","true",1,"fa-2x","fas","fa-trophy"],["id","btnToggleShowOnlyTutorialChallenges","matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngIf"],["matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngIf"],["mat-fab","","class","backupButton","color","primary","aria-label","Button to save local backup","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],[1,"form-group"],["type","file",2,"display","none",3,"change"],["restoreBackupFile",""],["mat-fab","","class","backupButton","color","primary","aria-label","Button to restore local backup","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["class","disabled-challenges-infoBox mat-button",3,"innerHTML",4,"ngIf"],["fxLayout","row wrap",1,"category-container"],["class","category-toggle","appearance","legacy","matTooltipPosition","above",3,"checked","disabled","matTooltip","change",4,"ngFor","ngForOf"],[1,"mat-button",3,"disabled","click"],[3,"dataSource","trackBy",4,"ngIf"],["fxLayout","row","fxLayout.lt-lg","column",4,"ngIf"],["src","assets/public/images/padding/1px.png"],["type","timer","size","large",1,"overlay-fullscreen"],[1,"fa-4x","fa-layers","fa-fw",2,"display","block","margin","5px"],["aria-hidden","true","data-prefix","fa","data-icon","star","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512","data-fa-i2svg","","stroke-width","10",1,"svg-inline--fa","fa-star","fa-w-18","star-border"],["x1","0","x2","0","y1","0","y2","100%",3,"id"],[1,"empty-star"],[1,"filled-star"],["d","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"],["data-fa-transform","shrink-9",1,"fa-layers-text","fa-inverse",2,"font-weight","900"],["id","btnToggleShowOnlyTutorialChallenges","matTooltipPosition","above",3,"checked","disabled","matTooltip","change"],["aria-hidden","true",1,"fa-2x","fas","fa-exclamation-circle"],["mat-fab","","color","primary","aria-label","Button to save local backup","matTooltipPosition","above",1,"backupButton",3,"matTooltip","click"],["mat-fab","","color","primary","aria-label","Button to restore local backup","matTooltipPosition","above",1,"backupButton",3,"matTooltip","click"],[1,"disabled-challenges-infoBox","mat-button",3,"innerHTML"],["appearance","legacy","matTooltipPosition","above",1,"category-toggle",3,"checked","disabled","matTooltip","change"],[3,"dataSource","trackBy"],["matColumnDef","name"],["translate","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","difficulty"],["fxShow","","fxHide.lt-sm","","translate","",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-sm","",4,"matCellDef"],["matColumnDef","description"],["fxFlex","1 1 31%","translate","",4,"matHeaderCellDef"],["fxFlex","1 1 31%",4,"matCellDef"],["matColumnDef","category"],["fxShow","","fxHide.lt-md","","translate","",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-md","",4,"matCellDef"],["matColumnDef","tags"],["fxShow","","fxHide.lt-lg","","translate","",4,"matHeaderCellDef"],["fxShow","","fxHide.lt-lg","",4,"matCellDef"],["matColumnDef","status"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["translate",""],["fxShow","","fxHide.lt-sm","","translate",""],["fxShow","","fxHide.lt-sm",""],[4,"ngFor","ngForOf"],["fxFlex","1 1 31%","translate",""],["fxFlex","1 1 31%"],[3,"innerHTML"],["fxShow","","fxHide.lt-md","","translate",""],["fxShow","","fxHide.lt-md",""],["fxShow","","fxHide.lt-lg","","translate",""],["fxShow","","fxHide.lt-lg",""],[4,"ngIf"],[3,"matTooltip"],[3,"challenge","allowRepeatNotifications","showChallengeHints"],["mat-mini-fab","","color","warn","matTooltipPosition","above","class","hacking-instructor-button",3,"matTooltip","click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["matTooltipPosition","above",3,"matTooltip","matTooltipDisabled"],["mat-mini-fab","","color","primary","matTooltipPosition","above","class","code-snippet-button",3,"disabled","matTooltip","color","click",4,"ngIf"],["mat-mini-fab","","color","warn","matTooltipPosition","above",1,"hacking-instructor-button",3,"matTooltip","click"],["target","_blank",3,"href"],["mat-mini-fab","","color","accent","matTooltipPosition","above",1,"vulnerability-mitigation-button",3,"matTooltip"],["mat-mini-fab","","color","primary","matTooltipPosition","above",1,"code-snippet-button",3,"disabled","matTooltip","color","click"],["matBadgeSize","medium","matBadgePosition","right","matBadgeColor","accent",3,"matBadge"],["fxLayout","row","fxLayout.lt-lg","column"],["fxFlex","40%","fxFlex.lt-lg","100%","class","primary-notification",3,"innerHTML",4,"ngIf"],[1,"fill-remaining-space"],["fxFlex","20%","fxFlex.lt-lg","100%","class","warn-notification",3,"innerHTML",4,"ngIf"],["fxFlex","40%","fxFlex.lt-lg","100%",1,"primary-notification",3,"innerHTML"],["fxFlex","20%","fxFlex.lt-lg","100%",1,"warn-notification",3,"innerHTML"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card"),l.Vb(2,"mat-card-title"),l.Ic(3),l.ic(4,"translate"),l.Vb(5,"small",1),l.Ic(6),l.Ub(),l.Ub(),l.Qb(7,"mat-progress-bar",2),l.Ub(),l.Vb(8,"mat-card"),l.Vb(9,"div",3),l.Gc(10,No,14,23,"mat-button-toggle",4),l.Vb(11,"button",5),l.dc("click",function(){return e.toggleAllDifficulty()}),l.Ic(12),l.ic(13,"translate"),l.Ub(),l.Vb(14,"mat-button-toggle",6),l.dc("change",function(){return e.toggleShowSolvedChallenges()}),l.ic(15,"translate"),l.Qb(16,"i",7),l.Ic(17),l.ic(18,"translate"),l.Ub(),l.Gc(19,Bo,6,11,"mat-button-toggle",8),l.Gc(20,Go,5,11,"mat-button-toggle",9),l.Gc(21,Fo,4,3,"button",10),l.Vb(22,"div",11),l.Vb(23,"input",12,13),l.dc("change",function(t){return e.restoreBackup(t.target.files.item(0))}),l.Ub(),l.Ub(),l.Gc(25,jo,4,3,"button",14),l.Gc(26,Qo,2,7,"div",15),l.Ub(),l.Qb(27,"mat-divider"),l.Vb(28,"div",16),l.Gc(29,zo,5,13,"mat-button-toggle",17),l.Vb(30,"button",18),l.dc("click",function(){return e.toggleAllChallengeCategory()}),l.Ic(31),l.ic(32,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Vb(33,"mat-card"),l.Gc(34,dr,21,4,"mat-table",19),l.Ub(),l.Gc(35,hr,4,2,"div",20),l.Ub(),l.Qb(36,"img",21),l.Qb(37,"ngx-spinner",22)),2&t&&(l.Db(3),l.Kc("",l.jc(4,21,"TITLE_SCORE_BOARD")," "),l.Db(3),l.Kc("",e.percentChallengesSolved,"%"),l.Db(1),l.nc("color","accent")("value",e.percentChallengesSolved),l.Db(3),l.nc("ngForOf",e.availableDifficulties),l.Db(1),l.nc("disabled",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted),l.Db(1),l.Jc(l.jc(13,23,e.toggledMajorityOfDifficulties?"BTN_HIDE_ALL":"BTN_SHOW_ALL")),l.Db(2),l.nc("checked",e.showSolvedChallenges)("disabled",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted)("matTooltip",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted?l.kc(15,25,"INFO_FULL_CHALLENGE_MODE",l.sc(32,Mo,e.challenges.length)):""),l.Db(3),l.Kc(" ",l.jc(18,28,"BTN_SHOW_SOLVED")," "),l.Db(2),l.nc("ngIf",e.showHackingInstructor),l.Db(1),l.nc("ngIf",e.numDisabledChallenges>0),l.Db(1),l.nc("ngIf",e.localBackupEnabled),l.Db(4),l.nc("ngIf",e.localBackupEnabled),l.Db(1),l.nc("ngIf",e.numDisabledChallenges>0&&e.showDisabledChallenges),l.Db(3),l.nc("ngForOf",e.availableChallengeCategories),l.Db(1),l.nc("disabled",e.restrictToTutorialsFirst&&!e.allTutorialsCompleted),l.Db(1),l.Jc(l.jc(32,30,e.toggledMajorityOfCategories?"BTN_HIDE_ALL":"BTN_SHOW_ALL")),l.Db(3),l.nc("ngIf",e.challenges),l.Db(1),l.nc("ngIf",e.showContributionInfoBox||e.questionnaireUrl))},directives:[w.d,y.a,y.g,ko.a,Y.k,Do.a,je.a,Y.l,sn.a,So.a,Fe.a,S.a,q.n,q.c,q.i,q.b,q.k,q.m,q.h,U.a,q.a,J.b,w.b,Vo.b,Vo.a,Lo,Eo.a,q.j,q.l],pipes:[U.d],styles:["footer[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%], mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:35px;margin-left:35px;margin-right:35px;min-width:300px}.category-container[_ngcontent-%COMP%], mat-table[_ngcontent-%COMP%]{margin-top:25px}.star-container[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:25px}.star-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{cursor:pointer}.mat-column-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{cursor:auto}.mat-column-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]{padding-top:5px}.mat-raised-button[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.category-toggle[_ngcontent-%COMP%]{font-size:small}.overlay-fullscreen[_ngcontent-%COMP%]     .black-overlay{position:fixed}.code-snippet-button[_ngcontent-%COMP%], .hacking-instructor-button[_ngcontent-%COMP%], .vulnerability-mitigation-button[_ngcontent-%COMP%]{margin-left:8px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.disabled-challenges-infoBox[_ngcontent-%COMP%]{align-self:center;color:#e64a19;cursor:default;height:100%;margin:0}.disabled-challenges-infoBox[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#546e7a;font-style:normal}.backupButton[_ngcontent-%COMP%]{align-self:center;margin-left:15px}"]}),vr),Cr=((gr=function(){function t(e){i(this,t),this.http=e}return r(t,[{key:"verify",value:function(t){return this.http.post("./rest/2fa/verify",{tmpToken:localStorage.getItem("totp_tmp_token"),totpToken:t}).pipe(Object(f.a)(function(t){return t.authentication}),Object(p.a)(function(t){throw t}))}},{key:"status",value:function(){return this.http.get("./rest/2fa/status").pipe(Object(f.a)(function(t){return t}),Object(p.a)(function(t){throw t}))}},{key:"setup",value:function(t,e,n){return this.http.post("./rest/2fa/setup",{password:t,setupToken:n,initialToken:e}).pipe(Object(f.a)(function(){}),Object(p.a)(function(t){throw t}))}},{key:"disable",value:function(t){return this.http.post("./rest/2fa/disable",{password:t}).pipe(Object(f.a)(function(){}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||gr)(l.Zb(b.b))},gr.\u0275prov=l.Lb({token:gr,factory:gr.\u0275fac,providedIn:"root"}),gr);function yr(t,e){1&t&&(l.Vb(0,"div",13),l.Ic(1,"INVALID_TWO_FACTOR_AUTH_TOKEN"),l.Ub())}g.b.add(I.ab),g.a.watch();var wr,Ur=((wr=function(){function t(e,n,a,o,r){i(this,t),this.twoFactorAuthService=e,this.cookieService=n,this.userService=a,this.router=o,this.ngZone=r,this.twoFactorForm=new m.h({token:new m.e("",[m.z.minLength(6),m.z.maxLength(6),m.z.required,m.z.pattern("^[\\d]{6}$")])}),this.errored=!1}return r(t,[{key:"verify",value:function(){var t=this,e=this;this.twoFactorAuthService.verify(this.twoFactorForm.value.token).subscribe(function(n){var a;localStorage.setItem("token",n.token);var i=new Date;i.setHours(i.getHours()+8),t.cookieService.put("token",n.token,{expires:i}),sessionStorage.setItem("bid",null===(a=n.bid)||void 0===a?void 0:a.toString()),t.userService.isLoggedIn.next(!0),t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/search"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))},function(e){return t.errored=!0,setTimeout(function(){t.errored=!1},5e3),e})}}]),t}()).\u0275fac=function(t){return new(t||wr)(l.Pb(Cr),l.Pb(d.b),l.Pb(R),l.Pb(N.b),l.Pb(l.B))},wr.\u0275cmp=l.Jb({type:wr,selectors:[["app-two-factor-auth-enter"]],decls:27,vars:13,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["class","error","style","margin-bottom: 10px;","translate","",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-container"],["id","inputToken","appearance","outline","color","accent"],["formControlName","token","type","text","minlength","6","maxlength","6","pattern","^[\\d]{6}$","matInput","","id","totpToken","aria-label","Field for entering the Two Factor token",3,"placeholder"],["tokenInput",""],["matSuffix","","matTooltipPosition","right","aria-label","The code to be entered from the authenticator must have 6 digits.",3,"matTooltip"],["align","end"],["type","submit","color","primary","mat-raised-button","","id","totpSubmitButton","aria-label","Button to confirm the input",3,"disabled"],[1,"material-icons"],["translate","",1,"error",2,"margin-bottom","10px"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_TWO_FACTOR_AUTHENTICATION"),l.Ub(),l.Vb(4,"p",2),l.Ic(5,"TITLE_TWO_FACTOR_AUTH_ENTER"),l.Ub(),l.Gc(6,yr,2,0,"div",3),l.Vb(7,"form",4),l.dc("ngSubmit",function(){return e.verify()}),l.Vb(8,"div",5),l.Vb(9,"mat-form-field",6),l.Vb(10,"mat-label",2),l.Ic(11,"LABEL_TWO_FACTOR_AUTH_TOKEN"),l.Ub(),l.Qb(12,"input",7,8),l.ic(14,"translate"),l.Vb(15,"mat-icon",9),l.ic(16,"translate"),l.Ic(17," help_outline "),l.Ub(),l.Vb(18,"mat-hint",10),l.Ic(19),l.Ub(),l.Vb(20,"mat-error",2),l.Ic(21,"INVALID_TWO_FACTOR_AUTH_TOKEN"),l.Ub(),l.Ub(),l.Ub(),l.Vb(22,"button",11),l.Vb(23,"i",12),l.Ic(24," lock_open "),l.Ub(),l.Ic(25),l.ic(26,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(13);l.Db(6),l.nc("ngIf",e.errored),l.Db(1),l.nc("formGroup",e.twoFactorForm),l.Db(5),l.oc("placeholder",l.jc(14,7,"2FA_ENTER_CODE_PLACEHOLDER")),l.Db(3),l.oc("matTooltip",l.jc(16,9,"INITIAL_TOKEN_TOOLTIP")),l.Db(4),l.Kc("",(null==n.value?null:n.value.length)||0,"/6"),l.Db(3),l.nc("disabled",e.twoFactorForm.invalid),l.Db(3),l.Kc(" ",l.jc(26,11,"BTN_LOGIN")," ")}},directives:[w.c,y.a,U.a,Y.l,m.A,m.q,m.i,ee.c,ee.g,m.d,ne.b,m.p,m.g,m.l,m.k,m.v,Fe.a,ee.h,je.a,ee.f,ee.b,S.a],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:25%}#totpSubmitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}#inputToken[_ngcontent-%COMP%]{width:100%}"]}),wr);g.b.add(I.gb,I.r),g.a.watch();var Sr,kr,Dr=((Sr=function(){function t(e,n){i(this,t),this.route=e,this.translate=n,this.error=null}return r(t,[{key:"ngOnInit",value:function(){var t=this,e=this.route.snapshot.queryParams.error;e&&this.translate.get(e).subscribe(function(e){t.error=e},function(e){t.error=e})}}]),t}()).\u0275fac=function(t){return new(t||Sr)(l.Pb(N.a),l.Pb(U.e))},Sr.\u0275cmp=l.Jb({type:Sr,selectors:[["app-error-page"]],decls:7,vars:1,consts:[[1,"warn-notification","mat-elevation-z6"],[1,"mat-display-3"],[1,"fas","fa-hand-paper"],[1,"mat-subheading-2"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"div"),l.Vb(2,"div",1),l.Qb(3,"i",2),l.Ic(4," 403"),l.Ub(),l.Vb(5,"span",3),l.Ic(6),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(6),l.Jc(e.error))},directives:[y.a],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),Sr),Vr=o("HeVh"),xr=o("q7Ft"),Or=((kr=function(){function t(e){i(this,t),this.breakpointObserver=e,this.windowWidth=window.innerWidth,this.isHandset$=this.breakpointObserver.observe(Vr.b.Handset).pipe(Object(f.a)(function(t){return t.matches}))}return r(t,[{key:"ngAfterViewInit",value:function(){this.windowWidth=window.innerWidth}}]),t}()).\u0275fac=function(t){return new(t||kr)(l.Pb(Vr.a))},kr.\u0275cmp=l.Jb({type:kr,selectors:[["app-privacy-security"]],decls:3,vars:0,consts:[[1,"sidenav-container"]],template:function(t,e){1&t&&(l.Vb(0,"mat-sidenav-container",0),l.Vb(1,"mat-sidenav-content"),l.Qb(2,"router-outlet"),l.Ub(),l.Ub())},directives:[xr.b,xr.c,N.f],styles:[""]}),kr),_r=o("WF00");function Pr(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div",5),l.Vb(1,"p",6),l.Ic(2,"2FA_SUCCESSFUL_SETUP"),l.Ub(),l.Vb(3,"form",7),l.dc("ngSubmit",function(){return l.yc(n),l.hc().disable()}),l.Vb(4,"h2",8),l.Ic(5,"REMOVE_TWO_FACTOR_AUTH"),l.Ub(),l.Vb(6,"div",9),l.Ic(7,"2FA_SETUP_ERROR"),l.Ub(),l.Vb(8,"mat-form-field",10),l.Vb(9,"mat-label",6),l.Ic(10,"LABEL_CURRENT_PASSWORD"),l.Ub(),l.Qb(11,"input",11),l.ic(12,"translate"),l.Ub(),l.Vb(13,"button",12),l.Vb(14,"i",13),l.Ic(15," remove_circle_outline "),l.Ub(),l.Ic(16),l.ic(17,"translate"),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(3),l.nc("formGroup",a.twoFactorDisableForm),l.Db(3),l.nc("hidden",!(a.errored&&!a.twoFactorDisableForm.dirty)),l.Db(5),l.oc("placeholder",l.jc(12,5,"MANDATORY_CURRENT_PASSWORD")),l.Db(2),l.nc("disabled",a.twoFactorDisableForm.invalid),l.Db(3),l.Kc(" ",l.jc(17,7,"BTN_REMOVE")," ")}}function Tr(t,e){if(1&t){var n=l.Wb();l.Vb(0,"form",14),l.dc("ngSubmit",function(){return l.yc(n),l.hc().setup()}),l.Vb(1,"span",15),l.Ic(2,"2FA_AUTH_SETUP_INSTRUCTIONS"),l.Ub(),l.Vb(3,"div",16),l.Qb(4,"qr-code",17),l.Ub(),l.Vb(5,"div",9),l.Ic(6,"2FA_SETUP_ERROR"),l.Ub(),l.Vb(7,"mat-form-field",10),l.Vb(8,"mat-label",6),l.Ic(9,"LABEL_CURRENT_PASSWORD"),l.Ub(),l.Qb(10,"input",18),l.ic(11,"translate"),l.Ub(),l.Vb(12,"mat-form-field",10),l.Vb(13,"mat-label",6),l.Ic(14,"INITIAL_CODE"),l.Ub(),l.Qb(15,"input",19,20),l.ic(17,"translate"),l.Vb(18,"mat-error",6),l.Ic(19,"INVALID_TWO_FACTOR_AUTH_TOKEN"),l.Ub(),l.Vb(20,"mat-icon",21),l.ic(21,"translate"),l.Ic(22," help_outline "),l.Ub(),l.Vb(23,"mat-hint",22),l.Ic(24),l.Ub(),l.Ub(),l.Vb(25,"button",23),l.Vb(26,"i",13),l.Ic(27," save "),l.Ub(),l.Ic(28),l.ic(29,"translate"),l.Ub(),l.Ub()}if(2&t){var a=l.vc(16),i=l.hc();l.nc("formGroup",i.twoFactorSetupForm),l.Db(4),l.nc("value",i.totpUrl)("size",300)("level","L"),l.Db(1),l.nc("hidden",!(i.errored&&!i.twoFactorSetupForm.dirty)),l.Db(5),l.oc("placeholder",l.jc(11,12,"MANDATORY_CURRENT_PASSWORD")),l.Db(5),l.oc("placeholder",l.jc(17,14,"INITIAL_CODE_PLACEHOLDER")),l.Eb("data-test-totp-secret",i.totpSecret),l.Db(5),l.oc("matTooltip",l.jc(21,16,"INITIAL_TOKEN_TOOLTIP")),l.Db(4),l.Kc("",(null==a.value?null:a.value.length)||0,"/6"),l.Db(1),l.nc("disabled",i.twoFactorSetupForm.invalid),l.Db(3),l.Kc(" ",l.jc(29,18,"BTN_SAVE")," ")}}g.b.add(I.ab,I.E),g.a.watch();var Ar,Lr,Er,Mr=((Er=function(){function t(e,n,a,o,r){i(this,t),this.twoFactorAuthService=e,this.configurationService=n,this.snackBar=a,this.translateService=o,this.snackBarHelperService=r,this.twoFactorSetupForm=new m.h({passwordControl:new m.e("",[m.z.required]),initalTokenControl:new m.e("",[m.z.required,m.z.pattern("^[\\d]{6}$")])}),this.twoFactorDisableForm=new m.h({passwordControl:new m.e("",[m.z.required])}),this.setupStatus=null,this.errored=null,this.appName="OWASP Juice Shop"}return r(t,[{key:"ngOnInit",value:function(){this.updateStatus()}},{key:"updateStatus",value:function(){var t=this,n=this.twoFactorAuthService.status(),a=this.configurationService.getApplicationConfiguration();return Object(wn.a)([n,a]).subscribe(function(n){var a=e(n,2),i=a[0],o=i.setup,r=i.email,c=i.secret,s=i.setupToken,l=a[1];if(t.setupStatus=o,t.appName=l.application.name,!o){var u=encodeURIComponent(t.appName);t.totpUrl="otpauth://totp/".concat(u,":").concat(r,"?secret=").concat(c,"&issuer=").concat(u),t.totpSecret=c,t.setupToken=s}},function(){console.log("Failed to fetch 2fa status")}),n}},{key:"setup",value:function(){var t,e,n=this;this.twoFactorAuthService.setup(null===(t=this.twoFactorSetupForm.get("passwordControl"))||void 0===t?void 0:t.value,null===(e=this.twoFactorSetupForm.get("initalTokenControl"))||void 0===e?void 0:e.value,this.setupToken).subscribe(function(){n.setupStatus=!0,n.snackBarHelperService.open("CONFIRM_2FA_SETUP")},function(){var t,e;null===(t=n.twoFactorSetupForm.get("passwordControl"))||void 0===t||t.markAsPristine(),null===(e=n.twoFactorSetupForm.get("initalTokenControl"))||void 0===e||e.markAsPristine(),n.errored=!0})}},{key:"disable",value:function(){var t,e=this;this.twoFactorAuthService.disable(null===(t=this.twoFactorDisableForm.get("passwordControl"))||void 0===t?void 0:t.value).subscribe(function(){e.updateStatus().subscribe(function(){e.setupStatus=!1}),e.snackBarHelperService.open("CONFIRM_2FA_DISABLE")},function(){var t;null===(t=e.twoFactorDisableForm.get("passwordControl"))||void 0===t||t.markAsPristine(),e.errored=!0})}}]),t}()).\u0275fac=function(t){return new(t||Er)(l.Pb(Cr),l.Pb(h),l.Pb(W.a),l.Pb(U.e),l.Pb(K))},Er.\u0275cmp=l.Jb({type:Er,selectors:[["app-two-factor-auth"]],decls:6,vars:2,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["id","2fa-setup-title","translate",""],["id","2fa-setup-successfully",4,"ngIf"],["class","form-container","id","two-factor-auth-setup",3,"formGroup","ngSubmit",4,"ngIf"],["id","2fa-setup-successfully"],["translate",""],["id","two-factor-auth-disable",1,"form-container",3,"formGroup","ngSubmit"],["id","two-factor-auth-disable-title","translate",""],["translate","",1,"error",3,"hidden"],["appearance","outline","color","accent"],["id","currentPasswordDisable","formControlName","passwordControl","type","password","matInput","","aria-label","Field to enter the current password","autocomplete","off",3,"placeholder"],["type","submit","id","disableTwoFactorAuth","mat-raised-button","","color","warn","aria-label","Button to remove the two-factor authentication",3,"disabled"],[1,"material-icons"],["id","two-factor-auth-setup",1,"form-container",3,"formGroup","ngSubmit"],["id","2fa-setup-instructions","translate",""],["fxLayoutAlign","center",1,"two-factor-qr-code"],[3,"value","size","level"],["id","currentPasswordSetup","formControlName","passwordControl","type","password","matInput","","aria-label","Field to enter the current password","autocomplete","off",3,"placeholder"],["id","initalToken","formControlName","initalTokenControl","type","text","matInput","","aria-label","Field to enter the initial token. This must have 6 digits.","minlength","6","maxlength","6","pattern","^[\\d]{6}$",3,"placeholder"],["initToken",""],["matSuffix","","matTooltipPosition","right","aria-label","The token to be entered from the authenticator must have 6 digits.",3,"matTooltip"],["align","end"],["type","submit","id","setupTwoFactorAuth","mat-raised-button","","color","primary","aria-label","Button to complete the two-factor configuration",3,"disabled"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_TWO_FACTOR_AUTH_CONFIG"),l.Ub(),l.Gc(4,Pr,18,9,"div",3),l.Gc(5,Tr,30,20,"form",4),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.nc("ngIf",!0===e.setupStatus),l.Db(1),l.nc("ngIf",!1===e.setupStatus))},directives:[w.c,y.a,U.a,Y.l,m.A,m.q,m.i,ee.c,ee.g,m.d,ne.b,m.p,m.g,S.a,_r.a,m.l,m.k,m.v,ee.b,Fe.a,ee.h,je.a,ee.f],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-bottom:50px;margin-left:auto;margin-right:auto;min-width:320px;width:30%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}#disableTwoFactorAuth[_ngcontent-%COMP%], #setupTwoFactorAuth[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.two-factor-qr-code[_ngcontent-%COMP%]{margin:16px 0}#two-factor-auth-disable[_ngcontent-%COMP%]{margin-top:32px}#two-factor-auth-disable-title[_ngcontent-%COMP%]{margin-bottom:0}button[_ngcontent-%COMP%]{margin-top:5px}"]}),Er),Rr=((Lr=function(){function t(e){i(this,t),this.http=e,this.hostServer="."}return r(t,[{key:"getCaptcha",value:function(){return this.http.get(this.hostServer+"/rest/image-captcha/").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Lr)(l.Zb(b.b))},Lr.\u0275prov=l.Lb({token:Lr,factory:Lr.\u0275fac,providedIn:"root"}),Lr),Nr=((Ar=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/user"}return r(t,[{key:"erase",value:function(t){return this.http.post(this.host+"/erasure-request",t).pipe(Object(p.a)(function(t){throw t}))}},{key:"dataExport",value:function(t){return this.http.post(this.host+"/data-export",t).pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ar)(l.Zb(b.b))},Ar.\u0275prov=l.Lb({token:Ar,factory:Ar.\u0275fac,providedIn:"root"}),Ar);function Br(t,e){if(1&t&&(l.Vb(0,"div"),l.Vb(1,"p",13),l.Ic(2),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(2),l.Jc(n.error)}}function Gr(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_CAPTCHA "),l.Ub())}function Fr(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_CAPTCHA "),l.Ub())}var jr=function(){return{length:"5"}};function Hr(t,e){if(1&t&&(l.Vb(0,"div"),l.Vb(1,"div"),l.Vb(2,"span",14),l.Ic(3,"CAPTCHA "),l.Vb(4,"span"),l.Ic(5,":"),l.Ub(),l.Ub(),l.Qb(6,"div",15),l.Ub(),l.Vb(7,"mat-form-field",16),l.Vb(8,"mat-label",2),l.Ic(9,"ENTER_CAPTCHA"),l.Ub(),l.Qb(10,"input",17,18),l.ic(12,"translate"),l.Vb(13,"mat-hint",19),l.Ic(14),l.Ub(),l.Gc(15,Gr,2,0,"mat-error",20),l.Gc(16,Fr,2,0,"mat-error",20),l.Ub(),l.Ub()),2&t){var n=l.vc(11),a=l.hc();l.Db(6),l.nc("innerHTML",a.captcha,l.zc),l.Db(4),l.oc("placeholder",l.kc(12,6,"TYPE_THESE_LETTERS",l.rc(9,jr))),l.nc("formControl",a.captchaControl),l.Db(4),l.Kc("",(null==n.value?null:n.value.length)||0,"/5"),l.Db(1),l.nc("ngIf",a.captchaControl.invalid&&a.captchaControl.errors.required),l.Db(1),l.nc("ngIf",a.captchaControl.invalid&&a.captchaControl.errors.minlength)}}var Qr,zr,Wr,Kr=((Wr=function(){function t(e,n,a){i(this,t),this.sanitizer=e,this.imageCaptchaService=n,this.dataSubjectService=a,this.captchaControl=new m.e("",[m.z.required,m.z.minLength(5)]),this.formatControl=new m.e("",[m.z.required]),this.dataRequest=void 0,this.presenceOfCaptcha=!1}return r(t,[{key:"ngOnInit",value:function(){this.needCaptcha(),this.dataRequest={}}},{key:"needCaptcha",value:function(){var t=new Date,e=localStorage.getItem("lstdtxprt")?new Date(JSON.parse(String(localStorage.getItem("lstdtxprt")))):new Date(0);t.getTime()-e.getTime()<3e5&&(this.getNewCaptcha(),this.presenceOfCaptcha=!0)}},{key:"getNewCaptcha",value:function(){var t=this;this.imageCaptchaService.getCaptcha().subscribe(function(e){t.captcha=t.sanitizer.bypassSecurityTrustHtml(e.image)})}},{key:"save",value:function(){var t=this;this.presenceOfCaptcha&&(this.dataRequest.answer=this.captchaControl.value),this.dataRequest.format=this.formatControl.value,this.dataSubjectService.dataExport(this.dataRequest).subscribe(function(e){var n;t.error=null,t.confirmation=e.confirmation,t.userData=e.userData,null===(n=window.open("","_blank","width=500"))||void 0===n||n.document.write(t.userData),t.lastSuccessfulTry=new Date,localStorage.setItem("lstdtxprt",JSON.stringify(t.lastSuccessfulTry)),t.ngOnInit(),t.resetForm()},function(e){t.error=e.error,t.confirmation=null,t.resetFormError()})}},{key:"resetForm",value:function(){this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue(""),this.formatControl.markAsUntouched(),this.formatControl.markAsPristine(),this.formatControl.setValue("")}},{key:"resetFormError",value:function(){this.captchaControl.markAsUntouched(),this.captchaControl.markAsPristine(),this.captchaControl.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||Wr)(l.Pb(s.c),l.Pb(Rr),l.Pb(Nr))},Wr.\u0275cmp=l.Jb({type:Wr,selectors:[["app-data-export"]],decls:26,vars:7,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],[4,"ngIf"],["id","data-export-form",1,"form-container"],["id","formatControl","aria-label","Select an option",3,"formControl"],["translate","",1,"radio-label"],["value","1","aria-label","Export Option JSON"],["value","2","aria-label","Export Option PDF","disabled",""],["value","3","aria-label","Export Option Excel","disabled",""],["type","submit","id","submitButton","color","primary","mat-raised-button","","aria-label","Button to send the request",2,"margin-top","15px",3,"disabled","click"],[1,"material-icons"],[1,"hint"],[1,"error"],["translate","",2,"float","left","margin-top","40px","font-weight","500","margin-bottom","20px"],[1,"captcha-image",2,"margin-left","10px",3,"innerHTML"],["appearance","outline","color","accent",2,"margin-top","10px","width","100%"],["type","text","matInput","","maxlength","5","aria-label","Input for the CAPTCHA",3,"formControl","placeholder"],["captchaInput",""],["align","end"],["translate","",4,"ngIf"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_REQUEST_DATA_EXPORT"),l.Ub(),l.Gc(4,Br,3,1,"div",3),l.Vb(5,"div",4),l.Vb(6,"mat-radio-group",5),l.Vb(7,"mat-label",6),l.Ic(8,"EXPORT_LABEL "),l.Vb(9,"span"),l.Ic(10,":"),l.Ub(),l.Ub(),l.Vb(11,"mat-radio-button",7),l.Ic(12,"JSON"),l.Ub(),l.Vb(13,"mat-radio-button",8),l.Ic(14,"PDF"),l.Ub(),l.Vb(15,"mat-radio-button",9),l.Ic(16,"Excel"),l.Ub(),l.Ub(),l.Gc(17,Hr,17,10,"div",3),l.Ub(),l.Vb(18,"button",10),l.dc("click",function(){return e.save()}),l.Vb(19,"i",11),l.Ic(20," save_alt "),l.Ub(),l.Ic(21),l.ic(22,"translate"),l.Ub(),l.Vb(23,"div",12),l.Vb(24,"span",2),l.Ic(25,"DATA_EXPORT_HINT"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.nc("ngIf",e.error),l.Db(2),l.nc("formControl",e.formatControl),l.Db(11),l.nc("ngIf",e.presenceOfCaptcha),l.Db(1),l.nc("disabled",e.formatControl.invalid||e.captchaControl.invalid&&e.presenceOfCaptcha),l.Db(3),l.Kc(" ",l.jc(22,5,"BTN_REQUEST")," "))},directives:[w.c,y.a,U.a,Y.l,fi.b,m.p,m.f,ee.g,fi.a,S.a,ee.c,ne.b,m.d,m.k,ee.f,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;height:auto;margin-bottom:50px;margin-left:auto;margin-right:auto;min-width:320px;width:25%}#submitButton[_ngcontent-%COMP%]{margin-left:20%;width:60%}.hint[_ngcontent-%COMP%]{display:flex;font-size:10px;justify-content:center;margin-top:5px}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-bottom:16px;margin-left:16px}.radio-label[_ngcontent-%COMP%]{font-weight:500;margin-right:8px}.captcha-image[_ngcontent-%COMP%]{float:left;margin-bottom:10px;margin-top:20px}"]}),Wr),qr=((zr=function(){function t(e){i(this,t),this.sanitizer=e,this.lastLoginIp="?"}return r(t,[{key:"ngOnInit",value:function(){try{this.parseAuthToken()}catch(t){console.log(t)}}},{key:"parseAuthToken",value:function(){var t={},e=localStorage.getItem("token");e&&(t=F(e)).data.lastLoginIp&&(this.lastLoginIp=this.sanitizer.bypassSecurityTrustHtml("<small>".concat(t.data.lastLoginIp,"</small>")))}}]),t}()).\u0275fac=function(t){return new(t||zr)(l.Pb(s.c))},zr.\u0275cmp=l.Jb({type:zr,selectors:[["app-last-login-ip"]],decls:8,vars:1,consts:[[1,"ipCard","mat-elevation-z6"],["translate",""],[2,"margin-bottom","15px"],[3,"innerHTML"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"h1",1),l.Ic(2,"LAST_LOGIN_IP"),l.Ub(),l.Vb(3,"p",2),l.Vb(4,"span",1),l.Ic(5,"IP_ADDRESS"),l.Ub(),l.Ic(6,"\xa0\xa0"),l.Qb(7,"span",3),l.Ub(),l.Ub()),2&t&&(l.Db(7),l.nc("innerHTML",e.lastLoginIp,l.zc))},directives:[y.a,U.a],styles:[".ipCard[_ngcontent-%COMP%]{display:block;margin:0 auto 5%;min-width:320px;width:25%}"]}),zr),Yr=((Qr=function(){function t(e,n){i(this,t),this._document=e,this.configurationService=n,this.applicationName="OWASP Juice Shop"}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.applicationUrl=this._document.location.protocol+"//"+this._document.location.hostname,this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.name)&&(t.applicationName=e.application.name),t.privacyContactEmail=(null===(a=null==e?void 0:e.application)||void 0===a?void 0:a.privacyContactEmail)?e.application.privacyContactEmail:"donotreply@".concat(t._document.location.hostname)},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Qr)(l.Pb(Y.d),l.Pb(h))},Qr.\u0275cmp=l.Jb({type:Qr,selectors:[["app-privacy-policy"]],decls:169,vars:9,consts:[[1,"mat-elevation-z6"],[1,"privacy-policy"],["translate",""],[1,"hot"],["href","https://www.freeprivacypolicy.com/","aria-label","Link to the page where the privacy policy was created"],[1,"divider"],["src","assets/public/images/padding/81px.png"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"section",1),l.Vb(2,"h1",2),l.Ic(3,"TITLE_PRIVACY_POLICY"),l.Ub(),l.Vb(4,"p"),l.Ic(5,"Effective date: March 15, 2019"),l.Ub(),l.Vb(6,"p"),l.Ic(7),l.Vb(8,"span",3),l.Ic(9),l.Ub(),l.Ic(10,' website (the "Service").'),l.Ub(),l.Vb(11,"p"),l.Ic(12),l.Vb(13,"a",4),l.Ic(14,"Free Privacy Policy website"),l.Ub(),l.Ic(15,"."),l.Ub(),l.Vb(16,"p"),l.Ic(17),l.Ub(),l.Qb(18,"mat-divider",5),l.Vb(19,"h2"),l.Ic(20,"A. Information Collection And Use"),l.Ub(),l.Vb(21,"p"),l.Ic(22,"We collect several different types of information for various purposes to provide and improve our Service to you."),l.Ub(),l.Vb(23,"h3"),l.Ic(24,"A1. Types of Data Collected"),l.Ub(),l.Vb(25,"h4"),l.Ic(26,"A1.1 Personal Data"),l.Ub(),l.Vb(27,"p"),l.Ic(28,'While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you ("Personal Data"). Personally identifiable information may include, but is not limited to:'),l.Ub(),l.Vb(29,"ul"),l.Vb(30,"li"),l.Ic(31,"Email address"),l.Ub(),l.Vb(32,"li"),l.Ic(33,"Address, State, Province, ZIP/Postal code, City"),l.Ub(),l.Vb(34,"li"),l.Ic(35,"Cookies and Usage Data"),l.Ub(),l.Ub(),l.Vb(36,"h4"),l.Ic(37,"A1.2 Usage Data"),l.Ub(),l.Vb(38,"p"),l.Vb(39,"span",3),l.Ic(40,"We may also"),l.Ub(),l.Ic(41,' collect information how the Service is accessed and used ("Usage Data"). This Usage Data may include information such as your computer\'s Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that you visit, the time and date of your visit, the time spent on those pages, unique device identifiers and other diagnostic data.'),l.Ub(),l.Vb(42,"h4"),l.Ic(43,"A1.3 Tracking & Cookies Data"),l.Ub(),l.Vb(44,"p"),l.Ic(45,"We use cookies and similar tracking technologies to track the activity on our Service and hold certain information."),l.Ub(),l.Vb(46,"p"),l.Ic(47,"Cookies are files with small amount of data which may include an anonymous unique identifier. Cookies are sent to your browser from a website and stored on your device. Tracking technologies also used are beacons, tags, and scripts to collect and track information and to improve and analyze our Service."),l.Ub(),l.Vb(48,"p"),l.Ic(49,"You can "),l.Vb(50,"span",3),l.Ic(51,"instruct you"),l.Ub(),l.Ic(52,"r browser "),l.Vb(53,"span",3),l.Ic(54,"to refuse all"),l.Ub(),l.Ic(55," cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Service."),l.Ub(),l.Vb(56,"p"),l.Ic(57,"Examples of Cookies we use:"),l.Ub(),l.Vb(58,"ul"),l.Vb(59,"li"),l.Vb(60,"strong"),l.Ic(61,"Session Cookies:"),l.Ub(),l.Ic(62," \xa0We use Session Cookies to operate our Service."),l.Ub(),l.Vb(63,"li"),l.Vb(64,"strong"),l.Ic(65,"Preference Cookies:"),l.Ub(),l.Ic(66,"\xa0We use Preference Cookies to remember your preferences and various settings. "),l.Ub(),l.Vb(67,"li"),l.Vb(68,"strong"),l.Ic(69,"Security Cookies:"),l.Ub(),l.Ic(70,"\xa0We use Security Cookies for security purposes."),l.Ub(),l.Ub(),l.Vb(71,"h3"),l.Ic(72,"A2. Use of Data"),l.Ub(),l.Vb(73,"p"),l.Ic(74),l.Ub(),l.Vb(75,"ul"),l.Vb(76,"li"),l.Ic(77,"To provide and maintain the Service"),l.Ub(),l.Vb(78,"li"),l.Ic(79,"To notify you about changes to our Service"),l.Ub(),l.Vb(80,"li"),l.Ic(81,"To allow you to participate in interactive features of our Service when you choose to do so"),l.Ub(),l.Vb(82,"li"),l.Ic(83,"To provide customer care and support"),l.Ub(),l.Vb(84,"li"),l.Ic(85,"To provide analysis or valuable information so that we can improve the Service"),l.Ub(),l.Vb(86,"li"),l.Ic(87,"To monitor the usage of the Service"),l.Ub(),l.Vb(88,"li"),l.Ic(89,"To detect, prevent and address technical issues"),l.Ub(),l.Ub(),l.Qb(90,"mat-divider",5),l.Vb(91,"h2"),l.Ic(92,"B. Transfer Of Data"),l.Ub(),l.Vb(93,"p"),l.Ic(94,"Your information, including Personal Data, may be transferred to \u2014 and maintained on \u2014 computers located outside of your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from your jurisdiction."),l.Ub(),l.Vb(95,"p"),l.Ic(96,"If you are located outside Germany and choose to provide information to us, please note that we transfer the data, including Personal Data, to Germany and process it there."),l.Ub(),l.Vb(97,"p"),l.Ic(98,"Your consent to this Privacy Policy followed by your submission of such information represents your agreement to that transfer."),l.Ub(),l.Vb(99,"p"),l.Ic(100),l.Vb(101,"span",3),l.Ic(102,"reasonably necessary"),l.Ub(),l.Ic(103," to ensure that your data is treated securely and in accordance with this Privacy Policy and no transfer of your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of your data and other personal information."),l.Ub(),l.Qb(104,"mat-divider",5),l.Vb(105,"h2"),l.Ic(106,"C. Disclosure Of Data"),l.Ub(),l.Vb(107,"h3"),l.Ic(108,"C1. Legal Requirements"),l.Ub(),l.Vb(109,"p"),l.Ic(110),l.Ub(),l.Vb(111,"ul"),l.Vb(112,"li"),l.Ic(113,"To comply with a legal obligation"),l.Ub(),l.Vb(114,"li"),l.Ic(115),l.Ub(),l.Vb(116,"li"),l.Ic(117,"To prevent or investigate possible wrongdoing in connection with the Service"),l.Ub(),l.Vb(118,"li"),l.Ic(119,"To protect the personal safety of users of the Service or the public"),l.Ub(),l.Vb(120,"li"),l.Ic(121,"To protect against legal liability"),l.Ub(),l.Ub(),l.Qb(122,"mat-divider",5),l.Vb(123,"h2"),l.Ic(124,"D. Security Of Data"),l.Ub(),l.Vb(125,"p"),l.Ic(126,"The security of your data is important to us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."),l.Ub(),l.Qb(127,"mat-divider",5),l.Vb(128,"h2"),l.Ic(129,"E. Service Providers"),l.Ub(),l.Vb(130,"p"),l.Ic(131,'We may employ third party companies and individuals to facilitate our Service ("Service Providers"), to provide the Service on our behalf, to perform Service-related services or to assist us in analyzing how our Service is used.'),l.Ub(),l.Vb(132,"p"),l.Ic(133,"These third parties have access to your Personal Data only to perform these tasks on our behalf and are obligated not to disclose or use it for any other purpose."),l.Ub(),l.Qb(134,"mat-divider",5),l.Vb(135,"h2"),l.Ic(136,"F. Links To Other Sites"),l.Ub(),l.Vb(137,"p"),l.Ic(138,"Our Service may contain links to other sites that are not operated by us. If you click on a third party link, you will be directed to that third party's site. We strongly advise you to review the Privacy Policy of every site you visit."),l.Ub(),l.Vb(139,"p"),l.Ic(140,"We have no control over and assume no "),l.Vb(141,"span",3),l.Ic(142,"responsibility"),l.Ub(),l.Ic(143," for the content, privacy policies or practices of any third party sites or services."),l.Ub(),l.Qb(144,"mat-divider",5),l.Vb(145,"h2"),l.Ic(146,"G. Children's Privacy"),l.Ub(),l.Vb(147,"p"),l.Ic(148,'Our Service does not address anyone under the age of 18 ("Children").'),l.Ub(),l.Vb(149,"p"),l.Ic(150,"We do not knowingly collect personally identifiable information from anyone under the age of 18. If you are a parent or guardian and you are aware that your Children has provided us with Personal Data, please contact us. If we become aware that we have collected Personal Data from children without verification of parental consent, we take steps to remove that information from our servers."),l.Ub(),l.Qb(151,"mat-divider",5),l.Vb(152,"h2"),l.Ic(153,"H. Changes To This Privacy Policy"),l.Ub(),l.Vb(154,"p"),l.Ic(155,"We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page."),l.Ub(),l.Vb(156,"p"),l.Ic(157,'We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the "effective date" at the top of this Privacy Policy.'),l.Ub(),l.Vb(158,"p"),l.Ic(159,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),l.Ub(),l.Qb(160,"mat-divider",5),l.Vb(161,"h2"),l.Ic(162,"Contact Us"),l.Ub(),l.Vb(163,"p"),l.Ic(164,"If you have any questions about this Privacy Policy, please contact us:"),l.Ub(),l.Vb(165,"ul"),l.Vb(166,"li"),l.Ic(167),l.Ub(),l.Ub(),l.Ub(),l.Qb(168,"img",6),l.Ub()),2&t&&(l.Db(7),l.Kc("",e.applicationName,' ("us", "we", or "our") operates the '),l.Db(2),l.Jc(e.applicationUrl),l.Db(3),l.Kc("This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data. Our Privacy Policy for ",e.applicationName," is created with the help of the "),l.Db(5),l.Kc("We use your data to provide and improve the Service. By using the Service, you agree to the collection and use of information in accordance with this policy. Unless otherwise defined in this Privacy Policy, terms used in this Privacy Policy have the same meanings as in our Terms and Conditions, accessible from ",e.applicationUrl," ."),l.Db(57),l.Kc("",e.applicationName," uses the collected data for various purposes:"),l.Db(26),l.Kc("",e.applicationName," will take all steps "),l.Db(10),l.Kc("",e.applicationName," may disclose your Personal Data in the good faith belief that such action is necessary to:"),l.Db(5),l.Kc("To protect and defend the rights or property of ",e.applicationName,""),l.Db(52),l.Kc("By email: ",e.privacyContactEmail,""))},directives:[y.a,U.a,sn.a],styles:[".privacy-policy[_ngcontent-%COMP%]{margin-left:8.33333%;width:83.3333%}.privacy-policy[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:15px}p[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word}mat-card[_ngcontent-%COMP%]{display:block;margin-bottom:50px;margin-left:auto;margin-right:auto;width:90%}h2[_ngcontent-%COMP%]{padding-top:10px}h3[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:550}strong[_ngcontent-%COMP%]{font-style:italic}h4[_ngcontent-%COMP%]{text-decoration:underline}.hot[_ngcontent-%COMP%]:hover{text-shadow:0 0 20px #fefcc9,10px -10px 30px #feec85,-20px -20px 40px #ffae34,20px -40px 50px #ec760c,-20px -60px 60px #cd4606,0 -80px 70px #973716,10px -90px 80px #451b0e}.divider[_ngcontent-%COMP%]{border-top-width:4px!important;margin-left:9%!important;width:82%!important}"]}),Qr);function Jr(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_COUNTRY "),l.Ub())}function $r(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_NAME "),l.Ub())}function Zr(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_NUMBER "),l.Ub())}var Xr=function(){return{range:"1000000-9999999999"}};function tc(t,e){1&t&&(l.Vb(0,"mat-error",18),l.Ic(1,"INVALID_MOBILE_NUMBER "),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,Xr))}function ec(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_ZIP "),l.Ub())}function nc(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1,"MANDATORY_ADDRESS"),l.Ub())}function ac(t,e){1&t&&(l.Vb(0,"mat-error",2),l.Ic(1," MANDATORY_CITY "),l.Ub())}var ic,oc,rc,cc=function(){return{length:"160"}},sc=((rc=function(){function t(e,n,a,o,r,c,s){i(this,t),this.location=e,this.formSubmitService=n,this.addressService=a,this.router=o,this.activatedRoute=r,this.translate=c,this.snackBarHelperService=s,this.countryControl=new m.e("",[m.z.required]),this.nameControl=new m.e("",[m.z.required]),this.numberControl=new m.e("",[m.z.required,m.z.min(1111111),m.z.max(9999999999)]),this.pinControl=new m.e("",[m.z.required,m.z.maxLength(8)]),this.addressControl=new m.e("",[m.z.required,m.z.maxLength(160)]),this.cityControl=new m.e("",[m.z.required]),this.stateControl=new m.e,this.address=void 0,this.mode="create",this.addressId=void 0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.address={},this.activatedRoute.paramMap.subscribe(function(e){e.has("addressId")?(t.mode="edit",t.addressId=e.get("addressId"),t.addressService.getById(t.addressId).subscribe(function(e){t.initializeForm(e)})):(t.mode="create",t.addressId=null)}),this.formSubmitService.attachEnterKeyHandler("address-form","submitButton",function(){return t.save()})}},{key:"save",value:function(){var t=this;this.address.country=this.countryControl.value,this.address.fullName=this.nameControl.value,this.address.mobileNum=this.numberControl.value,this.address.zipCode=this.pinControl.value,this.address.streetAddress=this.addressControl.value,this.address.city=this.cityControl.value,this.address.state=this.stateControl.value,"edit"===this.mode?this.addressService.put(this.addressId,this.address).subscribe(function(e){t.address={},t.ngOnInit(),t.resetForm(),t.routeToPreviousUrl(),t.translate.get("ADDRESS_UPDATED",{city:e.city}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")})},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.address={},t.resetForm()}):this.addressService.save(this.address).subscribe(function(e){t.address={},t.ngOnInit(),t.resetForm(),t.routeToPreviousUrl(),t.translate.get("ADDRESS_ADDED",{city:e.city}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")})},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.address={},t.resetForm()})}},{key:"initializeForm",value:function(t){this.countryControl.setValue(t.country),this.nameControl.setValue(t.fullName),this.numberControl.setValue(t.mobileNum),this.pinControl.setValue(t.zipCode),this.addressControl.setValue(t.streetAddress),this.cityControl.setValue(t.city),this.stateControl.setValue(t.state)}},{key:"routeToPreviousUrl",value:function(){this.location.back()}},{key:"resetForm",value:function(){this.countryControl.markAsUntouched(),this.countryControl.markAsPristine(),this.countryControl.setValue(""),this.nameControl.markAsUntouched(),this.nameControl.markAsPristine(),this.nameControl.setValue(""),this.numberControl.markAsUntouched(),this.numberControl.markAsPristine(),this.numberControl.setValue(""),this.pinControl.markAsUntouched(),this.pinControl.markAsPristine(),this.pinControl.setValue(""),this.addressControl.markAsUntouched(),this.addressControl.markAsPristine(),this.addressControl.setValue(""),this.cityControl.markAsUntouched(),this.cityControl.markAsPristine(),this.cityControl.setValue(""),this.stateControl.markAsUntouched(),this.stateControl.markAsPristine(),this.stateControl.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||rc)(l.Pb(Y.g),l.Pb(te),l.Pb(di),l.Pb(N.b),l.Pb(N.a),l.Pb(U.e),l.Pb(K))},rc.\u0275cmp=l.Jb({type:rc,selectors:[["app-address-create"]],decls:69,vars:49,consts:[["fxLayoutAlign","center"],[1,"mat-elevation-z6"],["translate",""],["id","address-form",1,"form-container"],["appearance","outline","color","accent"],["type","text","matInput","",3,"formControl","placeholder"],["translate","",4,"ngIf"],["type","number","matInput","",3,"formControl","placeholder"],["translate","",3,"translateParams",4,"ngIf"],["pin",""],["align","end"],["id","address","matInput","","matAutosizeMinRows","4","matAutosizeMaxRows","4","matTextareaAutosize","","cols","50","maxlength","160",3,"formControl","placeholder"],["adress",""],[1,"fas","fa-exclamation-circle"],["translate","",2,"margin-left","5px"],["mat-stroked-button","",1,"btn-return",3,"click"],["type","submit","id","submitButton","mat-raised-button","","color","primary",3,"disabled","click"],[1,"material-icons"],["translate","",3,"translateParams"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"mat-card",1),l.Vb(2,"h1",2),l.Ic(3,"ADD_NEW_ADDRESS"),l.Ub(),l.Vb(4,"div",3),l.Vb(5,"mat-form-field",4),l.Vb(6,"mat-label",2),l.Ic(7,"LABEL_COUNTRY"),l.Ub(),l.Qb(8,"input",5),l.ic(9,"translate"),l.Gc(10,Jr,2,0,"mat-error",6),l.Ub(),l.Vb(11,"mat-form-field",4),l.Vb(12,"mat-label",2),l.Ic(13,"LABEL_NAME"),l.Ub(),l.Qb(14,"input",5),l.ic(15,"translate"),l.Gc(16,$r,2,0,"mat-error",6),l.Ub(),l.Vb(17,"mat-form-field",4),l.Vb(18,"mat-label",2),l.Ic(19,"LABEL_MOBILE_NUMBER"),l.Ub(),l.Qb(20,"input",7),l.ic(21,"translate"),l.Gc(22,Zr,2,0,"mat-error",6),l.Gc(23,tc,2,2,"mat-error",8),l.Ub(),l.Vb(24,"mat-form-field",4),l.Vb(25,"mat-label",2),l.Ic(26,"LABEL_ZIP_CODE"),l.Ub(),l.Qb(27,"input",5,9),l.ic(29,"translate"),l.Vb(30,"mat-hint",10),l.Ic(31),l.Ub(),l.Gc(32,ec,2,0,"mat-error",6),l.Ub(),l.Vb(33,"mat-form-field",4),l.Vb(34,"mat-label",2),l.Ic(35,"LABEL_ADDRESS"),l.Ub(),l.Qb(36,"textarea",11,12),l.ic(38,"translate"),l.Vb(39,"mat-hint",2),l.Qb(40,"i",13),l.Vb(41,"em",14),l.Ic(42),l.ic(43,"translate"),l.Ub(),l.Ub(),l.Vb(44,"mat-hint",10),l.Ic(45),l.Ub(),l.Gc(46,nc,2,0,"mat-error",6),l.Ub(),l.Vb(47,"mat-form-field",4),l.Vb(48,"mat-label",2),l.Ic(49,"LABEL_CITY"),l.Ub(),l.Qb(50,"input",5),l.ic(51,"translate"),l.Gc(52,ac,2,0,"mat-error",6),l.Ub(),l.Vb(53,"mat-form-field",4),l.Vb(54,"mat-label",2),l.Ic(55,"LABEL_STATE"),l.Ub(),l.Qb(56,"input",5),l.ic(57,"translate"),l.Ub(),l.Ub(),l.Vb(58,"div"),l.Vb(59,"button",15),l.dc("click",function(){return e.routeToPreviousUrl()}),l.Vb(60,"mat-icon"),l.Ic(61," navigate_before "),l.Ub(),l.Ic(62),l.ic(63,"translate"),l.Ub(),l.Vb(64,"button",16),l.dc("click",function(){return e.save()}),l.Vb(65,"i",17),l.Ic(66," send "),l.Ub(),l.Ic(67),l.ic(68,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(28),a=l.vc(37);l.Db(8),l.nc("formControl",e.countryControl)("placeholder",l.jc(9,27,"MANDATORY_COUNTRY")),l.Db(2),l.nc("ngIf",e.countryControl.invalid&&e.countryControl.errors.required),l.Db(4),l.nc("formControl",e.nameControl)("placeholder",l.jc(15,29,"MANDATORY_NAME")),l.Db(2),l.nc("ngIf",e.nameControl.invalid&&e.nameControl.errors.required),l.Db(4),l.nc("formControl",e.numberControl)("placeholder",l.jc(21,31,"MANDATORY_NUMBER")),l.Db(2),l.nc("ngIf",e.numberControl.invalid&&e.numberControl.errors.required),l.Db(1),l.nc("ngIf",e.numberControl.invalid&&(e.numberControl.errors.min||e.numberControl.errors.max)),l.Db(4),l.nc("formControl",e.pinControl)("placeholder",l.jc(29,33,"MANDATORY_ZIP")),l.Db(4),l.Kc("",(null==n.value?null:n.value.length)||0,"/8"),l.Db(1),l.nc("ngIf",e.pinControl.invalid&&e.pinControl.errors.required),l.Db(4),l.nc("formControl",e.addressControl)("placeholder",l.jc(38,35,"MANDATORY_ADDRESS")),l.Db(6),l.Jc(l.kc(43,37,"MAX_TEXTAREA_LENGTH",l.rc(48,cc))),l.Db(3),l.Kc("",(null==a.value?null:a.value.length)||0,"/160"),l.Db(1),l.nc("ngIf",e.addressControl.invalid&&e.addressControl.errors.required),l.Db(4),l.nc("formControl",e.cityControl)("placeholder",l.jc(51,40,"MANDATORY_CITY")),l.Db(2),l.nc("ngIf",e.cityControl.invalid&&e.cityControl.errors.required),l.Db(4),l.nc("formControl",e.stateControl)("placeholder",l.jc(57,42,"STATE_PLACEHOLDER")),l.Db(6),l.Kc(" ",l.jc(63,44,"LABEL_BACK")," "),l.Db(2),l.nc("disabled",e.countryControl.invalid||e.nameControl.invalid||e.numberControl.invalid||e.pinControl.invalid||e.addressControl.invalid||e.cityControl.invalid),l.Db(3),l.Kc(" ",l.jc(68,46,"BTN_SUBMIT")," ")}},directives:[w.c,y.a,U.a,ee.c,ee.g,ne.b,m.d,m.p,m.f,Y.l,m.u,ee.f,ne.d,m.k,S.a,Fe.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{height:auto;min-width:320px;width:30%}#submitButton[_ngcontent-%COMP%]{float:right}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.btn-return[_ngcontent-%COMP%]{float:left}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}"]}),rc),lc=((oc=function(){function t(e,n){i(this,t),this.router=e,this.ngZone=n,this.addressId=void 0,this.showNextButton=!0}return r(t,[{key:"getMessage",value:function(t){this.addressId=t}}]),t}()).\u0275fac=function(t){return new(t||oc)(l.Pb(N.b),l.Pb(l.B))},oc.\u0275cmp=l.Jb({type:oc,selectors:[["app-address-select"]],decls:2,vars:1,consts:[["id","card"],[3,"showNextButton"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Qb(1,"app-address",1),l.Ub()),2&t&&(l.Db(1),l.nc("showNextButton",e.showNextButton))},directives:[Ei],styles:[".btn-pay[_ngcontent-%COMP%]{display:block;width:100%}.mat-raised-button[_ngcontent-%COMP%]{margin-right:3px;margin-top:3px}#card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),oc),uc=((ic=function t(){i(this,t)}).\u0275fac=function(t){return new(t||ic)},ic.\u0275cmp=l.Jb({type:ic,selectors:[["app-saved-address"]],decls:2,vars:1,consts:[[1,"main-wrapper"],[3,"allowEdit"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Qb(1,"app-address",1),l.Ub()),2&t&&(l.Db(1),l.nc("allowEdit",!0))},directives:[Ei],styles:[".main-wrapper[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),ic);g.b.add(I.b),g.a.watch();var bc,dc,mc,fc,pc=((fc=function(){function t(e){i(this,t),this.dialogData=e}return r(t,[{key:"ngOnInit",value:function(){this.title=this.dialogData.title,this.url=this.dialogData.url,this.address=this.dialogData.address,this.data=this.dialogData.data}}]),t}()).\u0275fac=function(t){return new(t||fc)(l.Pb(nn.a))},fc.\u0275cmp=l.Jb({type:fc,selectors:[["app-qr-code"]],decls:17,vars:11,consts:[[1,"qr-code","mat-typography"],["fxLayout","column","fxLayoutGap","10px"],[1,"container"],[3,"href"],[3,"value","size","level"],["mat-raised-button","","mat-dialog-close","",1,"close-dialog"],[1,"fas","fa-arrow-circle-left","fa-lg"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"header"),l.Vb(2,"h3"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub(),l.Vb(5,"div",1),l.Qb(6,"mat-divider"),l.Vb(7,"div",2),l.Vb(8,"a",3),l.Qb(9,"qr-code",4),l.Ub(),l.Ub(),l.Vb(10,"small"),l.Ic(11),l.Ub(),l.Ub(),l.Vb(12,"footer"),l.Vb(13,"button",5),l.Qb(14,"i",6),l.Ic(15),l.ic(16,"translate"),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Jc(l.jc(4,7,e.title)),l.Db(5),l.nc("href",e.url,l.Bc),l.Db(1),l.nc("value",e.data)("size",300)("level","M"),l.Db(2),l.Jc(e.address),l.Db(4),l.Kc(" ",l.jc(16,9,"BTN_CLOSE"),""))},directives:[w.d,w.e,sn.a,_r.a,S.a,nn.d],pipes:[U.d],styles:[""]}),fc),hc=((mc=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/wallet/balance"}return r(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"put",value:function(t){return this.http.put(this.host,t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||mc)(l.Zb(b.b))},mc.\u0275prov=l.Lb({token:mc,factory:mc.\u0275fac,providedIn:"root"}),mc),gc=((dc=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Deliverys"}return r(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getById",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||dc)(l.Zb(b.b))},dc.\u0275prov=l.Lb({token:dc,factory:dc.\u0275fac,providedIn:"root"}),dc),vc=((bc=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/api/Cards"}return r(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getById",value:function(t){return this.http.get("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"save",value:function(t){return this.http.post(this.host+"/",t).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"del",value:function(t){return this.http.delete("".concat(this.host,"/").concat(t)).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||bc)(l.Zb(b.b))},bc.\u0275prov=l.Lb({token:bc,factory:bc.\u0275fac,providedIn:"root"}),bc);function Ic(t,e){1&t&&l.Qb(0,"mat-header-cell",33)}function Cc(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",33),l.Vb(1,"mat-radio-button",34),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).emitSelectionToParent(t.id)}),l.Ub(),l.Ub()}}function yc(t,e){1&t&&l.Qb(0,"mat-header-cell",35)}function wc(t,e){if(1&t&&(l.Vb(0,"mat-cell",35),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.cardNum," ")}}function Uc(t,e){1&t&&l.Qb(0,"mat-header-cell",36)}function Sc(t,e){if(1&t&&(l.Vb(0,"mat-cell",36),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Jc(n.fullName)}}function kc(t,e){1&t&&l.Qb(0,"mat-header-cell",37)}function Dc(t,e){if(1&t&&(l.Vb(0,"mat-cell",37),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Lc("",n.expMonth,"/",n.expYear,"")}}function Vc(t,e){1&t&&l.Qb(0,"mat-header-cell",33)}function xc(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",33),l.Vb(1,"button",38),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).delete(t.id)}),l.Qb(2,"i",39),l.Ub(),l.Ub()}}function Oc(t,e){1&t&&l.Qb(0,"mat-header-row")}function _c(t,e){1&t&&l.Qb(0,"mat-row")}function Pc(t,e){if(1&t&&(l.Vb(0,"div"),l.Vb(1,"mat-table",17),l.Tb(2,18),l.Gc(3,Ic,1,0,"mat-header-cell",19),l.Gc(4,Cc,2,0,"mat-cell",20),l.Sb(),l.Tb(5,21),l.Gc(6,yc,1,0,"mat-header-cell",22),l.Gc(7,wc,2,1,"mat-cell",23),l.Sb(),l.Tb(8,24),l.Gc(9,Uc,1,0,"mat-header-cell",25),l.Gc(10,Sc,2,1,"mat-cell",26),l.Sb(),l.Tb(11,27),l.Gc(12,kc,1,0,"mat-header-cell",28),l.Gc(13,Dc,2,2,"mat-cell",29),l.Sb(),l.Tb(14,30),l.Gc(15,Vc,1,0,"mat-header-cell",19),l.Gc(16,xc,3,0,"mat-cell",20),l.Sb(),l.Gc(17,Oc,1,0,"mat-header-row",31),l.Gc(18,_c,1,0,"mat-row",32),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("dataSource",n.dataSource),l.Db(16),l.nc("matHeaderRowDef",n.displayedColumns),l.Db(1),l.nc("matRowDefColumns",n.displayedColumns)}}function Tc(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1," MANDATORY_NAME "),l.Ub())}function Ac(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1," MANDATORY_CARD_NUMBER "),l.Ub())}function Lc(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1," VALID_CARD_NUMBER "),l.Ub())}function Ec(t,e){if(1&t&&(l.Vb(0,"option",40),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.oc("value",n),l.Db(1),l.Jc(n)}}function Mc(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1," MANDATORY_EXPIRY_MONTH "),l.Ub())}function Rc(t,e){if(1&t&&(l.Vb(0,"option",40),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.oc("value",n),l.Db(1),l.Jc(n)}}function Nc(t,e){1&t&&(l.Vb(0,"mat-error",5),l.Ic(1," MANDATORY_EXPIRY_YEAR "),l.Ub())}g.b.add(I.z,C.g),g.a.watch();var Bc,Gc=((Bc=function(){function t(e,n,a){i(this,t),this.paymentService=e,this.translate=n,this.snackBarHelperService=a,this.emitSelection=new l.o,this.allowDelete=!1,this.displayedColumns=["Number","Name","Expiry"],this.nameControl=new m.e("",[m.z.required]),this.numberControl=new m.e("",[m.z.required,m.z.min(1e15),m.z.max(1e16)]),this.monthControl=new m.e("",[m.z.required]),this.yearControl=new m.e("",[m.z.required]),this.card={},this.cardsExist=!1,this.paymentId=void 0}return r(t,[{key:"ngOnInit",value:function(){this.monthRange=Array.from(Array(12).keys()).map(function(t){return t+1}),this.yearRange=Array.from(Array(20).keys()).map(function(t){return t+2080}),this.allowDelete?this.displayedColumns.push("Remove"):this.displayedColumns.unshift("Selection"),this.load()}},{key:"load",value:function(){var t=this;this.paymentService.get().subscribe(function(e){t.cardsExist=e.length,t.storedCards=e,t.dataSource=new q.o(t.storedCards)},function(t){return console.log(t)})}},{key:"save",value:function(){var t=this;this.card.fullName=this.nameControl.value,this.card.cardNum=this.numberControl.value,this.card.expMonth=this.monthControl.value,this.card.expYear=this.yearControl.value,this.paymentService.save(this.card).subscribe(function(e){t.error=null,t.translate.get("CREDIT_CARD_SAVED",{cardnumber:String(e.cardNum).substring(String(e.cardNum).length-4)}).subscribe(function(e){t.snackBarHelperService.open(e,"confirmBar")},function(e){t.snackBarHelperService.open(e,"confirmBar")}),t.load(),t.resetForm()},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),t.resetForm()})}},{key:"delete",value:function(t){var e=this;this.paymentService.del(t).subscribe(function(){e.load()},function(t){return console.log(t)})}},{key:"emitSelectionToParent",value:function(t){this.emitSelection.emit(t)}},{key:"resetForm",value:function(){this.nameControl.markAsUntouched(),this.nameControl.markAsPristine(),this.nameControl.setValue(""),this.numberControl.markAsUntouched(),this.numberControl.markAsPristine(),this.numberControl.setValue(""),this.monthControl.markAsUntouched(),this.monthControl.markAsPristine(),this.monthControl.setValue(""),this.yearControl.markAsUntouched(),this.yearControl.markAsPristine(),this.yearControl.setValue("")}}]),t}()).\u0275fac=function(t){return new(t||Bc)(l.Pb(vc),l.Pb(U.e),l.Pb(K))},Bc.\u0275cmp=l.Jb({type:Bc,selectors:[["app-payment-method"]],inputs:{allowDelete:"allowDelete"},outputs:{emitSelection:"emitSelection"},decls:46,vars:26,consts:[["fxLayout","column","fxLayoutGap","20px"],[4,"ngIf"],[1,"mat-elevation-z0"],[2,"margin-bottom","12px"],["appearance","outline","color","accent"],["translate",""],["type","text","matInput","",3,"formControl"],["translate","",4,"ngIf"],["type","number","matInput","",3,"formControl"],["cardIn",""],["align","end"],["appearance","outline","color","accent",2,"width","45%","margin-right","10%"],["matNativeControl","","required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","color","accent",2,"width","45%"],["type","submit","id","submitButton","mat-raised-button","","color","primary",2,"margin-top","5px","float","right",3,"disabled","click"],[1,"material-icons"],[3,"dataSource"],["matColumnDef","Selection"],["fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],["matColumnDef","Number"],["fxFlex","35%",4,"matHeaderCellDef"],["fxFlex","35%",4,"matCellDef"],["matColumnDef","Name"],["fxFlex","30%",4,"matHeaderCellDef"],["fxFlex","30%",4,"matCellDef"],["matColumnDef","Expiry"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","Remove"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxFlex","15%"],[3,"click"],["fxFlex","35%"],["fxFlex","30%"],["fxFlex","20%"],["mat-icon-button","",3,"click"],[1,"far","fa-trash-alt"],[3,"value"]],template:function(t,e){if(1&t&&(l.Vb(0,"div",0),l.Vb(1,"h1"),l.Ic(2),l.ic(3,"translate"),l.Ub(),l.Gc(4,Pc,19,3,"div",1),l.Vb(5,"div"),l.Vb(6,"mat-expansion-panel",2),l.Vb(7,"mat-expansion-panel-header",3),l.Vb(8,"mat-panel-title"),l.Ic(9),l.ic(10,"translate"),l.Ub(),l.Vb(11,"mat-panel-description"),l.Ic(12),l.ic(13,"translate"),l.Ub(),l.Ub(),l.Vb(14,"div"),l.Vb(15,"mat-form-field",4),l.Vb(16,"mat-label",5),l.Ic(17,"LABEL_NAME"),l.Ub(),l.Qb(18,"input",6),l.Gc(19,Tc,2,0,"mat-error",7),l.Ub(),l.Vb(20,"mat-form-field",4),l.Vb(21,"mat-label",5),l.Ic(22,"LABEL_CARD_NUMBER"),l.Ub(),l.Qb(23,"input",8,9),l.Vb(25,"mat-hint",10),l.Ic(26),l.Ub(),l.Gc(27,Ac,2,0,"mat-error",7),l.Gc(28,Lc,2,0,"mat-error",7),l.Ub(),l.Vb(29,"mat-form-field",11),l.Vb(30,"mat-label",5),l.Ic(31,"LABEL_EXPIRY_MONTH"),l.Ub(),l.Vb(32,"select",12),l.Gc(33,Ec,2,2,"option",13),l.Ub(),l.Gc(34,Mc,2,0,"mat-error",7),l.Ub(),l.Vb(35,"mat-form-field",14),l.Vb(36,"mat-label",5),l.Ic(37,"LABEL_EXPIRY_YEAR"),l.Ub(),l.Vb(38,"select",12),l.Gc(39,Rc,2,2,"option",13),l.Ub(),l.Gc(40,Nc,2,0,"mat-error",7),l.Ub(),l.Ub(),l.Vb(41,"button",15),l.dc("click",function(){return e.save()}),l.Vb(42,"i",16),l.Ic(43," send "),l.Ub(),l.Ic(44),l.ic(45,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.vc(24);l.Db(2),l.Jc(l.jc(3,18,"MY_PAYMENT_OPTIONS")),l.Db(2),l.nc("ngIf",e.cardsExist),l.Db(5),l.Kc(" ",l.jc(10,20,"ADD_NEW_CARD")," "),l.Db(3),l.Kc(" ",l.jc(13,22,"ADD_NEW_CARD_DESCRIPTION")," "),l.Db(6),l.nc("formControl",e.nameControl),l.Db(1),l.nc("ngIf",e.nameControl.invalid&&e.nameControl.errors.required),l.Db(4),l.nc("formControl",e.numberControl),l.Db(3),l.Kc("",(null==n.value?null:n.value.length)||0,"/16"),l.Db(1),l.nc("ngIf",e.numberControl.invalid&&e.numberControl.errors.required),l.Db(1),l.nc("ngIf",e.numberControl.invalid&&(e.numberControl.errors.min||e.numberControl.errors.max)),l.Db(4),l.nc("formControl",e.monthControl),l.Db(1),l.nc("ngForOf",e.monthRange),l.Db(1),l.nc("ngIf",e.monthControl.invalid&&e.monthControl.errors.required),l.Db(4),l.nc("formControl",e.yearControl),l.Db(1),l.nc("ngForOf",e.yearRange),l.Db(1),l.nc("ngIf",e.yearControl.invalid&&e.yearControl.errors.required),l.Db(1),l.nc("disabled",e.nameControl.invalid||e.numberControl.invalid||e.monthControl.invalid||e.yearControl.invalid),l.Db(3),l.Kc(" ",l.jc(45,24,"BTN_SUBMIT")," ")}},directives:[w.d,w.e,Y.l,ln.b,ln.d,ln.e,ln.c,ee.c,ee.g,U.a,ne.b,m.d,m.p,m.f,m.u,ee.f,m.y,m.x,Y.k,S.a,q.n,q.c,q.i,q.b,q.k,q.m,q.h,w.b,q.a,fi.a,q.j,q.l,ee.b,m.t,m.B],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.detail-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}"]}),Bc);function Fc(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div",11),l.Vb(1,"div",12),l.Vb(2,"div",13),l.Vb(3,"span",14),l.Ic(4,"LABEL_PAY_USING_WALLET"),l.Ub(),l.Ub(),l.Vb(5,"div",15),l.Vb(6,"b"),l.Vb(7,"span",14),l.Ic(8,"LABEL_WALLET_BALANCE"),l.Ub(),l.Vb(9,"span",16),l.Ic(10),l.Ub(),l.Ub(),l.Ub(),l.Vb(11,"div",17),l.Vb(12,"button",18),l.dc("click",function(){return l.yc(n),l.hc().useWallet()}),l.Qb(13,"i",19),l.Ic(14),l.ic(15,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(10),l.Kc(" ",a.walletBalanceStr,""),l.Db(2),l.nc("disabled",a.walletBalance-a.totalPrice<0),l.Db(2),l.Lc(" ",l.jc(15,4,"LABEL_PAY")," ",null==a.totalPrice?null:a.totalPrice.toFixed(2),"\xa4 ")}}function jc(t,e){if(1&t&&(l.Vb(0,"div",31),l.Ic(1),l.Ub()),2&t){var n=l.hc(2);l.Db(1),l.Kc("",n.couponConfirmation," ")}}function Hc(t,e){if(1&t&&(l.Vb(0,"div",32),l.Ic(1),l.Ub()),2&t){var n=l.hc(2);l.Db(1),l.Kc("",null==n.couponError?null:n.couponError.error," ")}}function Qc(t,e){1&t&&(l.Vb(0,"mat-error"),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Kc(" ",l.jc(2,1,"COUPON_CODE_HINT")," "))}var zc=function(t,e){return{twitter:t,facebook:e}};function Wc(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-expansion-panel",20),l.Vb(1,"mat-expansion-panel-header",21),l.Vb(2,"mat-panel-title"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Vb(5,"mat-panel-description"),l.Ic(6),l.ic(7,"translate"),l.Ub(),l.Ub(),l.Gc(8,jc,2,1,"div",22),l.Gc(9,Hc,2,1,"div",23),l.Vb(10,"mat-form-field",24),l.Vb(11,"mat-label",8),l.Ic(12,"LABEL_COUPON"),l.Ub(),l.Qb(13,"mat-hint",25),l.ic(14,"translate"),l.Qb(15,"input",26,27),l.ic(17,"translate"),l.Vb(18,"mat-hint",28),l.Ic(19),l.Ub(),l.Gc(20,Qc,3,3,"mat-error",29),l.Ub(),l.Vb(21,"button",30),l.dc("click",function(){return l.yc(n),l.hc().applyCoupon()}),l.Vb(22,"mat-icon"),l.Ic(23," redeem "),l.Ub(),l.Ic(24),l.ic(25,"translate"),l.Ub(),l.Ub()}if(2&t){var a=l.vc(16),i=l.hc();l.nc("expanded",i.couponPanelExpanded),l.Db(3),l.Kc(" ",l.jc(4,12,"ADD_A_COUPON")," "),l.Db(3),l.Kc(" ",l.jc(7,14,"VOUCHERS_AND_PROMOTIONAL_CODE")," "),l.Db(2),l.nc("ngIf",i.couponConfirmation&&!i.couponControl.dirty),l.Db(1),l.nc("ngIf",i.couponError&&!i.couponControl.dirty),l.Db(4),l.nc("innerHtml",l.kc(14,16,"FOLLOW_FOR_MONTHLY_COUPONS",l.tc(23,zc,i.twitterUrl,i.facebookUrl)),l.zc),l.Db(2),l.oc("placeholder",l.jc(17,19,"ENTER_COUPON_CODE")),l.nc("formControl",i.couponControl),l.Db(4),l.Kc("",(null==a.value?null:a.value.length)||0,"/10"),l.Db(1),l.nc("ngIf",i.couponControl.invalid&&(i.couponControl.errors.minlength||i.couponControl.errors.maxlength)),l.Db(1),l.nc("disabled",i.couponControl.invalid),l.Db(3),l.Kc(" ",l.jc(25,21,"BTN_REDEEM")," ")}}var Kc=function(){return{juiceshop:"OWASP Juice Shop"}};function qc(t,e){1&t&&(l.Vb(0,"span",54),l.Ic(1,"THANKS_FOR_SUPPORT"),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,Kc))}var Yc=function(t){return{appname:t}};function Jc(t,e){if(1&t&&(l.Vb(0,"span",54),l.Ic(1,"THANKS_FOR_SUPPORT_CUSTOMIZED"),l.Ub()),2&t){var n=l.hc(2);l.nc("translateParams",l.sc(1,Yc,n.applicationName))}}function $c(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",55),l.dc("click",function(){return l.yc(n),l.hc(2).showBitcoinQrCode()}),l.Qb(1,"i",56),l.Ic(2," Bitcoin "),l.Ub()}}function Zc(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",55),l.dc("click",function(){return l.yc(n),l.hc(2).showDashQrCode()}),l.Vb(1,"i",57),l.Ic(2,"\xd0"),l.Ub(),l.Ic(3," Dash"),l.Ub()}}function Xc(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",55),l.dc("click",function(){return l.yc(n),l.hc(2).showEtherQrCode()}),l.Qb(1,"i",58),l.Ic(2," Ether "),l.Ub()}}function ts(t,e){1&t&&(l.Vb(0,"span",54),l.Ic(1,"OFFICIAL_MERCHANDISE_STORES"),l.Ub()),2&t&&l.nc("translateParams",l.rc(1,Kc))}function es(t,e){if(1&t&&(l.Vb(0,"span",54),l.Ic(1,"OFFICIAL_MERCHANDISE_STORES_CUSTOMIZED"),l.Ub()),2&t){var n=l.hc(2);l.nc("translateParams",l.sc(1,Yc,n.applicationName))}}function ns(t,e){if(1&t&&(l.Vb(0,"mat-expansion-panel",33),l.Vb(1,"mat-expansion-panel-header",21),l.Vb(2,"mat-panel-title"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub(),l.Vb(5,"div",34),l.Vb(6,"div",35),l.Vb(7,"div",36),l.Vb(8,"label",8),l.Ic(9,"LABEL_DONATIONS"),l.Ub(),l.Ub(),l.Vb(10,"small"),l.Ic(11," ("),l.Gc(12,qc,2,2,"span",37),l.Gc(13,Jc,2,3,"span",37),l.Qb(14,"i",38),l.Ic(15,") "),l.Ub(),l.Vb(16,"div",39),l.Vb(17,"a",40),l.Vb(18,"button",41),l.Qb(19,"i",42),l.Ic(20),l.ic(21,"translate"),l.Ub(),l.Ub(),l.Gc(22,$c,3,0,"button",43),l.Gc(23,Zc,4,0,"button",43),l.Gc(24,Xc,3,0,"button",43),l.Ub(),l.Ub(),l.Qb(25,"span",44),l.Vb(26,"div",45),l.Vb(27,"div",36),l.Vb(28,"label",8),l.Ic(29,"LABEL_MERCHANDISE"),l.Ub(),l.Ub(),l.Vb(30,"small"),l.Ic(31," ("),l.Gc(32,ts,2,2,"span",37),l.Gc(33,es,2,3,"span",37),l.Qb(34,"i",46),l.Ic(35,") "),l.Ub(),l.Vb(36,"div",39),l.Vb(37,"a",47),l.Vb(38,"button",41),l.Qb(39,"i",48),l.Ic(40," Spreadshirt (US)"),l.Ub(),l.Ub(),l.Vb(41,"a",49),l.Vb(42,"button",41),l.Qb(43,"i",48),l.Ic(44," Spreadshirt (DE)"),l.Ub(),l.Ub(),l.Vb(45,"a",50),l.Vb(46,"button",41),l.Qb(47,"i",51),l.Ic(48," StickerYou"),l.Ub(),l.Ub(),l.Vb(49,"a",52),l.Vb(50,"button",41),l.Qb(51,"i",53),l.Ic(52," Leanpub"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.hc();l.nc("expanded",n.paymentPanelExpanded),l.Db(3),l.Kc(" ",l.jc(4,10,"OTHER_PAYMENT_OPTIONS")," "),l.Db(9),l.nc("ngIf","OWASP Juice Shop"===n.applicationName),l.Db(1),l.nc("ngIf","OWASP Juice Shop"!==n.applicationName),l.Db(7),l.Kc(" ",l.jc(21,12,"BTN_CREDIT_CARD"),""),l.Db(2),l.nc("ngIf",!1),l.Db(1),l.nc("ngIf",!1),l.Db(1),l.nc("ngIf",!1),l.Db(8),l.nc("ngIf","OWASP Juice Shop"===n.applicationName),l.Db(1),l.nc("ngIf","OWASP Juice Shop"!==n.applicationName)}}function as(t,e){1&t&&(l.Vb(0,"span",8),l.Ic(1,"REVIEW_ALERT"),l.Ub())}function is(t,e){1&t&&(l.Vb(0,"span",8),l.Ic(1,"REVIEW_WALLET"),l.Ub())}g.b.add(I.d,I.o,I.s,v.g,I.S,I.Y,I.L,I.q,I.g,I.T,v.j),g.a.watch();var os,rs,cs,ss=((cs=function(){function t(e,n,a,o,r,c,s,l,u,b,d,f,p){i(this,t),this.location=e,this.cookieService=n,this.userService=a,this.deliveryService=o,this.walletService=r,this.router=c,this.dialog=s,this.configurationService=l,this.basketService=u,this.translate=b,this.activatedRoute=d,this.ngZone=f,this.snackBarHelperService=p,this.card={},this.twitterUrl=null,this.facebookUrl=null,this.applicationName="OWASP Juice Shop",this.couponControl=new m.e("",[m.z.required,m.z.minLength(10),m.z.maxLength(10)]),this.paymentId=void 0,this.couponPanelExpanded=!1,this.paymentPanelExpanded=!1,this.walletBalance=0,this.totalPrice=0,this.paymentMode="card",this.campaigns={WMNSDY2019:{validOn:15519996e5,discount:75},WMNSDY2020:{validOn:1583622e6,discount:60},WMNSDY2021:{validOn:1615158e6,discount:60},WMNSDY2022:{validOn:1646694e6,discount:60},WMNSDY2023:{validOn:167823e7,discount:60},ORANGE2020:{validOn:15885468e5,discount:50},ORANGE2021:{validOn:16200828e5,discount:40},ORANGE2022:{validOn:16516188e5,discount:40},ORANGE2023:{validOn:16831548e5,discount:40}}}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.initTotal(),this.walletService.get().subscribe(function(e){t.walletBalance=e,t.walletBalanceStr=parseFloat(e).toFixed(2)},function(t){return console.log(t)}),this.couponPanelExpanded=!!localStorage.getItem("couponPanelExpanded")&&JSON.parse(localStorage.getItem("couponPanelExpanded")),this.paymentPanelExpanded=!!localStorage.getItem("paymentPanelExpanded")&&JSON.parse(localStorage.getItem("paymentPanelExpanded")),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.social)&&(e.application.social.twitterUrl&&(t.twitterUrl=e.application.social.twitterUrl),e.application.social.facebookUrl&&(t.facebookUrl=e.application.social.facebookUrl),e.application.name&&(t.applicationName=e.application.name))},function(t){return console.log(t)})}},{key:"initTotal",value:function(){var t=this;this.activatedRoute.paramMap.subscribe(function(e){if(t.mode=e.get("entity"),"wallet"===t.mode)t.totalPrice=parseFloat(sessionStorage.getItem("walletTotal"));else if("deluxe"===t.mode)t.userService.deluxeStatus().subscribe(function(e){t.totalPrice=e.membershipCost},function(t){return console.log(t)});else{var n=parseFloat(sessionStorage.getItem("itemTotal")),a=sessionStorage.getItem("couponDiscount")?parseFloat(sessionStorage.getItem("couponDiscount"))/100*n:0;t.deliveryService.getById(sessionStorage.getItem("deliveryMethodId")).subscribe(function(e){t.totalPrice=n+e.price-a})}},function(t){return console.log(t)})}},{key:"applyCoupon",value:function(){var t=this;this.campaignCoupon=this.couponControl.value,this.clientDate=new Date;var e=60*(this.clientDate.getTimezoneOffset()+60)*1e3;this.clientDate.setHours(0,0,0,0),this.clientDate=this.clientDate.getTime()-e,sessionStorage.setItem("couponDetails","".concat(this.campaignCoupon,"-").concat(this.clientDate));var n=this.campaigns[this.couponControl.value];n?this.clientDate===n.validOn?this.showConfirmation(n.discount):(this.couponConfirmation=void 0,this.translate.get("INVALID_COUPON").subscribe(function(e){t.couponError={error:e}},function(e){t.couponError={error:e}}),this.resetCouponForm()):this.basketService.applyCoupon(Number(sessionStorage.getItem("bid")),encodeURIComponent(this.couponControl.value)).subscribe(function(e){t.showConfirmation(e)},function(e){t.couponConfirmation=void 0,t.couponError=e,t.resetCouponForm()})}},{key:"showConfirmation",value:function(t){var e=this;this.resetCouponForm(),this.couponError=void 0,sessionStorage.setItem("couponDiscount",t),this.translate.get("DISCOUNT_APPLIED",{discount:t}).subscribe(function(t){e.couponConfirmation=t},function(t){e.couponConfirmation=t}),this.initTotal()}},{key:"getMessage",value:function(t){this.paymentId=t,this.paymentMode="card"}},{key:"routeToPreviousUrl",value:function(){this.location.back()}},{key:"choosePayment",value:function(){var t=this,e=this;if(sessionStorage.removeItem("itemTotal"),"wallet"===this.mode)this.walletService.put({balance:this.totalPrice,paymentId:this.paymentId}).subscribe(function(){sessionStorage.removeItem("walletTotal"),t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/wallet"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))),t.snackBarHelperService.open("CHARGED_WALLET","confirmBar")},function(e){var n;console.log(e),t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.message,"errorBar")});else if("deluxe"===this.mode)this.userService.upgradeToDeluxe(this.paymentMode,this.paymentId).subscribe(function(n){localStorage.setItem("token",n.token),t.cookieService.put("token",n.token),t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/deluxe-membership"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))},function(t){return console.log(t)});else{if("wallet"===this.paymentMode){if(this.walletBalance<this.totalPrice)return void this.snackBarHelperService.open("INSUFFICIENT_WALLET_BALANCE","errorBar");sessionStorage.setItem("paymentId","wallet")}else sessionStorage.setItem("paymentId",this.paymentId);this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/order-summary"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}}},{key:"noop",value:function(){}},{key:"showBitcoinQrCode",value:function(){this.dialog.open(pc,{data:{data:"bitcoin:1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm",url:"./redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm",address:"1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm",title:"TITLE_BITCOIN_ADDRESS"}})}},{key:"showDashQrCode",value:function(){this.dialog.open(pc,{data:{data:"dash:Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW",url:"./redirect?to=https://explorer.dash.org/address/Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW",address:"Xr556RzuwX6hg5EGpkybbv5RanJoZN17kW",title:"TITLE_DASH_ADDRESS"}})}},{key:"showEtherQrCode",value:function(){this.dialog.open(pc,{data:{data:"0x0f933ab9fCAAA782D0279C300D73750e1311EAE6",url:"./redirect?to=https://etherscan.io/address/0x0f933ab9fcaaa782d0279c300d73750e1311eae6",address:"0x0f933ab9fCAAA782D0279C300D73750e1311EAE6",title:"TITLE_ETHER_ADDRESS"}})}},{key:"useWallet",value:function(){this.paymentMode="wallet",this.choosePayment()}},{key:"resetCouponForm",value:function(){this.couponControl.setValue(""),this.couponControl.markAsPristine(),this.couponControl.markAsUntouched()}}]),t}()).\u0275fac=function(t){return new(t||cs)(l.Pb(Y.g),l.Pb(d.b),l.Pb(R),l.Pb(gc),l.Pb(hc),l.Pb(N.b),l.Pb(nn.b),l.Pb(h),l.Pb(G),l.Pb(U.e),l.Pb(N.a),l.Pb(l.B),l.Pb(K))},cs.\u0275cmp=l.Jb({type:cs,selectors:[["app-payment"]],decls:24,vars:10,consts:[[1,"mat-own-card","mat-elevation-z6"],[3,"allowDelete","emitSelection"],["class","mat-elevation-z0","class","custom-card",4,"ngIf"],["class","mat-elevation-z0","id","collapseCouponElement",3,"expanded",4,"ngIf"],["class","mat-elevation-z0",3,"expanded",4,"ngIf"],[2,"margin-top","20px","margin-bottom","20px"],["mat-stroked-button","",1,"btn","btn-return",3,"click"],["mat-raised-button","","mat-button","","color","primary","aria-label","Proceed to review",1,"btn","nextButton",3,"disabled","click"],["translate",""],[2,"text-align","center","margin-top","-27px"],["translate","",4,"ngIf"],[1,"custom-card"],["fxLayout","row"],["fxFlex","42%"],["translate","",1,"card-title"],["fxFlex","38%"],[1,"confirmation","card-title"],["fxFlex","20%"],["type","submit","color","primary","mat-raised-button","",1,"btn",2,"float","right",3,"disabled","click"],[1,"fas","fa-hand-holding-usd","fa-lg"],["id","collapseCouponElement",1,"mat-elevation-z0",3,"expanded"],[1,"detail-divider"],["style","margin-top:5px;","class","confirmation",4,"ngIf"],["style","margin-top:5px;","class","error",4,"ngIf"],["appearance","outline","color","accent"],[3,"innerHtml"],["id","coupon","matInput","","type","text",3,"formControl","placeholder"],["coupon",""],["align","end"],[4,"ngIf"],["type","submit","id","applyCouponButton","color","accent","mat-raised-button","",2,"margin-top","5px","float","right",3,"disabled","click"],[1,"confirmation",2,"margin-top","5px"],[1,"error",2,"margin-top","5px"],[1,"mat-elevation-z0",3,"expanded"],["fxLayout","row","fxLayout.lt-lg","column"],["fxFlex","34%","fxFlex.lt-lg","100%",1,"mat-elevation-z0"],[1,"payment-label"],["translate","",3,"translateParams",4,"ngIf"],[1,"fas","fa-heart","error",2,"margin-left","3px"],[1,"button-container",2,"margin-top","6px"],["href","https://pwning.owasp-juice.shop/part3/donations.html"],["mat-stroked-button",""],[1,"fab","fa-stripe","fa-lg"],["mat-stroked-button","",3,"click",4,"ngIf"],[1,"fill-remaining-space"],["fxFlex","65%","fxFlex.lt-lg","100%",1,"mat-elevation-z0"],[1,"fas","fa-thumbs-up","confirmation",2,"margin-left","3px"],["href","./redirect?to=http://shop.spreadshirt.com/juiceshop"],[1,"fas","fa-tshirt","fa-lg"],["href","./redirect?to=http://shop.spreadshirt.de/juiceshop"],["href","./redirect?to=https://www.stickeryou.com/products/owasp-juice-shop/794"],[1,"fas","fa-sticky-note","fa-lg"],["href","./redirect?to=http://leanpub.com/juice-shop"],[1,"fab","fa-leanpub","fa-lg"],["translate","",3,"translateParams"],["mat-stroked-button","",3,"click"],[1,"fab","fa-btc","fa-lg"],[1,"fa-lg"],[1,"fab","fa-ethereum","fa-lg"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"div"),l.Vb(2,"app-payment-method",1),l.dc("emitSelection",function(t){return e.getMessage(t)}),l.Ub(),l.Qb(3,"mat-divider"),l.Gc(4,Fc,16,6,"div",2),l.Qb(5,"mat-divider"),l.Gc(6,Wc,26,26,"mat-expansion-panel",3),l.Qb(7,"mat-divider"),l.Gc(8,ns,53,14,"mat-expansion-panel",4),l.Qb(9,"mat-divider"),l.Vb(10,"div",5),l.Vb(11,"button",6),l.dc("click",function(){return e.routeToPreviousUrl()}),l.Vb(12,"mat-icon"),l.Ic(13," navigate_before "),l.Ub(),l.Ic(14),l.ic(15,"translate"),l.Ub(),l.Vb(16,"button",7),l.dc("click",function(){return e.choosePayment()}),l.Vb(17,"mat-icon"),l.Ic(18," navigate_next "),l.Ub(),l.Vb(19,"span",8),l.Ic(20,"LABEL_CONTINUE"),l.Ub(),l.Ub(),l.Vb(21,"p",9),l.Gc(22,as,2,0,"span",10),l.Gc(23,is,2,0,"span",10),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(2),l.nc("allowDelete",!1),l.Db(2),l.nc("ngIf","wallet"!==e.mode),l.Db(2),l.nc("ngIf","wallet"!==e.mode),l.Db(2),l.nc("ngIf","wallet"!==e.mode),l.Db(6),l.Kc(" ",l.jc(15,8,"LABEL_BACK")," "),l.Db(2),l.nc("disabled",void 0===e.paymentId&&"wallet"!==e.paymentMode),l.Db(6),l.nc("ngIf","deluxe"!==e.mode&&"wallet"!==e.mode),l.Db(1),l.nc("ngIf","wallet"===e.mode))},directives:[y.a,Gc,sn.a,Y.l,S.a,Fe.a,U.a,w.d,w.b,ln.b,ln.d,ln.e,ln.c,ee.c,ee.g,ee.f,ne.b,m.d,m.p,m.f,ee.b],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.btn-return[_ngcontent-%COMP%]{display:block;margin-left:0;margin-right:auto}.nextButton[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;margin-top:-37px}mat-card[_ngcontent-%COMP%]{height:auto}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-basis:0}.mat-raised-button[_ngcontent-%COMP%]{margin-right:3px}.custom-card[_ngcontent-%COMP%]{padding:18px 24px}.card-title[_ngcontent-%COMP%]{font-size:15px;line-height:36px;vertical-align:middle}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.detail-divider[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px}.mat-card[_ngcontent-%COMP%]   .mat-divider-horizontal[_ngcontent-%COMP%]{position:relative!important}"]}),cs),ls=((rs=function t(){i(this,t)}).\u0275fac=function(t){return new(t||rs)},rs.\u0275cmp=l.Jb({type:rs,selectors:[["app-saved-payment-methods"]],decls:2,vars:1,consts:[[1,"mat-own-card","mat-elevation-z6"],[3,"allowDelete"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Qb(1,"app-payment-method",1),l.Ub()),2&t&&(l.Db(1),l.nc("allowDelete",!0))},directives:[y.a,Gc],styles:[".mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}"]}),rs),us=((os=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/order-history"}return r(t,[{key:"get",value:function(){return this.http.get(this.host).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"getAll",value:function(){return this.http.get(this.host+"/orders").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"toggleDeliveryStatus",value:function(t,e){return this.http.put("".concat(this.host,"/").concat(t,"/delivery-status"),e).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||os)(l.Zb(b.b))},os.\u0275prov=l.Lb({token:os,factory:os.\u0275fac,providedIn:"root"}),os),bs=["paginatorOrderHistory"],ds=["paginator"];function ms(t,e){1&t&&l.Qb(0,"mat-header-cell",32)}function fs(t,e){if(1&t&&(l.Vb(0,"mat-cell",33),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.orderId,"")}}function ps(t,e){1&t&&l.Qb(0,"mat-header-cell",34)}function hs(t,e){if(1&t&&(l.Vb(0,"mat-cell",35),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",null==n.totalPrice?null:n.totalPrice.toFixed(2),"\xa4")}}function gs(t,e){1&t&&l.Qb(0,"mat-header-cell",36)}function vs(t,e){1&t&&(l.Vb(0,"div",40),l.Ic(1,"LABEL_IN_TRANSIT"),l.Ub())}function Is(t,e){1&t&&(l.Vb(0,"div",41),l.Ic(1,"LABEL_DELIVERED"),l.Ub())}function Cs(t,e){if(1&t&&(l.Vb(0,"mat-cell",37),l.Gc(1,vs,2,0,"div",38),l.Gc(2,Is,2,0,"div",39),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("ngIf",!n.delivered),l.Db(1),l.nc("ngIf",n.delivered)}}function ys(t,e){1&t&&l.Qb(0,"mat-header-cell",35)}function ws(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",43),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc().changeDeliveryStatus(t.delivered,t.id)}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," cached "),l.Ub(),l.Ub()}2&t&&l.oc("matTooltip",l.jc(1,1,"LABEL_MARK_AS_TRANSIT"))}function Us(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",43),l.dc("click",function(){l.yc(n);var t=l.hc().$implicit;return l.hc().changeDeliveryStatus(t.delivered,t.id)}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," check_circle "),l.Ub(),l.Ub()}2&t&&l.oc("matTooltip",l.jc(1,1,"LABEL_MARK_AS_DELIVERED"))}function Ss(t,e){if(1&t&&(l.Vb(0,"mat-cell",35),l.Gc(1,ws,4,3,"button",42),l.Gc(2,Us,4,3,"button",42),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("ngIf",n.delivered),l.Db(1),l.nc("ngIf",!n.delivered)}}function ks(t,e){1&t&&l.Qb(0,"mat-header-row")}function Ds(t,e){1&t&&l.Qb(0,"mat-row")}function Vs(t,e){1&t&&l.Qb(0,"mat-header-cell",44)}function xs(t,e){if(1&t&&(l.Vb(0,"mat-cell",45),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc(" ",n.name,"")}}function Os(t,e){1&t&&l.Qb(0,"mat-header-cell",46)}function _s(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",47),l.Vb(1,"mat-form-field",48),l.Qb(2,"input",49,50),l.Vb(4,"button",51),l.dc("click",function(){l.yc(n);var t=e.$implicit,a=l.vc(3);return l.hc().modifyPrice(t.id,a.value)}),l.Qb(5,"i",52),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit;l.Db(2),l.oc("value",a.price)}}function Ps(t,e){1&t&&l.Qb(0,"mat-header-cell",53)}function Ts(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",47),l.Vb(1,"mat-form-field",48),l.Qb(2,"input",49,54),l.Vb(4,"button",51),l.dc("click",function(){l.yc(n);var t=e.$implicit,a=l.vc(3),i=l.hc();return i.modifyQuantity(i.quantityMap[t.id].id,a.value)}),l.Qb(5,"i",52),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc();l.Db(2),l.oc("value",i.quantityMap[a.id].quantity)}}function As(t,e){1&t&&l.Qb(0,"mat-header-row")}function Ls(t,e){1&t&&l.Qb(0,"mat-row")}g.b.add(I.f),g.a.watch();var Es,Ms=((Es=function(){function e(t,n,a,o){i(this,e),this.productService=t,this.quantityService=n,this.orderHistoryService=a,this.snackBarHelperService=o,this.orderHistoryColumns=["OrderId","Price","Status","StatusButton"],this.displayedColumns=["Product","Price","Quantity"]}return r(e,[{key:"ngAfterViewInit",value:function(){this.loadQuantity(),this.loadProducts(),this.loadOrders()}},{key:"loadQuantity",value:function(){var t=this;this.quantitySubscription=this.quantityService.getAll().subscribe(function(e){t.quantityMap={},e.map(function(e){t.quantityMap[e.ProductId]={id:e.id,quantity:e.quantity}})},function(t){return console.log(t)})}},{key:"loadProducts",value:function(){var t=this;this.productSubscription=this.productService.search("").subscribe(function(e){t.tableData=e,t.dataSource=new q.o(t.tableData),t.dataSource.paginator=t.paginator},function(t){return console.log(t)})}},{key:"loadOrders",value:function(){var e=this;this.orderHistoryService.getAll().subscribe(function(n){e.orderData=[];var a,i=t(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.orderData.push({id:o._id,orderId:o.orderId,totalPrice:o.totalPrice,delivered:o.delivered})}}catch(r){i.e(r)}finally{i.f()}e.orderSource=new q.o(e.orderData),e.orderSource.paginator=e.paginatorOrderHistory},function(t){return console.log(t)})}},{key:"ngOnDestroy",value:function(){this.productSubscription&&this.productSubscription.unsubscribe(),this.quantitySubscription&&this.quantitySubscription.unsubscribe()}},{key:"modifyQuantity",value:function(t,e){var n=this;this.quantityService.put(t,{quantity:e<0?0:e}).subscribe(function(t){var e=n.tableData.find(function(e){return e.id===t.ProductId});n.snackBarHelperService.open("Quantity for ".concat(e.name," has been updated."),"confirmBar"),n.loadQuantity()},function(t){n.snackBarHelperService.open(t.error,"errorBar"),console.log(t)})}},{key:"modifyPrice",value:function(t,e){var n=this;this.productService.put(t,{price:e<0?0:e}).subscribe(function(t){n.snackBarHelperService.open("Price for ".concat(t.name," has been updated."),"confirmBar"),n.loadProducts()},function(t){n.snackBarHelperService.open(t.error,"errorBar"),console.log(t)})}},{key:"changeDeliveryStatus",value:function(t,e){var n=this;this.orderHistoryService.toggleDeliveryStatus(e,{deliveryStatus:t}).subscribe(function(){n.loadOrders()},function(t){n.snackBarHelperService.open(t,"errorBar"),console.log(t)})}}]),e}()).\u0275fac=function(t){return new(t||Es)(l.Pb(Cn),l.Pb(kn),l.Pb(us),l.Pb(K))},Es.\u0275cmp=l.Jb({type:Es,selectors:[["app-accounting"]],viewQuery:function(t,e){var n;1&t&&(l.Nc(bs,3),l.Nc(ds,3)),2&t&&(l.uc(n=l.ec())&&(e.paginatorOrderHistory=n.first),l.uc(n=l.ec())&&(e.paginator=n.first))},decls:45,vars:8,consts:[[1,"mat-elevation-z6","mat-own-card"],["translate",""],["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap","20px",1,"container"],["fxFlexAlign","center",1,"orders-container"],[1,"orders-table"],[1,"heading"],[3,"dataSource"],["matColumnDef","OrderId"],["translate","LABEL_ORDER_ID","fxFlex","50%",4,"matHeaderCellDef"],["fxFlex","50%",4,"matCellDef"],["matColumnDef","Price"],["translate","LABEL_PRICE","fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],["matColumnDef","Status"],["translate","LABEL_STATUS","fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","StatusButton"],["fxFlex","15%",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["color","accent",1,"mat-elevation-z0",3,"pageSize"],["paginatorOrderHistory",""],["fxFlexAlign.lt-md","center",1,"inventory-container"],[1,"inventory-table"],["matColumnDef","Product"],["translate","LABEL_PRODUCT","fxFlex","50%","fxFlex.lt-md","50%",4,"matHeaderCellDef"],["fxFlex","50%","fxFlex.lt-md","50%",4,"matCellDef"],["translate","LABEL_PRICE","fxFlex","25%","fxFlex.lt-md","25%",4,"matHeaderCellDef"],["fxFlex","25%","fxFlex.lt-md","25%",4,"matCellDef"],["matColumnDef","Quantity"],["translate","LABEL_QUANTITY","fxFlex","25%","fxFlex.lt-md","25%",4,"matHeaderCellDef"],["paginator",""],["translate","LABEL_ORDER_ID","fxFlex","50%"],["fxFlex","50%"],["translate","LABEL_PRICE","fxFlex","15%"],["fxFlex","15%"],["translate","LABEL_STATUS","fxFlex","20%"],["fxFlex","20%"],["class","error","translate","",4,"ngIf"],["class","confirmation","translate","",4,"ngIf"],["translate","",1,"error"],["translate","",1,"confirmation"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click"],["translate","LABEL_PRODUCT","fxFlex","50%","fxFlex.lt-md","50%"],["fxFlex","50%","fxFlex.lt-md","50%"],["translate","LABEL_PRICE","fxFlex","25%","fxFlex.lt-md","25%"],["fxFlex","25%","fxFlex.lt-md","25%"],[1,"input-field"],["matInput","","type","number",3,"value"],["price",""],["mat-icon-button","","matSuffix","",3,"click"],[1,"fas","fa-check"],["translate","LABEL_QUANTITY","fxFlex","25%","fxFlex.lt-md","25%"],["quanitity",""]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"h1",1),l.Ic(2,"ACCOUNTING"),l.Ub(),l.Vb(3,"div",2),l.Vb(4,"div",3),l.Vb(5,"div",4),l.Vb(6,"div",5),l.Vb(7,"span",1),l.Ic(8,"TITLE_TRACK_ORDERS"),l.Ub(),l.Ub(),l.Vb(9,"mat-table",6),l.Tb(10,7),l.Gc(11,ms,1,0,"mat-header-cell",8),l.Gc(12,fs,2,1,"mat-cell",9),l.Sb(),l.Tb(13,10),l.Gc(14,ps,1,0,"mat-header-cell",11),l.Gc(15,hs,2,1,"mat-cell",12),l.Sb(),l.Tb(16,13),l.Gc(17,gs,1,0,"mat-header-cell",14),l.Gc(18,Cs,3,2,"mat-cell",15),l.Sb(),l.Tb(19,16),l.Gc(20,ys,1,0,"mat-header-cell",17),l.Gc(21,Ss,3,2,"mat-cell",12),l.Sb(),l.Gc(22,ks,1,0,"mat-header-row",18),l.Gc(23,Ds,1,0,"mat-row",19),l.Ub(),l.Qb(24,"mat-paginator",20,21),l.Ub(),l.Ub(),l.Vb(26,"div",22),l.Vb(27,"div",23),l.Vb(28,"div",5),l.Vb(29,"span",1),l.Ic(30,"TITLE_ALL_PRODUCTS"),l.Ub(),l.Ub(),l.Vb(31,"mat-table",6),l.Tb(32,24),l.Gc(33,Vs,1,0,"mat-header-cell",25),l.Gc(34,xs,2,1,"mat-cell",26),l.Sb(),l.Tb(35,10),l.Gc(36,Os,1,0,"mat-header-cell",27),l.Gc(37,_s,6,1,"mat-cell",28),l.Sb(),l.Tb(38,29),l.Gc(39,Ps,1,0,"mat-header-cell",30),l.Gc(40,Ts,6,1,"mat-cell",28),l.Sb(),l.Gc(41,As,1,0,"mat-header-row",18),l.Gc(42,Ls,1,0,"mat-row",19),l.Ub(),l.Qb(43,"mat-paginator",20,31),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(9),l.nc("dataSource",e.orderSource),l.Db(13),l.nc("matHeaderRowDef",e.orderHistoryColumns),l.Db(1),l.nc("matRowDefColumns",e.orderHistoryColumns),l.Db(1),l.nc("pageSize",10),l.Db(7),l.nc("dataSource",e.dataSource),l.Db(10),l.nc("matHeaderRowDef",e.displayedColumns),l.Db(1),l.nc("matRowDefColumns",e.displayedColumns),l.Db(1),l.nc("pageSize",10))},directives:[y.a,U.a,w.d,w.e,w.a,q.n,q.c,q.i,q.b,q.k,q.m,yn.a,q.h,w.b,q.a,Y.l,S.a,je.a,Fe.a,q.j,q.l,ee.c,ne.b,ee.h],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.13);font-size:large;margin-bottom:10px;padding:12px}.container[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{justify-content:center}mat-table[_ngcontent-%COMP%]{height:767px}mat-header-row[_ngcontent-%COMP%]{min-height:0!important}.inventory-container[_ngcontent-%COMP%], .orders-container[_ngcontent-%COMP%]{max-width:600px;min-width:300px;width:70%}.inventory-table[_ngcontent-%COMP%], .orders-table[_ngcontent-%COMP%]{margin-bottom:25px}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{align-items:normal;display:block}mat-cell[_ngcontent-%COMP%]:last-child, mat-footer-cell[_ngcontent-%COMP%]:last-child, mat-header-cell[_ngcontent-%COMP%]:last-child{padding-right:50px}mat-row[_ngcontent-%COMP%]{height:69px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-bottom:20px;margin-left:10%;margin-right:10%}.product[_ngcontent-%COMP%]{cursor:pointer}.input-field[_ngcontent-%COMP%]{width:80px}"]}),Es),Rs=function(t){return{numberdays:t}};function Ns(t,e){if(1&t&&(l.Vb(0,"span"),l.Vb(1,"div",30),l.Ic(2,"ESTIMATED_TIME_OF_DELIVERY"),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.Db(1),l.nc("translateParams",l.sc(1,Rs,n.orderDetails.eta))}}function Bs(t,e){if(1&t&&(l.Vb(0,"div"),l.Gc(1,Ns,3,3,"span",7),l.Vb(2,"div"),l.Vb(3,"b",4),l.Ic(4,"LABEL_DELIVERY_ADDRESS"),l.Ub(),l.Ub(),l.Vb(5,"div"),l.Ic(6),l.Ub(),l.Vb(7,"div"),l.Ic(8),l.Ub(),l.Vb(9,"div"),l.Ic(10),l.Ub(),l.Vb(11,"div"),l.Vb(12,"span",4),l.Ic(13,"PHONE_NUMBER"),l.Ub(),l.Ic(14),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("ngIf","?"!==n.orderDetails.eta&&void 0!==n.orderDetails.eta),l.Db(5),l.Jc(null==n.address?null:n.address.fullName),l.Db(2),l.Mc("",null==n.address?null:n.address.streetAddress,", ",null==n.address?null:n.address.city,", ",null==n.address?null:n.address.state,", ",null==n.address?null:n.address.zipCode,""),l.Db(2),l.Jc(null==n.address?null:n.address.country),l.Db(4),l.Kc(" ",null==n.address?null:n.address.mobileNum,"")}}function Gs(t,e){1&t&&(l.Vb(0,"mat-header-cell",4),l.Ic(1,"LABEL_PRODUCT"),l.Ub())}function Fs(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.name," ")}}function js(t,e){1&t&&l.Qb(0,"mat-footer-cell")}function Hs(t,e){1&t&&(l.Vb(0,"mat-header-cell",4),l.Ic(1,"LABEL_PRICE"),l.Ub())}function Qs(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.price,"\xa4")}}function zs(t,e){1&t&&l.Qb(0,"mat-footer-cell")}function Ws(t,e){1&t&&(l.Vb(0,"mat-header-cell",4),l.Ic(1,"LABEL_QUANTITY"),l.Ub())}function Ks(t,e){if(1&t&&(l.Vb(0,"mat-cell"),l.Vb(1,"span"),l.Ic(2),l.Ub(),l.Ub()),2&t){var n=e.$implicit;l.Db(2),l.Jc(n.quantity)}}function qs(t,e){1&t&&(l.Vb(0,"mat-footer-cell"),l.Vb(1,"table",31),l.Vb(2,"tr",32),l.Vb(3,"td",4),l.Ic(4,"ITEMS"),l.Ub(),l.Ub(),l.Vb(5,"tr",32),l.Vb(6,"td",4),l.Ic(7,"DELIVERY"),l.Ub(),l.Ub(),l.Vb(8,"tr",32),l.Vb(9,"td",4),l.Ic(10,"PROMOTION"),l.Ub(),l.Ub(),l.Vb(11,"tr",33),l.Vb(12,"td",4),l.Ic(13,"LABEL_TOTAL_PRICE"),l.Ub(),l.Ub(),l.Ub(),l.Ub())}function Ys(t,e){1&t&&(l.Vb(0,"mat-header-cell",4),l.Ic(1,"LABEL_TOTAL_PRICE"),l.Ub())}function Js(t,e){if(1&t&&(l.Vb(0,"mat-cell",34),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.total.toFixed(2),"\xa4")}}function $s(t,e){if(1&t&&(l.Vb(0,"mat-footer-cell"),l.Vb(1,"table",34),l.Vb(2,"tr",32),l.Vb(3,"td"),l.Ic(4),l.Ub(),l.Ub(),l.Vb(5,"tr",32),l.Vb(6,"td"),l.Ic(7),l.Ub(),l.Ub(),l.Vb(8,"tr",32),l.Vb(9,"td"),l.Ic(10),l.Ub(),l.Ub(),l.Vb(11,"tr",33),l.Vb(12,"td"),l.Ic(13),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(4),l.Kc("",null==n.orderDetails.itemTotal?null:n.orderDetails.itemTotal.toFixed(2),"\xa4"),l.Db(3),l.Kc("",n.deliveryPrice.toFixed(2),"\xa4"),l.Db(3),l.Kc("",n.promotionalDiscount.toFixed(2),"\xa4"),l.Db(3),l.Kc("",null==n.orderDetails.totalPrice?null:n.orderDetails.totalPrice.toFixed(2),"\xa4")}}function Zs(t,e){1&t&&l.Qb(0,"mat-header-row")}function Xs(t,e){1&t&&l.Qb(0,"mat-row")}function tl(t,e){1&t&&l.Qb(0,"mat-footer-row",35)}var el=function(t){return{id:t}},nl=function(t){return{bonus:t}};g.b.add(v.k),g.a.watch();var al,il=((al=function(){function e(t,n,a,o,r){i(this,e),this.configurationService=t,this.addressService=n,this.trackOrderService=a,this.activatedRoute=o,this.basketService=r,this.tableColumns=["product","price","quantity","total price"],this.orderDetails={totalPrice:0},this.deliveryPrice=0,this.promotionalDiscount=0,this.tweetText="I just purchased",this.truncateTweet=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:140;if(!t)return null;var n=t.length>e;return"".concat(t.substring(0,e)).concat(n?"...":"")}}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.paramMap.subscribe(function(n){e.orderId=n.get("id"),e.trackOrderService.find(e.orderId).subscribe(function(n){e.promotionalDiscount=n.data[0].promotionalAmount?parseFloat(n.data[0].promotionalAmount):0,e.deliveryPrice=n.data[0].deliveryPrice?parseFloat(n.data[0].deliveryPrice):0,e.orderDetails.addressId=n.data[0].addressId,e.orderDetails.paymentId=n.data[0].paymentId,e.orderDetails.totalPrice=n.data[0].totalPrice,e.orderDetails.itemTotal=n.data[0].totalPrice+e.promotionalDiscount-e.deliveryPrice,e.orderDetails.eta=n.data[0].eta||"?",e.orderDetails.products=n.data[0].products,e.orderDetails.bonus=n.data[0].bonus,e.dataSource=new q.o(e.orderDetails.products);var a,i=t(e.orderDetails.products);try{for(i.s();!(a=i.n()).done;){var o=a.value;e.tweetText+="%0a- ".concat(o.name)}}catch(r){i.e(r)}finally{i.f()}e.tweetText=e.truncateTweet(e.tweetText),e.configurationService.getApplicationConfiguration().subscribe(function(t){var n;(null===(n=null==t?void 0:t.application)||void 0===n?void 0:n.social)&&(e.tweetText+="%0afrom ",e.tweetText+=t.application.social.twitterUrl?t.application.social.twitterUrl.replace("https://twitter.com/","@"):t.application.name)},function(t){return console.log(t)}),e.addressService.getById(e.orderDetails.addressId).subscribe(function(t){e.address=t},function(t){return console.log(t)})},function(t){return console.log(t)})},function(t){return console.log(t)})}},{key:"openConfirmationPDF",value:function(){window.open("".concat(this.basketService.hostServer,"/ftp/order_").concat(this.orderId,".pdf"),"_blank")}}]),e}()).\u0275fac=function(t){return new(t||al)(l.Pb(h),l.Pb(di),l.Pb(Dt),l.Pb(N.a),l.Pb(G))},al.\u0275cmp=l.Jb({type:al,selectors:[["app-order-completion"]],decls:51,vars:18,consts:[[1,"mat-elevation-z6","mat-own-card"],["fxLayout","row","fxLayout.lt-md","column"],["fxFlex","60%",1,"mat-elevation-z0"],["translate","",1,"confirmation"],["translate",""],["routerLink","/track-result/new","translate","",3,"queryParams"],["fxFlex","40%",1,"mat-elevation-z0"],[4,"ngIf"],[1,"mat-elevation-z0","table-container"],[1,"heading"],[1,"heading-text"],["fxFlex",""],[3,"href"],["mat-icon-button","","aria-label","Tweet"],[1,"fab","fa-twitter","fa-lg"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click"],[3,"dataSource"],["matColumnDef","product"],["translate","",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matFooterCellDef"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total price"],["class","price-align",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"mat-elevation-z0"],["translate","",3,"translateParams"],["translate","",1,"confirmation",3,"translateParams"],[1,"mat-table"],[1,"mat-row"],[1,"mat-row",2,"font-weight","bold"],[1,"price-align"],["mat-footer-row",""]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"div"),l.Vb(2,"div",1),l.Vb(3,"mat-card",2),l.Vb(4,"div"),l.Vb(5,"h1",3),l.Ic(6,"THANKS_FOR_PURCHASE"),l.Ub(),l.Vb(7,"div",4),l.Ic(8,"PURCHASE_COMMENT_PREFIX "),l.Vb(9,"a",5),l.Ic(10,"TITLE_TRACK_ORDERS"),l.Ub(),l.Ic(11," PURCHASE_COMMENT_SUFFIX"),l.Ub(),l.Ub(),l.Ub(),l.Vb(12,"mat-card",6),l.Gc(13,Bs,15,8,"div",7),l.Ub(),l.Ub(),l.Ub(),l.Vb(14,"div",8),l.Vb(15,"div",9),l.Vb(16,"span",10),l.Ic(17),l.ic(18,"translate"),l.Ub(),l.Qb(19,"span",11),l.Vb(20,"a",12),l.Vb(21,"button",13),l.Qb(22,"i",14),l.Ub(),l.Ub(),l.Vb(23,"button",15),l.dc("click",function(){return e.openConfirmationPDF()}),l.ic(24,"translate"),l.Vb(25,"mat-icon"),l.Ic(26," note "),l.Ub(),l.Ub(),l.Ub(),l.Vb(27,"mat-table",16),l.Tb(28,17),l.Gc(29,Gs,2,0,"mat-header-cell",18),l.Gc(30,Fs,2,1,"mat-cell",19),l.Gc(31,js,1,0,"mat-footer-cell",20),l.Sb(),l.Tb(32,21),l.Gc(33,Hs,2,0,"mat-header-cell",18),l.Gc(34,Qs,2,1,"mat-cell",19),l.Gc(35,zs,1,0,"mat-footer-cell",20),l.Sb(),l.Tb(36,22),l.Gc(37,Ws,2,0,"mat-header-cell",18),l.Gc(38,Ks,3,1,"mat-cell",19),l.Gc(39,qs,14,0,"mat-footer-cell",20),l.Sb(),l.Tb(40,23),l.Gc(41,Ys,2,0,"mat-header-cell",18),l.Gc(42,Js,2,1,"mat-cell",24),l.Gc(43,$s,14,4,"mat-footer-cell",20),l.Sb(),l.Gc(44,Zs,1,0,"mat-header-row",25),l.Gc(45,Xs,1,0,"mat-row",26),l.Gc(46,tl,1,0,"mat-footer-row",27),l.Ub(),l.Ub(),l.Vb(47,"div"),l.Vb(48,"mat-card",28),l.Vb(49,"div",29),l.Ic(50,"BONUS_POINTS_COUNT"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(9),l.nc("queryParams",l.sc(14,el,e.orderId)),l.Db(4),l.nc("ngIf",e.address),l.Db(4),l.Jc(l.jc(18,10,"ORDER_SUMMARY")),l.Db(3),l.pc("href","https://twitter.com/intent/tweet?text=",e.tweetText,"&hashtags=security",l.Bc),l.Db(3),l.oc("matTooltip",l.jc(24,12,"PRINT_ORDER_CONFIRMATION")),l.Db(4),l.nc("dataSource",e.dataSource),l.Db(17),l.nc("matHeaderRowDef",e.tableColumns),l.Db(1),l.nc("matRowDefColumns",e.tableColumns),l.Db(1),l.nc("matFooterRowDef",e.tableColumns),l.Db(3),l.nc("translateParams",l.sc(16,nl,e.orderDetails.bonus)))},directives:[y.a,w.d,w.b,U.a,N.d,Y.l,S.a,je.a,Fe.a,q.n,q.c,q.i,q.b,q.e,q.k,q.m,q.g,q.h,q.a,q.d,q.j,q.l,q.f],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large}.heading-text[_ngcontent-%COMP%]{justify-content:center;padding:12px 20px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%], mat-header-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.price-align[_ngcontent-%COMP%]{text-align:right}.tweet-logo[_ngcontent-%COMP%]{height:24px}"]}),al);function ol(t,e){if(1&t&&(l.Vb(0,"mat-card",20),l.Vb(1,"div"),l.Vb(2,"div"),l.Vb(3,"b",14),l.Ic(4,"PAYMENT_METHOD"),l.Ub(),l.Ub(),l.Vb(5,"div"),l.Vb(6,"span",14),l.Ic(7,"CARD_ENDING_IN"),l.Ub(),l.Ic(8),l.Ub(),l.Vb(9,"div"),l.Vb(10,"span",14),l.Ic(11,"CARD_HOLDER"),l.Ub(),l.Ic(12),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.hc(2);l.Db(8),l.Kc(" ",null==n.paymentMethod?null:n.paymentMethod.cardNum,""),l.Db(4),l.Kc(" ",null==n.paymentMethod?null:n.paymentMethod.fullName,"")}}function rl(t,e){1&t&&(l.Vb(0,"mat-card",20),l.Vb(1,"div"),l.Vb(2,"div"),l.Vb(3,"b",14),l.Ic(4,"PAYMENT_METHOD"),l.Ub(),l.Ub(),l.Vb(5,"div"),l.Vb(6,"span",14),l.Ic(7,"DIGITAL_WALLET"),l.Ub(),l.Ub(),l.Ub(),l.Ub())}function cl(t,e){if(1&t&&(l.Vb(0,"div",16),l.Vb(1,"mat-card",17),l.Vb(2,"div"),l.Vb(3,"div"),l.Vb(4,"b",14),l.Ic(5,"LABEL_DELIVERY_ADDRESS"),l.Ub(),l.Ub(),l.Vb(6,"div"),l.Ic(7),l.Ub(),l.Vb(8,"div"),l.Ic(9),l.Ub(),l.Vb(10,"div"),l.Ic(11),l.Ub(),l.Vb(12,"div"),l.Vb(13,"span",14),l.Ic(14,"PHONE_NUMBER"),l.Ub(),l.Ic(15),l.Ub(),l.Ub(),l.Ub(),l.Gc(16,ol,13,2,"mat-card",18),l.Gc(17,rl,8,0,"ng-template",null,19,l.Hc),l.Ub()),2&t){var n=l.vc(18),a=l.hc();l.Db(7),l.Jc(null==a.address?null:a.address.fullName),l.Db(2),l.Mc("",null==a.address?null:a.address.streetAddress,", ",null==a.address?null:a.address.city,", ",null==a.address?null:a.address.state,", ",null==a.address?null:a.address.zipCode,""),l.Db(2),l.Jc(null==a.address?null:a.address.country),l.Db(4),l.Kc(" ",null==a.address?null:a.address.mobileNum,""),l.Db(1),l.nc("ngIf","wallet"!==a.paymentMethod)("ngIfElse",n)}}var sl,ll=function(t){return{bonus:t}},ul=((sl=function(){function t(e,n,a,o,r,c,s){i(this,t),this.router=e,this.addressService=n,this.paymentService=a,this.basketService=o,this.deliveryService=r,this.ngZone=c,this.snackBarHelperService=s,this.bonus=0,this.itemTotal=0,this.deliveryPrice=0,this.promotionalDiscount=0}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.deliveryService.getById(sessionStorage.getItem("deliveryMethodId")).subscribe(function(e){t.deliveryPrice=e.price}),this.addressService.getById(sessionStorage.getItem("addressId")).subscribe(function(e){t.address=e},function(t){return console.log(t)}),"wallet"!==sessionStorage.getItem("paymentId")?this.paymentService.getById(sessionStorage.getItem("paymentId")).subscribe(function(e){e.cardNum=String(e.cardNum).substring(String(e.cardNum).length-4),t.paymentMethod=e},function(t){return console.log(t)}):"wallet"===sessionStorage.getItem("paymentId")&&(this.paymentMethod="wallet")}},{key:"getMessage",value:function(t){this.itemTotal=t[0],this.promotionalDiscount=sessionStorage.getItem("couponDiscount")?parseFloat(sessionStorage.getItem("couponDiscount"))/100*this.itemTotal:0,this.bonus=t[1]}},{key:"placeOrder",value:function(){var t=this,e=this,n={paymentId:sessionStorage.getItem("paymentId"),addressId:sessionStorage.getItem("addressId"),deliveryMethodId:sessionStorage.getItem("deliveryMethodId")};this.basketService.checkout(Number(sessionStorage.getItem("bid")),btoa(sessionStorage.getItem("couponDetails")),n).subscribe(function(n){sessionStorage.removeItem("paymentId"),sessionStorage.removeItem("addressId"),sessionStorage.removeItem("deliveryMethodId"),sessionStorage.removeItem("couponDetails"),sessionStorage.removeItem("couponDiscount"),t.basketService.updateNumberOfCartItems(),t.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/order-completion",n]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))},function(e){var n;console.log(e),t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error.message,"errorBar")})}}]),t}()).\u0275fac=function(t){return new(t||sl)(l.Pb(N.b),l.Pb(di),l.Pb(vc),l.Pb(G),l.Pb(gc),l.Pb(l.B),l.Pb(K))},sl.\u0275cmp=l.Jb({type:sl,selectors:[["app-order-summary"]],decls:36,vars:10,consts:[["fxLayout","row","fxLayoutGap","10%","fxLayout.lt-md","column",1,"mat-elevation-z6","mat-own-card"],["fxLayout","column","fxLayoutGap","20px","fxFlex","70%"],["fxLayout","row","fxLayoutGap","10px","fxLayout.lt-md","column",4,"ngIf"],[3,"allowEdit","totalPrice","emitTotal"],["fxFlex","40%"],[1,"mat-elevation-z0"],["translate","",1,"order-summary"],[1,"mat-table"],[1,"mat-row"],["translate","",1,"mat-cell","label"],[1,"mat-cell","price"],["translate","",1,"mat-footer-cell","label"],[1,"mat-footer-cell","price"],["mat-raised-button","","mat-button","","color","primary","aria-label","Complete your purchase","id","checkoutButton",1,"btn","btn-pay",3,"click"],["translate",""],["translate","",1,"bonus-points",3,"translateParams"],["fxLayout","row","fxLayoutGap","10px","fxLayout.lt-md","column"],["fxFlex","60%",1,"mat-elevation-z0"],["class","mat-elevation-z0","fxFlex","40%",4,"ngIf","ngIfElse"],["walletPayment",""],["fxFlex","40%",1,"mat-elevation-z0"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"div",1),l.Gc(2,cl,19,9,"div",2),l.Vb(3,"app-purchase-basket",3),l.dc("emitTotal",function(t){return e.getMessage(t)}),l.Ub(),l.Ub(),l.Vb(4,"div",4),l.Vb(5,"mat-card",5),l.Vb(6,"div",6),l.Ic(7,"ORDER_SUMMARY"),l.Ub(),l.Vb(8,"table",7),l.Vb(9,"tr",8),l.Vb(10,"td",9),l.Ic(11,"ITEMS"),l.Ub(),l.Vb(12,"td",10),l.Ic(13),l.Ub(),l.Ub(),l.Vb(14,"tr",8),l.Vb(15,"td",9),l.Ic(16,"DELIVERY"),l.Ub(),l.Vb(17,"td",10),l.Ic(18),l.Ub(),l.Ub(),l.Vb(19,"tr",8),l.Vb(20,"td",9),l.Ic(21,"PROMOTION"),l.Ub(),l.Vb(22,"td",10),l.Ic(23),l.Ub(),l.Ub(),l.Vb(24,"tr",8),l.Vb(25,"td",11),l.Ic(26,"LABEL_TOTAL_PRICE"),l.Ub(),l.Vb(27,"td",12),l.Ic(28),l.Ub(),l.Ub(),l.Ub(),l.Vb(29,"button",13),l.dc("click",function(){return e.placeOrder()}),l.Vb(30,"mat-icon"),l.Ic(31," monetization_on "),l.Ub(),l.Vb(32,"span",14),l.Ic(33,"PLACE_ORDER_AND_PAY"),l.Ub(),l.Ub(),l.Vb(34,"div",15),l.Ic(35,"CHECKOUT_FOR_BONUS_POINTS"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(2),l.nc("ngIf",e.address&&e.paymentMethod),l.Db(1),l.nc("allowEdit",!1)("totalPrice",!1),l.Db(10),l.Kc("",null==e.itemTotal?null:e.itemTotal.toFixed(2),"\xa4"),l.Db(5),l.Kc("",e.deliveryPrice.toFixed(2),"\xa4"),l.Db(5),l.Kc("",e.promotionalDiscount.toFixed(2),"\xa4"),l.Db(5),l.Kc("",e.itemTotal+e.deliveryPrice-e.promotionalDiscount==null?null:(e.itemTotal+e.deliveryPrice-e.promotionalDiscount).toFixed(2),"\xa4 "),l.Db(6),l.nc("translateParams",l.sc(8,ll,e.bonus)))},directives:[y.a,w.d,w.e,w.b,Y.l,yt,U.a,S.a,Fe.a],styles:[".btn-pay[_ngcontent-%COMP%]{display:block;margin-top:10px;width:100%}mat-card[_ngcontent-%COMP%]{height:auto;margin-top:20px}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}mat-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.price[_ngcontent-%COMP%]:last-of-type{padding-right:10px;text-align:right}.label[_ngcontent-%COMP%]:first-of-type{padding-left:10px}table[_ngcontent-%COMP%]{width:100%}.mat-footer-cell[_ngcontent-%COMP%]{font-weight:700}.order-summary[_ngcontent-%COMP%]{font-size:x-large;padding-bottom:10px;padding-left:10px}.bonus-points[_ngcontent-%COMP%]{margin-top:5px;text-align:center}"]}),sl);function bl(t,e){1&t&&(l.Vb(0,"mat-error",1),l.Ic(1," MANDATORY_AMOUNT "),l.Ub())}function dl(t,e){1&t&&(l.Vb(0,"mat-error",1),l.Ic(1," AMOUNT_LIMIT "),l.Ub())}var ml,fl=((ml=function(){function t(e,n,a){i(this,t),this.router=e,this.walletService=n,this.ngZone=a,this.balanceControl=new m.e("",[m.z.required,m.z.min(10),m.z.max(1e3)])}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.walletService.get().subscribe(function(e){t.balance=parseFloat(e).toFixed(2)},function(t){console.log(t)})}},{key:"continue",value:function(){var t=this;sessionStorage.setItem("walletTotal",this.balanceControl.value),this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/payment","wallet"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}]),t}()).\u0275fac=function(t){return new(t||ml)(l.Pb(N.b),l.Pb(hc),l.Pb(l.B))},ml.\u0275cmp=l.Jb({type:ml,selectors:[["app-wallet"]],decls:25,vars:14,consts:[[1,"mat-elevation-z6"],["translate",""],[1,"confirmation"],["appearance","outline","color","accent"],["type","number","matInput","","aria-label","Enter an amount",3,"formControl"],["translate","",4,"ngIf"],["type","submit","id","submitButton","mat-raised-button","","color","primary","aria-label","Button to continue to payment",3,"disabled","click"],[1,"material-icons"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"h1"),l.Vb(2,"div"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub(),l.Vb(5,"h3",1),l.Ic(6,"LABEL_ADD_MONEY"),l.Ub(),l.Vb(7,"p"),l.Vb(8,"b"),l.Vb(9,"span",1),l.Ic(10,"LABEL_WALLET_BALANCE"),l.Ub(),l.Vb(11,"span",2),l.Ic(12),l.Ub(),l.Ub(),l.Ub(),l.Vb(13,"mat-form-field",3),l.Vb(14,"mat-label"),l.Ic(15),l.ic(16,"translate"),l.Ub(),l.Qb(17,"input",4),l.Gc(18,bl,2,0,"mat-error",5),l.Gc(19,dl,2,0,"mat-error",5),l.Ub(),l.Vb(20,"button",6),l.dc("click",function(){return e.continue()}),l.Vb(21,"i",7),l.Ic(22," send "),l.Ub(),l.Ic(23),l.ic(24,"translate"),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Jc(l.jc(4,8,"DIGITAL_WALLET")),l.Db(9),l.Kc(" ",e.balance,""),l.Db(3),l.Jc(l.jc(16,10,"LABEL_AMOUNT")),l.Db(2),l.nc("formControl",e.balanceControl),l.Db(1),l.nc("ngIf",e.balanceControl.invalid&&e.balanceControl.errors.required),l.Db(1),l.nc("ngIf",e.balanceControl.invalid&&(e.balanceControl.errors.min||e.balanceControl.errors.max)),l.Db(1),l.nc("disabled",e.balanceControl.invalid),l.Db(3),l.Kc(" ",l.jc(24,12,"LABEL_CONTINUE")," "))},directives:[y.a,U.a,ee.c,ee.g,m.u,ne.b,m.d,m.p,m.f,Y.l,S.a,ee.b],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-left:30%;margin-right:30%}mat-form-field[_ngcontent-%COMP%]{padding-top:10px;width:100%}.form-container[_ngcontent-%COMP%]{min-width:350px}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:30px;width:60%}.heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}"]}),ml);function pl(t,e){1&t&&(l.Vb(0,"div",32),l.Ic(1,"LABEL_IN_TRANSIT"),l.Ub())}function hl(t,e){1&t&&(l.Vb(0,"div",33),l.Ic(1,"LABEL_DELIVERED"),l.Ub())}function gl(t,e){1&t&&(l.Vb(0,"mat-header-cell",34),l.Ic(1,"LABEL_PRODUCT"),l.Ub())}function vl(t,e){if(1&t&&(l.Vb(0,"mat-cell",35),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.name," ")}}function Il(t,e){1&t&&(l.Vb(0,"mat-header-cell",36),l.Ic(1,"LABEL_PRICE"),l.Ub())}function Cl(t,e){if(1&t&&(l.Vb(0,"mat-cell",37),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.price,"\xa4")}}function yl(t,e){1&t&&(l.Vb(0,"mat-header-cell",36),l.Ic(1,"LABEL_QUANTITY"),l.Ub())}function wl(t,e){if(1&t&&(l.Vb(0,"mat-cell",37),l.Vb(1,"span"),l.Ic(2),l.Ub(),l.Ub()),2&t){var n=e.$implicit;l.Db(2),l.Jc(n.quantity)}}function Ul(t,e){1&t&&(l.Vb(0,"mat-header-cell",36),l.Ic(1,"LABEL_TOTAL_PRICE"),l.Ub())}function Sl(t,e){if(1&t&&(l.Vb(0,"mat-cell",38),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.total.toFixed(2),"\xa4")}}function kl(t,e){1&t&&l.Qb(0,"mat-header-cell",36)}function Dl(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",37),l.Vb(1,"button",17),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(3).showDetail(t.id)}),l.ic(2,"translate"),l.Vb(3,"mat-icon"),l.Ic(4," rate_review "),l.Ub(),l.Ub(),l.Ub()}2&t&&(l.Db(1),l.oc("matTooltip",l.jc(2,1,"WRITE_REVIEW")))}function Vl(t,e){1&t&&l.Qb(0,"mat-header-row")}function xl(t,e){1&t&&l.Qb(0,"mat-row")}function Ol(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",6),l.Vb(2,"div",7),l.Vb(3,"div",8),l.Vb(4,"div",9),l.Vb(5,"div",10),l.Ic(6,"LABEL_ORDER_ID"),l.Ub(),l.Vb(7,"div"),l.Ic(8),l.Ub(),l.Ub(),l.Vb(9,"div",11),l.Vb(10,"div",10),l.Ic(11,"LABEL_TOTAL_PRICE"),l.Ub(),l.Vb(12,"div"),l.Ic(13),l.Ub(),l.Ub(),l.Vb(14,"div",11),l.Vb(15,"div",10),l.Ic(16,"LABEL_BONUS"),l.Ub(),l.Vb(17,"div"),l.Ic(18),l.Ub(),l.Ub(),l.Vb(19,"div",12),l.Gc(20,pl,2,0,"div",13),l.Gc(21,hl,2,0,"div",14),l.Ub(),l.Vb(22,"div",15),l.Vb(23,"button",16),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).trackOrder(t.orderId)}),l.ic(24,"translate"),l.Vb(25,"mat-icon"),l.Ic(26," local_shipping "),l.Ub(),l.Ub(),l.Ub(),l.Vb(27,"div",15),l.Vb(28,"button",17),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc(2).openConfirmationPDF(t.orderId)}),l.ic(29,"translate"),l.Vb(30,"mat-icon"),l.Ic(31," note "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Qb(32,"div",18),l.Ub(),l.Vb(33,"mat-table",19),l.Tb(34,20),l.Gc(35,gl,2,0,"mat-header-cell",21),l.Gc(36,vl,2,1,"mat-cell",22),l.Sb(),l.Tb(37,23),l.Gc(38,Il,2,0,"mat-header-cell",24),l.Gc(39,Cl,2,1,"mat-cell",25),l.Sb(),l.Tb(40,26),l.Gc(41,yl,2,0,"mat-header-cell",24),l.Gc(42,wl,3,1,"mat-cell",25),l.Sb(),l.Tb(43,27),l.Gc(44,Ul,2,0,"mat-header-cell",24),l.Gc(45,Sl,2,1,"mat-cell",28),l.Sb(),l.Tb(46,29),l.Gc(47,kl,1,0,"mat-header-cell",24),l.Gc(48,Dl,5,3,"mat-cell",25),l.Sb(),l.Gc(49,Vl,1,0,"mat-header-row",30),l.Gc(50,xl,1,0,"mat-row",31),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc(2);l.Db(8),l.Kc("#",a.orderId,""),l.Db(5),l.Kc("",a.totalPrice.toFixed(2),"\xa4"),l.Db(5),l.Jc(a.bonus),l.Db(2),l.nc("ngIf",!a.delivered),l.Db(1),l.nc("ngIf",a.delivered),l.Db(2),l.oc("matTooltip",l.jc(24,10,"LABEL_TRACK_ORDER")),l.Db(5),l.oc("matTooltip",l.jc(29,12,"PRINT_ORDER_CONFIRMATION")),l.Db(5),l.nc("dataSource",a.products),l.Db(16),l.nc("matHeaderRowDef",i.tableColumns),l.Db(1),l.nc("matRowDefColumns",i.tableColumns)}}function _l(t,e){if(1&t&&(l.Vb(0,"div",4),l.Gc(1,Ol,51,14,"div",5),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("ngForOf",n.orders)}}function Pl(t,e){1&t&&(l.Vb(0,"mat-card",39),l.Qb(1,"img",40),l.Vb(2,"mat-card-title"),l.Vb(3,"span",41),l.Ic(4," NO_SEARCH_RESULT "),l.Ub(),l.Ub(),l.Vb(5,"mat-card-content"),l.Vb(6,"span",41),l.Ic(7," NO_ORDERS_PLACED "),l.Ub(),l.Ub(),l.Ub())}var Tl,Al=((Tl=function(){function e(t,n,a,o,r,c){i(this,e),this.router=t,this.dialog=n,this.orderHistoryService=a,this.basketService=o,this.productService=r,this.ngZone=c,this.tableColumns=["product","price","quantity","total price","review"],this.orders=[],this.emptyState=!0}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.orderHistoryService.get().subscribe(function(n){n=n.reverse(),e.emptyState=0===n.length;var a,i=t(n);try{for(i.s();!(a=i.n()).done;){var o,r=a.value,c=[],s=t(r.products);try{for(s.s();!(o=s.n()).done;){var l=o.value;c.push({id:l.id,name:l.name,price:l.price,quantity:l.quantity,total:l.total})}}catch(u){s.e(u)}finally{s.f()}e.orders.push({orderId:r.orderId,totalPrice:r.totalPrice,bonus:r.bonus,products:new q.o(c),delivered:r.delivered})}}catch(u){i.e(u)}finally{i.f()}},function(t){return console.log(t)})}},{key:"showDetail",value:function(t){var e=this;this.productService.get(t).subscribe(function(t){var n={id:t.id,name:t.name,description:t.description,image:t.image,price:t.price,points:Math.round(t.price/10)};e.dialog.open(In,{width:"500px",height:"max-content",data:{productData:n}})},function(t){return console.log(t)})}},{key:"openConfirmationPDF",value:function(t){window.open("".concat(this.basketService.hostServer,"/ftp/order_").concat(t,".pdf"),"_blank")}},{key:"trackOrder",value:function(t){var e=this;this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.router.navigate(["/track-result"],{queryParams:{id:t}});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})))}}]),e}()).\u0275fac=function(t){return new(t||Tl)(l.Pb(N.b),l.Pb(nn.b),l.Pb(us),l.Pb(G),l.Pb(Cn),l.Pb(l.B))},Tl.\u0275cmp=l.Jb({type:Tl,selectors:[["app-order-history"]],decls:8,vars:5,consts:[[1,"card1"],[1,"mat-card-cvr"],["fxLayout","column","fxLayoutGap","20px",4,"ngIf","ngIfElse"],["emptyResult",""],["fxLayout","column","fxLayoutGap","20px"],[4,"ngFor","ngForOf"],[1,"table-container","mat-elevation-z4","custom-slate"],[1,"heading"],["fxLayout","row"],["fxFlex","40%","fxLayout","column"],["translate",""],["fxFlex","15%","fxLayout","column"],["fxFlex","20%"],["class","error","translate","",4,"ngIf"],["class","confirmation","translate","",4,"ngIf"],["fxFlex","5%","fxLayoutAlign","end"],["mat-icon-button","","aria-label","Track Your Order","matTooltipPosition","below",3,"matTooltip","click"],["mat-icon-button","","aria-label","Print order confirmation","matTooltipPosition","below",3,"matTooltip","click"],[1,"border"],[3,"dataSource"],["matColumnDef","product"],["translate","","fxFlex","40%",4,"matHeaderCellDef"],["fxFlex","40%",4,"matCellDef"],["matColumnDef","price"],["translate","","fxFlex","15%",4,"matHeaderCellDef"],["fxFlex","15%",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","total price"],["class","price-align","fxFlex","15%",4,"matCellDef"],["matColumnDef","review"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["translate","",1,"error"],["translate","",1,"confirmation"],["translate","","fxFlex","40%"],["fxFlex","40%"],["translate","","fxFlex","15%"],["fxFlex","15%"],["fxFlex","15%",1,"price-align"],[1,"mat-elevation-z6","emptyState"],["alt"," No results found","src","assets/public/images/products/no-results.png",1,"img-responsive","noResult"],["translate","",1,"noResultText"]],template:function(t,e){if(1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"div",1),l.Vb(2,"mat-card-title"),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Gc(5,_l,2,1,"div",2),l.Gc(6,Pl,8,0,"ng-template",null,3,l.Hc),l.Ub(),l.Ub()),2&t){var n=l.vc(7);l.Db(3),l.Kc(" ",l.jc(4,3,"LABEL_ORDER_HISTORY")," "),l.Db(2),l.nc("ngIf",!e.emptyState)("ngIfElse",n)}},directives:[y.a,y.g,Y.l,w.d,w.e,Y.k,w.b,U.a,w.c,S.a,je.a,Fe.a,q.n,q.c,q.i,q.b,q.k,q.m,q.h,q.a,q.j,q.l,y.b],pipes:[U.d],styles:[".heading[_ngcontent-%COMP%], .heading-text[_ngcontent-%COMP%]{padding:12px 20px}.heading-text[_ngcontent-%COMP%]{justify-content:center}mat-card[_ngcontent-%COMP%]{height:auto;width:80%}.card1[_ngcontent-%COMP%]{border-radius:5px;margin:0 auto;width:80%}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}mat-cell[_ngcontent-%COMP%], mat-footer-cell[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.price-align[_ngcontent-%COMP%]{text-align:right}mat-card-title[_ngcontent-%COMP%]{margin-bottom:25px}.border[_ngcontent-%COMP%]{border:.5px solid #f2f2f2}.emptyState[_ngcontent-%COMP%]{display:block;height:auto!important;margin:20px auto;width:50%}.custom-slate[_ngcontent-%COMP%]{border-radius:5px}.noResult[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.noResultText[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}"]}),Tl);function Ll(t,e){if(1&t&&(l.Vb(0,"div",22),l.Vb(1,"h1",4),l.Ic(2,"LABEL_DELIVERY_ADDRESS"),l.Ub(),l.Vb(3,"div"),l.Ic(4),l.Ub(),l.Vb(5,"div"),l.Ic(6),l.Ub(),l.Vb(7,"div"),l.Ic(8),l.Ub(),l.Vb(9,"div"),l.Vb(10,"span",4),l.Ic(11,"PHONE_NUMBER"),l.Ub(),l.Ic(12),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(4),l.Jc(null==n.address?null:n.address.fullName),l.Db(2),l.Mc("",null==n.address?null:n.address.streetAddress,", ",null==n.address?null:n.address.city,", ",null==n.address?null:n.address.state,", ",null==n.address?null:n.address.zipCode,""),l.Db(2),l.Jc(null==n.address?null:n.address.country),l.Db(4),l.Kc(" ",null==n.address?null:n.address.mobileNum,"")}}function El(t,e){1&t&&l.Qb(0,"mat-divider",23)}function Ml(t,e){1&t&&l.Qb(0,"mat-header-cell",24)}function Rl(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-cell",24),l.Vb(1,"mat-radio-button",25),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().selectMethod(t.id)})("change",function(t){l.yc(n);var a=e.$implicit,i=l.hc();return t?i.selection.toggle(a):null}),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc();l.Db(1),l.nc("checked",i.selection.isSelected(a))}}function Nl(t,e){1&t&&l.Qb(0,"mat-header-cell",26)}function Bl(t,e){if(1&t&&(l.Vb(0,"mat-cell",26),l.Qb(1,"i",27),l.Ic(2),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.nc("ngClass",n.icon),l.Db(1),l.Kc("\xa0",n.name,"")}}function Gl(t,e){1&t&&l.Qb(0,"mat-header-cell",28)}function Fl(t,e){if(1&t&&(l.Vb(0,"mat-cell",29),l.Ic(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Kc("",n.price.toFixed(2),"\xa4")}}function jl(t,e){1&t&&l.Qb(0,"mat-header-cell",30)}function Hl(t,e){if(1&t&&(l.Vb(0,"mat-cell",29),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.Lc("",n.eta," ",l.jc(2,2,"LABEL_DAYS"),"")}}function Ql(t,e){1&t&&l.Qb(0,"mat-header-row")}function zl(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-row",31),l.dc("click",function(){l.yc(n);var t=e.$implicit,a=e.$implicit,i=l.hc();return i.selection.toggle(t),i.selectMethod(a.id)}),l.Ub()}}g.b.add(I.D,I.G,I.W),g.a.watch();var Wl,Kl,ql=((Wl=function(){function t(e,n,a,o,r){i(this,t),this.location=e,this.deliverySerivce=n,this.addressService=a,this.router=o,this.ngZone=r,this.displayedColumns=["Selection","Name","Price","ETA"],this.deliveryMethodId=void 0,this.selection=new mi.c(!1,[])}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.addressService.getById(sessionStorage.getItem("addressId")).subscribe(function(e){t.address=e},function(t){return console.log(t)}),this.deliverySerivce.get().subscribe(function(e){console.log(e),t.methods=e,t.dataSource=new q.o(t.methods)},function(t){return console.log(t)})}},{key:"selectMethod",value:function(t){this.deliveryMethodId=this.selection.hasValue()||t?t:void 0}},{key:"routeToPreviousUrl",value:function(){this.location.back()}},{key:"chooseDeliveryMethod",value:function(){var t=this;sessionStorage.setItem("deliveryMethodId",this.deliveryMethodId.toString()),this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/payment","shop"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}]),t}()).\u0275fac=function(t){return new(t||Wl)(l.Pb(Y.g),l.Pb(gc),l.Pb(di),l.Pb(N.b),l.Pb(l.B))},Wl.\u0275cmp=l.Jb({type:Wl,selectors:[["app-delivery-method"]],decls:33,vars:9,consts:[[1,"mat-elevation-z6"],["class","addressCont",4,"ngIf"],["class","detail-divider",4,"ngIf"],[2,"height","12px"],["translate",""],[3,"dataSource"],["matColumnDef","Selection"],["fxFlex","20%",4,"matHeaderCellDef"],["fxFlex","20%",4,"matCellDef"],["matColumnDef","Name"],["fxFlex","30%",4,"matHeaderCellDef"],["fxFlex","30%",4,"matCellDef"],["matColumnDef","Price"],["translate","LABEL_PRICE","fxFlex","25%",4,"matHeaderCellDef"],["fxFlex","25%",4,"matCellDef"],["matColumnDef","ETA"],["translate","LABEL_EXPECTED_DELIVERY","fxFlex","25%",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[3,"click",4,"matRowDef","matRowDefColumns"],[2,"margin-top","20px"],["mat-stroked-button","",1,"btn","btn-return",3,"click"],["mat-raised-button","","mat-button","","color","primary","aria-label","Proceed to delivery method selection",1,"btn","nextButton",3,"disabled","click"],[1,"addressCont"],[1,"detail-divider"],["fxFlex","20%"],[3,"checked","click","change"],["fxFlex","30%"],[3,"ngClass"],["translate","LABEL_PRICE","fxFlex","25%"],["fxFlex","25%"],["translate","LABEL_EXPECTED_DELIVERY","fxFlex","25%"],[3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"mat-card",0),l.Gc(1,Ll,13,7,"div",1),l.Gc(2,El,1,0,"mat-divider",2),l.Qb(3,"div",3),l.Vb(4,"div"),l.Vb(5,"h1",4),l.Ic(6,"LABEL_CHOOSE_A_DELIVERY_SPEED"),l.Ub(),l.Vb(7,"mat-table",5),l.Tb(8,6),l.Gc(9,Ml,1,0,"mat-header-cell",7),l.Gc(10,Rl,2,1,"mat-cell",8),l.Sb(),l.Tb(11,9),l.Gc(12,Nl,1,0,"mat-header-cell",10),l.Gc(13,Bl,3,2,"mat-cell",11),l.Sb(),l.Tb(14,12),l.Gc(15,Gl,1,0,"mat-header-cell",13),l.Gc(16,Fl,2,1,"mat-cell",14),l.Sb(),l.Tb(17,15),l.Gc(18,jl,1,0,"mat-header-cell",16),l.Gc(19,Hl,3,4,"mat-cell",14),l.Sb(),l.Gc(20,Ql,1,0,"mat-header-row",17),l.Gc(21,zl,1,0,"mat-row",18),l.Ub(),l.Ub(),l.Vb(22,"div",19),l.Vb(23,"button",20),l.dc("click",function(){return e.routeToPreviousUrl()}),l.Vb(24,"mat-icon"),l.Ic(25," navigate_before "),l.Ub(),l.Ic(26),l.ic(27,"translate"),l.Ub(),l.Vb(28,"button",21),l.dc("click",function(){return e.chooseDeliveryMethod()}),l.Vb(29,"mat-icon"),l.Ic(30," navigate_next "),l.Ub(),l.Vb(31,"span",4),l.Ic(32,"LABEL_CONTINUE"),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(1),l.nc("ngIf",e.address),l.Db(1),l.nc("ngIf",e.address),l.Db(5),l.nc("dataSource",e.dataSource),l.Db(13),l.nc("matHeaderRowDef",e.displayedColumns),l.Db(1),l.nc("matRowDefColumns",e.displayedColumns),l.Db(5),l.Kc(" ",l.jc(27,7,"LABEL_BACK")," "),l.Db(2),l.nc("disabled",void 0===e.deliveryMethodId))},directives:[y.a,Y.l,U.a,q.n,q.c,q.i,q.b,q.k,q.m,S.a,Fe.a,sn.a,q.h,w.b,q.a,fi.a,Y.j,J.a,q.j,q.l],pipes:[U.d],styles:["mat-card[_ngcontent-%COMP%]{display:block;margin-left:20%;margin-right:20%}.addressCont[_ngcontent-%COMP%]{margin-bottom:12px}.detail-divider[_ngcontent-%COMP%]{border-top-width:4px!important;margin-left:1%!important;width:98%!important}.btn-return[_ngcontent-%COMP%]{display:block;margin-left:0;margin-right:auto}.nextButton[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:0;margin-top:-37px}"]}),Wl),Yl=o("HDdC"),Jl=function(t){if("string"==typeof t.value)return Object(to.a)(null);var e=t.value,n=new FileReader;return new Yl.a(function(t){n.addEventListener("loadend",function(){for(var e=new Uint8Array(n.result).subarray(0,4),a="",i=!1,o=0;o<e.length;o++)a+=e[o].toString(16);switch(a){case"89504e47":i=!0;break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":i=!0;break;default:i=!1}t.next(i?null:{invalidMimeType:!0}),t.complete()}),n.readAsArrayBuffer(e)})},$l=((Kl=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/memories"}return r(t,[{key:"addMemory",value:function(t,e){var n=new FormData;return n.append("image",e,t),n.append("caption",t),this.http.post(this.host,n).pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}},{key:"get",value:function(){return this.http.get(this.host+"/").pipe(Object(f.a)(function(t){return t.data}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Kl)(l.Zb(b.b))},Kl.\u0275prov=l.Lb({token:Kl,factory:Kl.\u0275fac,providedIn:"root"}),Kl);function Zl(t,e){if(1&t&&(l.Vb(0,"a",10),l.Vb(1,"button",11),l.Qb(2,"i",12),l.Ub(),l.Ub()),2&t){var n=l.hc().$implicit,a=l.hc(2);l.qc("href","https://twitter.com/intent/tweet?text=",n.caption," ",a.twitterHandle,"&hashtags=appsec",l.Bc)}}function Xl(t,e){if(1&t&&(l.Vb(0,"span",6),l.Qb(1,"img",7),l.Vb(2,"div",8),l.Vb(3,"div"),l.Ic(4),l.Ub(),l.Gc(5,Zl,3,2,"a",9),l.Ub(),l.Ub()),2&t){var n=e.$implicit,a=l.hc(2);l.Db(1),l.oc("src",n.url,l.Bc),l.oc("alt",n.caption),l.Db(3),l.Jc(n.caption),l.Db(1),l.nc("ngIf",a.twitterHandle)}}function tu(t,e){if(1&t&&(l.Vb(0,"div",4),l.Gc(1,Xl,6,4,"span",5),l.Ub()),2&t){var n=l.hc();l.Db(1),l.nc("ngForOf",n.slideshowDataSource)}}function eu(t,e){1&t&&(l.Vb(0,"mat-card",13),l.Qb(1,"img",14),l.Vb(2,"mat-card-title"),l.Vb(3,"span",15),l.Ic(4," NO_SEARCH_RESULT "),l.Ub(),l.Ub(),l.Vb(5,"mat-card-content"),l.Vb(6,"span",15),l.Ic(7," EMPTY_MEMORY_LIST "),l.Ub(),l.Ub(),l.Ub())}function nu(t,e){if(1&t&&(l.Vb(0,"div",28),l.Qb(1,"img",29),l.Ub()),2&t){var n=l.hc(2);l.Db(1),l.nc("src",n.imagePreview,l.Bc)("alt",n.form.value.caption)}}function au(t,e){1&t&&(l.Vb(0,"mat-error",17),l.Ic(1),l.ic(2,"translate"),l.Ub()),2&t&&(l.Db(1),l.Jc(l.jc(2,1,"MANDATORY_CAPTION")))}function iu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",16),l.Vb(2,"h2",17),l.Ic(3,"LABEL_SHARE_A_MEMORY"),l.Ub(),l.Vb(4,"form",18),l.Vb(5,"div"),l.Vb(6,"button",19),l.dc("click",function(){return l.yc(n),l.vc(10).click()}),l.Ic(7),l.ic(8,"translate"),l.Ub(),l.Vb(9,"input",20,21),l.dc("change",function(t){return l.yc(n),l.hc().onImagePicked(t)}),l.Ub(),l.Ub(),l.Gc(11,nu,2,2,"div",22),l.Vb(12,"mat-form-field",23),l.Vb(13,"mat-label",17),l.Ic(14,"LABEL_CAPTION"),l.Ub(),l.Qb(15,"input",24),l.Gc(16,au,3,3,"mat-error",25),l.Ub(),l.Vb(17,"button",26),l.dc("click",function(){return l.yc(n),l.hc().save()}),l.Vb(18,"i",27),l.Ic(19," send "),l.Ub(),l.Ic(20),l.ic(21,"translate"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(4),l.nc("formGroup",a.form),l.Db(3),l.Kc("",l.jc(8,6,"LABEL_PICK_IMAGE")," "),l.Db(4),l.nc("ngIf",""!==a.imagePreview&&a.imagePreview&&a.form.get("image").valid),l.Db(5),l.nc("ngIf",a.form.get("caption").invalid),l.Db(1),l.nc("disabled",a.form.get("image").invalid||a.form.get("caption").invalid),l.Db(3),l.Kc(" ",l.jc(21,8,"BTN_SUBMIT")," ")}}g.b.add(v.k),g.a.watch();var ou,ru=((ou=function(){function e(t,n,a){i(this,e),this.photoWallService=t,this.configurationService=n,this.snackBarHelperService=a,this.emptyState=!0,this.form=new m.h({image:new m.e("",{validators:[m.z.required],asyncValidators:[Jl]}),caption:new m.e("",[m.z.required])}),this.slideshowDataSource=[],this.twitterHandle=null}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.slideshowDataSource=[],this.photoWallService.get().subscribe(function(n){var a;e.emptyState=0===n.length;var i,o=t(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;(null===(a=r.User)||void 0===a?void 0:a.username)&&(r.caption="".concat(r.caption," (\xa9 ").concat(r.User.username,")")),e.slideshowDataSource.push({url:r.imagePath,caption:r.caption})}}catch(c){o.e(c)}finally{o.f()}},function(t){return console.log(t)}),this.configurationService.getApplicationConfiguration().subscribe(function(t){var n;(null===(n=null==t?void 0:t.application)||void 0===n?void 0:n.social)&&t.application.social.twitterUrl&&(e.twitterHandle=t.application.social.twitterUrl.replace("https://twitter.com/","@"))},function(t){return console.log(t)})}},{key:"onImagePicked",value:function(t){var e=this,n=t.target.files[0];this.form.patchValue({image:n}),this.form.get("image").updateValueAndValidity();var a=new FileReader;a.onload=function(){e.imagePreview=a.result},a.readAsDataURL(n)}},{key:"save",value:function(){var t=this;this.photoWallService.addMemory(this.form.value.caption,this.form.value.image).subscribe(function(){t.resetForm(),t.ngOnInit(),t.snackBarHelperService.open("IMAGE_UPLOAD_SUCCESS","confirmBar")},function(e){var n;t.snackBarHelperService.open(null===(n=e.error)||void 0===n?void 0:n.error,"errorBar"),console.log(e)})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"resetForm",value:function(){this.form.get("image").setValue(""),this.form.get("image").markAsPristine(),this.form.get("image").markAsUntouched(),this.form.get("caption").setValue(""),this.form.get("caption").markAsPristine(),this.form.get("caption").markAsUntouched(),this.form.get("caption").setErrors(null)}}]),e}()).\u0275fac=function(t){return new(t||ou)(l.Pb($l),l.Pb(h),l.Pb(K))},ou.\u0275cmp=l.Jb({type:ou,selectors:[["app-photo-wall"]],decls:9,vars:6,consts:[[1,"heading","mat-elevation-z6","mat-own-card",2,"margin-bottom","10px"],["class","grid",4,"ngIf","ngIfElse"],["emptyResult",""],[4,"ngIf"],[1,"grid"],["class","container mat-elevation-z6",4,"ngFor","ngForOf"],[1,"container","mat-elevation-z6"],[1,"image",3,"src","alt"],[1,"overlay"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["mat-icon-button","","aria-label","Tweet"],[1,"fab","fa-twitter","fa-lg"],[1,"mat-elevation-z0","emptyState"],["alt"," No results found","src","assets/public/images/products/no-results.png",1,"img-responsive","noResult"],["translate","",1,"noResultText"],[2,"margin-top","10px"],["translate",""],["enctype","multipart/form-data",3,"formGroup"],["mat-stroked-button","","type","button",3,"click"],["type","file","name","file",3,"change"],["filePicker",""],["class","image-preview",4,"ngIf"],["appearance","outline","color","accent"],["formControlName","caption","type","text","matInput",""],["translate","",4,"ngIf"],["id","submitButton","mat-raised-button","","color","primary",3,"disabled","click"],[1,"material-icons"],[1,"image-preview"],[3,"src","alt"]],template:function(t,e){if(1&t&&(l.Vb(0,"mat-card",0),l.Vb(1,"h1"),l.Ic(2),l.ic(3,"translate"),l.Ub(),l.Vb(4,"div"),l.Gc(5,tu,2,1,"div",1),l.Ub(),l.Gc(6,eu,8,0,"ng-template",null,2,l.Hc),l.Gc(8,iu,22,10,"div",3),l.Ub()),2&t){var n=l.vc(7);l.Db(2),l.Jc(l.jc(3,4,"LABEL_PHOTO_WALL")),l.Db(3),l.nc("ngIf",!e.emptyState)("ngIfElse",n),l.Db(3),l.nc("ngIf",e.isLoggedIn())}},directives:[y.a,Y.l,Y.k,S.a,y.g,U.a,y.b,m.A,m.q,m.i,ee.c,ee.g,m.d,ne.b,m.p,m.g,ee.b],pipes:[U.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-own-card[_ngcontent-%COMP%]{display:block;margin-left:10%;margin-right:10%}#submitButton[_ngcontent-%COMP%]{margin-left:20%;margin-top:10px;width:60%}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.heading-main[_ngcontent-%COMP%]{font-size:x-large;justify-content:center}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}.grid[_ngcontent-%COMP%]{align-items:center;display:grid;grid-gap:20px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;box-shadow:2px 2px 6px 0 rgba(0,0,0,.3);max-width:100%}.container[_ngcontent-%COMP%]{position:relative}.image[_ngcontent-%COMP%]{display:block}.overlay[_ngcontent-%COMP%]{bottom:0;font-size:20px;left:0;opacity:0;padding:20px;position:absolute;right:0;text-align:center;transition:.5s ease}.container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.emptyState[_ngcontent-%COMP%]{display:block;height:auto!important;margin:20px auto;width:50%}.noResult[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.noResultText[_ngcontent-%COMP%]{display:block;margin-top:10px;text-align:center}.tweet-logo[_ngcontent-%COMP%]{height:24px}"]}),ou);function cu(t,e){if(1&t&&(l.Vb(0,"div",22),l.Vb(1,"div",23),l.Vb(2,"p",24),l.Ic(3),l.Ub(),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(3),l.Jc(n.error)}}function su(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",14),l.Ic(2),l.Ub(),l.Vb(3,"div",14),l.Vb(4,"button",25),l.dc("click",function(){return l.yc(n),l.hc().upgradeToDeluxe()}),l.Vb(5,"span",13),l.Ic(6,"LABEL_BECOME_MEMBER"),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(2),l.Kc(" ",a.membershipCost,"\xa4 ")}}var lu,uu,bu=function(t){return{appname:t}},du=[{path:"administration",component:Aa,canActivate:[H]},{path:"accounting",component:Ms,canActivate:[Q]},{path:"about",component:Ce},{path:"address/select",component:lc,canActivate:[j]},{path:"address/saved",component:uc,canActivate:[j]},{path:"address/create",component:sc,canActivate:[j]},{path:"address/edit/:addressId",component:sc,canActivate:[j]},{path:"delivery-method",component:ql},{path:"deluxe-membership",component:(lu=function(){function t(e,n,a,o,r,c,s){i(this,t),this.router=e,this.userService=n,this.cookieService=a,this.configurationService=o,this.route=r,this.ngZone=c,this.io=s,this.membershipCost=0,this.error=void 0,this.applicationName="OWASP Juice Shop",this.logoSrc="assets/public/images/JuiceShop_Logo.png"}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n=t.route.snapshot.queryParams.testDecal;if((null==e?void 0:e.application)&&(e.application.name&&(t.applicationName=e.application.name),e.application.logo)){var a=e.application.logo;"http"===a.substring(0,4)&&(a=decodeURIComponent(a.substring(a.lastIndexOf("/")+1))),t.logoSrc="assets/public/images/".concat(n||a)}n&&t.ngZone.runOutsideAngular(function(){t.io.socket().emit("verifySvgInjectionChallenge",n)})},function(t){return console.log(t)}),this.userService.deluxeStatus().subscribe(function(e){t.membershipCost=e.membershipCost},function(e){t.error=e.error.error})}},{key:"upgradeToDeluxe",value:function(){var t=this;this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.router.navigate(["/payment","deluxe"]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})))}}]),t}(),lu.\u0275fac=function(t){return new(t||lu)(l.Pb(N.b),l.Pb(R),l.Pb(d.b),l.Pb(h),l.Pb(N.a),l.Pb(l.B),l.Pb(Sn))},lu.\u0275cmp=l.Jb({type:lu,selectors:[["app-deluxe-user"]],decls:50,vars:10,consts:[["fxLayout","column","fxLayoutGap","10px",1,"main-wrapper"],["class","heading mat-elevation-z6",4,"ngIf"],[1,"mat-elevation-z6","deluxe-membership"],["fxFlexAlign","center","fxFlex","30%",1,"img-container"],["viewBox","0 0 720 720","xmlns","http://www.w3.org/2000/svg"],["href","assets/public/images/deluxe/blankBoxes.png","x","0","y","0","height","720","width","720"],["x","260","y","130","height","50"],["x","230","y","330","height","70"],["x","70","y","355","height","40"],["x","120","y","450","height","55"],["x","500","y","410","height","45"],["fxFlexAlign","center","fxFlex","60%"],[1,"item-name"],["translate",""],[1,"item-description"],["translate","",3,"translateParams"],[4,"ngIf"],["fxLayout","row","fxLayoutGap","10px","fxLayout.lt-md","column"],["fxFlex","33.33%",1,"mat-elevation-z6"],["fxFlexAlign","center","fxFlex","40%",1,"img-container"],[1,"img-responsive","img-thumbnail",2,"font-size","100px"],["translate","",1,"item-description"],[1,"heading","mat-elevation-z6"],[2,"margin-top","5px"],[1,"error"],["aria-label","Add to Basket","color","primary","mat-button","","mat-raised-button","",1,"btn-member",3,"click"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Gc(1,cu,4,1,"div",1),l.Vb(2,"mat-card",2),l.Vb(3,"div",3),l.gc(),l.Vb(4,"svg",4),l.Qb(5,"image",5),l.Qb(6,"image",6),l.Qb(7,"image",7),l.Qb(8,"image",8),l.Qb(9,"image",9),l.Qb(10,"image",10),l.Ub(),l.Ub(),l.fc(),l.Vb(11,"div",11),l.Vb(12,"div",12),l.Vb(13,"b",13),l.Ic(14,"LABEL_DELUXE_MEMBERSHIP"),l.Ub(),l.Ub(),l.Vb(15,"div",14),l.Vb(16,"span",15),l.Ic(17,"DESCRIPTION_DELUXE_MEMBERSHIP"),l.Ub(),l.Ub(),l.Gc(18,su,7,1,"div",16),l.Ub(),l.Ub(),l.Vb(19,"div",17),l.Vb(20,"mat-card",18),l.Vb(21,"div",19),l.Vb(22,"mat-icon",20),l.Ic(23," slideshow "),l.Ub(),l.Ub(),l.Vb(24,"div",11),l.Vb(25,"div",12),l.Vb(26,"b",13),l.Ic(27,"LABEL_DEALS_OFFERS"),l.Ub(),l.Ub(),l.Vb(28,"div",21),l.Ic(29," DESCRIPTION_DEALS_OFFERS "),l.Ub(),l.Ub(),l.Ub(),l.Vb(30,"mat-card",18),l.Vb(31,"div",19),l.Vb(32,"mat-icon",20),l.Ic(33," directions_car "),l.Ub(),l.Ub(),l.Vb(34,"div",11),l.Vb(35,"div",12),l.Vb(36,"b",13),l.Ic(37,"LABEL_FREE_FAST_DELIVERY"),l.Ub(),l.Ub(),l.Vb(38,"div",21),l.Ic(39," DESCRIPTION_FREE_FAST_DELIVERY "),l.Ub(),l.Ub(),l.Ub(),l.Vb(40,"mat-card",18),l.Vb(41,"div",19),l.Vb(42,"mat-icon",20),l.Ic(43," add "),l.Ub(),l.Ub(),l.Vb(44,"div",11),l.Vb(45,"div",12),l.Vb(46,"b",13),l.Ic(47,"LABEL_UNLIMITED_PURCHASE"),l.Ub(),l.Ub(),l.Vb(48,"div",21),l.Ic(49," DESCRIPTION_UNLIMITED_PURCHASE "),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(1),l.nc("ngIf",e.error),l.Db(5),l.Eb("href",e.logoSrc),l.Db(1),l.Eb("href",e.logoSrc),l.Db(1),l.Eb("href",e.logoSrc),l.Db(1),l.Eb("href",e.logoSrc),l.Db(1),l.Eb("href",e.logoSrc),l.Db(6),l.nc("translateParams",l.sc(8,bu,e.applicationName)),l.Db(2),l.nc("ngIf",!e.error))},directives:[w.d,w.e,Y.l,y.a,w.a,w.b,U.a,Fe.a,S.a],styles:[".heading[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);font-size:x-large;justify-content:center;padding:12px 20px}.main-wrapper[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%}.img-thumbnail[_ngcontent-%COMP%]{background:none;border:0;width:100%}.btn-member[_ngcontent-%COMP%]{bottom:10%}.item-description[_ngcontent-%COMP%]{font-size:medium;margin-top:12px;text-align:center}.item-name[_ngcontent-%COMP%]{font-size:large;text-align:center}"]}),lu),canActivate:[j]},{path:"saved-payment-methods",component:ls},{path:"basket",component:kt},{path:"order-completion/:id",component:il},{path:"contact",component:le},{path:"photo-wall",component:ru},{path:"complain",component:ti},{path:"chatbot",component:ui},{path:"order-summary",component:ul},{path:"order-history",component:Al},{path:"payment/:entity",component:ss},{path:"wallet",component:fl},{path:"login",component:$n},{path:"forgot-password",component:en},{path:"recycle",component:Ji},{path:"register",component:Ge},{path:"search",component:Gn},{path:"hacking-instructor",component:Gn},{path:"score-board",component:Ir},{path:"track-result",component:$t},{path:"track-result/new",component:$t,data:{type:"new"}},{path:"2fa/enter",component:Ur},{path:"privacy-security",component:Or,children:[{path:"privacy-policy",component:Yr},{path:"change-password",component:ja},{path:"two-factor-authentication",component:Mr},{path:"data-export",component:Kr},{path:"last-login-ip",component:qr}]},{matcher:function(t){return 0===t.length?null:window.location.href.includes("#access_token=")?{consumed:t}:null},data:{params:window.location.href.substr(window.location.href.indexOf("#"))},component:B},{matcher:function(t){return 0===t.length?null:t[0].toString().match((e=Array.prototype.slice.call([25,184,174,179,182,186]),n=e.shift(),e.reverse().map(function(t,e){return String.fromCharCode(t-n-45-e)}).join("")+36669..toString(36).toLowerCase()+function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=Array.prototype.slice.call(arguments),i=a.shift();return a.reverse().map(function(t,e){return String.fromCharCode(t-i-24-e)}).join("")}(13,144,87,152,139,144,83,138)+10..toString(36).toLowerCase()))?{consumed:t}:null;var e,n},component:E},{path:"403",component:Dr},{path:"**",component:Gn}],mu=N.e.forRoot(du,{useHash:!0,relativeLinkResolution:"legacy"}),fu=o("k5Gf"),pu=o("IbkX"),hu=((uu=function(){function t(e){i(this,t),this.http=e,this.hostServer=".",this.host=this.hostServer+"/rest/admin"}return r(t,[{key:"getApplicationVersion",value:function(){return this.http.get(this.host+"/application-version").pipe(Object(f.a)(function(t){return t.version}),Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||uu)(l.Zb(b.b))},uu.\u0275prov=l.Lb({token:uu,factory:uu.\u0275fac,providedIn:"root"}),uu),gu=o("l0rg"),vu=o("SqCe");function Iu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",36),l.dc("click",function(){return l.yc(n),l.hc().onToggleSidenav()}),l.Vb(1,"mat-icon"),l.Ic(2," exit_to_app "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"TITLE_LOGIN")," "))}function Cu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",37),l.dc("click",function(){l.yc(n);var t=l.hc();return t.onToggleSidenav(),t.goToProfilePage()}),l.Vb(1,"mat-icon"),l.Ic(2," account_circle "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(4),l.Kc(" ",a.userEmail," ")}}function yu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",38),l.dc("click",function(){return l.yc(n),l.hc().onToggleSidenav()}),l.Vb(1,"mat-icon"),l.Ic(2," account_balance "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"ACCOUNTING")," "))}var wu=function(t){return{rotated:t}};function Uu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-list-item",39),l.dc("click",function(){l.yc(n);var t=l.hc();return t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," check_circle_outline "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Vb(6,"mat-icon",40),l.Ic(7," expand_more "),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(4),l.Kc(" ",l.jc(5,2,"ORDERS_AND_PAYMENT")," "),l.Db(2),l.nc("ngClass",l.sc(4,wu,a.showOrdersSubmenu))}}function Su(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",47),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," archive "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"LABEL_ORDER_HISTORY")," "))}function ku(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",48),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," autorenew "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"NAV_RECYCLE")," "))}function Du(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",49),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," my_location "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"MY_SAVED_ADRESSES")," "))}function Vu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",50),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," credit_card "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"MY_PAYMENT_OPTIONS")," "))}function xu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",51),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showOrdersSubmenu=!t.showOrdersSubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," account_balance_wallet "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"DIGITAL_WALLET")," "))}var Ou=function(t){return{expanded:t}};function _u(t,e){if(1&t&&(l.Vb(0,"div",41),l.Gc(1,Su,6,3,"a",42),l.Gc(2,ku,6,3,"a",43),l.Qb(3,"mat-divider"),l.Gc(4,Du,6,3,"a",44),l.Gc(5,Vu,6,3,"a",45),l.Gc(6,xu,6,3,"a",46),l.Ub()),2&t){var n=l.hc();l.nc("ngClass",l.sc(6,Ou,n.showOrdersSubmenu)),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(2),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn())}}function Pu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-list-item",52),l.dc("click",function(){l.yc(n);var t=l.hc();return t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," security "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Vb(6,"mat-icon",40),l.Ic(7," expand_more "),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(4),l.Kc(" ",l.jc(5,2,"PRIVACY_AND_SECURITY")," "),l.Db(2),l.nc("ngClass",l.sc(4,wu,a.showPrivacySubmenu))}}function Tu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",59),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," assignment "),l.Ub(),l.Vb(3,"span",60),l.Ic(4,"TITLE_PRIVACY_POLICY"),l.Ub(),l.Ub()}}function Au(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",61),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," get_app "),l.Ub(),l.Vb(3,"span",60),l.Ic(4,"TITLE_REQUEST_DATA_EXPORT"),l.Ub(),l.Ub()}}function Lu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",62),l.dc("click",function(){return l.yc(n),l.hc(2).goToDataErasurePage()})("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," delete_forever "),l.Ub(),l.Vb(3,"span",60),l.Ic(4,"DATA_SUBJECT_TITLE"),l.Ub(),l.Ub()}}function Eu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",63),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," edit "),l.Ub(),l.Vb(3,"span",60),l.Ic(4,"TITLE_CHANGE_PASSWORD"),l.Ub(),l.Ub()}}function Mu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",64),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," exposure_plus_2 "),l.Ub(),l.Vb(3,"span",60),l.Ic(4,"TITLE_TWO_FACTOR_AUTH_CONFIG"),l.Ub(),l.Ub()}}function Ru(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",65),l.dc("click",function(){l.yc(n);var t=l.hc(2);return t.onToggleSidenav(),t.showPrivacySubmenu=!t.showPrivacySubmenu}),l.Vb(1,"mat-icon"),l.Ic(2," place "),l.Ub(),l.Vb(3,"span",60),l.Ic(4,"LAST_LOGIN_IP"),l.Ub(),l.Ub()}}function Nu(t,e){if(1&t&&(l.Vb(0,"div",41),l.Gc(1,Tu,5,0,"a",53),l.Gc(2,Au,5,0,"a",54),l.Gc(3,Lu,5,0,"a",55),l.Qb(4,"mat-divider"),l.Gc(5,Eu,5,0,"a",56),l.Gc(6,Mu,5,0,"a",57),l.Gc(7,Ru,5,0,"a",58),l.Ub()),2&t){var n=l.hc();l.nc("ngClass",l.sc(7,Ou,n.showPrivacySubmenu)),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(2),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn()),l.Db(1),l.nc("ngIf",n.isLoggedIn())}}function Bu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",66),l.dc("click",function(){l.yc(n);var t=l.hc();return t.onToggleSidenav(),t.logout()}),l.Vb(1,"mat-icon"),l.Ic(2," power_settings_new "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"TITLE_LOGOUT")," "))}function Gu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",67),l.dc("click",function(){return l.yc(n),l.hc().onToggleSidenav()}),l.Vb(1,"i",13),l.Ic(2," sentiment_dissatisfied "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"NAV_COMPLAIN")," "))}function Fu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",68),l.dc("click",function(){return l.yc(n),l.hc().onToggleSidenav()}),l.Vb(1,"i",13),l.Ic(2," chat "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"SECTION_SUPPORT_CHAT")," "))}function ju(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",69),l.dc("click",function(){return l.yc(n),l.hc().onToggleSidenav()}),l.Vb(1,"i",13),l.Ic(2," card_membership "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"LABEL_DELUXE_MEMBERSHIP")," "))}function Hu(t,e){1&t&&l.Qb(0,"mat-divider",70)}function Qu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",71),l.dc("click",function(){return l.yc(n),l.hc().onToggleSidenav()}),l.Qb(1,"mat-icon",72),l.Vb(2,"span",14),l.Ic(3),l.ic(4,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(3),l.Kc(" ",l.jc(4,1,"TITLE_SCORE_BOARD")," "))}function zu(t,e){if(1&t){var n=l.Wb();l.Vb(0,"a",73),l.dc("click",function(){return l.yc(n),l.hc().startHackingInstructor()}),l.Vb(1,"i",13),l.Ic(2," school "),l.Ub(),l.Vb(3,"span",14),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"BTN_GETTING_STARTED")," "))}function Wu(t,e){1&t&&(l.Vb(0,"a",74),l.Qb(1,"mat-icon",75),l.Vb(2,"span",14),l.Ic(3," GitHub "),l.Ub(),l.Ub())}var Ku,qu,Yu=((qu=function(){function t(e,n,a,o,r,c,s,u,b){var d=this;i(this,t),this.administrationService=e,this.challengeService=n,this.ngZone=a,this.io=o,this.userService=r,this.cookieService=c,this.router=s,this.configurationService=u,this.loginGuard=b,this.applicationName="OWASP Juice Shop",this.showGitHubLink=!0,this.userEmail="",this.scoreBoardVisible=!1,this.version="",this.showPrivacySubmenu=!1,this.showOrdersSubmenu=!1,this.isShowing=!1,this.offerScoreBoardTutorial=!1,this.sidenavToggle=new l.o,this.onToggleSidenav=function(){d.sidenavToggle.emit()}}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.administrationService.getApplicationVersion().subscribe(function(e){e&&(t.version="v".concat(e))},function(t){return console.log(t)}),this.getApplicationDetails(),this.getScoreBoardStatus(),localStorage.getItem("token")?this.getUserDetails():this.userEmail="",this.userService.getLoggedInState().subscribe(function(e){e?t.getUserDetails():t.userEmail=""}),this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){"scoreBoardChallenge"===e.key&&(t.scoreBoardVisible=!0)})})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){var t=this,e=this;this.userService.saveLastLoginIp().subscribe(function(e){t.noop()},function(t){return console.log(t)}),localStorage.removeItem("token"),this.cookieService.remove("token"),sessionStorage.removeItem("bid"),sessionStorage.removeItem("itemTotal"),this.userService.isLoggedIn.next(!1),this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}},{key:"goToProfilePage",value:function(){window.location.replace("./profile")}},{key:"goToDataErasurePage",value:function(){window.location.replace("./dataerasure")}},{key:"noop",value:function(){}},{key:"getScoreBoardStatus",value:function(){var t=this;this.challengeService.find({name:"Score Board"}).subscribe(function(e){t.ngZone.run(function(){t.scoreBoardVisible=e[0].solved})},function(t){return console.log(t)})}},{key:"getUserDetails",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.userEmail=e.email},function(t){return console.log(t)})}},{key:"getApplicationDetails",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.name)&&(t.applicationName=e.application.name),(null==e?void 0:e.application)&&(t.showGitHubLink=e.application.showGitHubLinks),(null==e?void 0:e.application.welcomeBanner.showOnFirstStart)&&e.hackingInstructor.isEnabled&&(t.offerScoreBoardTutorial=e.application.welcomeBanner.showOnFirstStart&&e.hackingInstructor.isEnabled)},function(t){return console.log(t)})}},{key:"isAccounting",value:function(){var t,e=this.loginGuard.tokenDecode();return"accounting"===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.role)}},{key:"startHackingInstructor",value:function(){this.onToggleSidenav(),console.log('Starting instructions for challenge "Score Board"'),o.e(6).then(o.bind(null,"s2oO")).then(function(t){t.startHackingInstructorFor("Score Board")})}}]),t}()).\u0275fac=function(t){return new(t||qu)(l.Pb(hu),l.Pb($i),l.Pb(l.B),l.Pb(Sn),l.Pb(R),l.Pb(d.b),l.Pb(N.b),l.Pb(h),l.Pb(j))},qu.\u0275cmp=l.Jb({type:qu,selectors:[["sidenav"]],outputs:{sidenavToggle:"sidenavToggle"},decls:72,vars:27,consts:[["color","primary",1,"mat-elevation-z6"],["mat-button","",2,"height","0","position","absolute"],["mat-subheader","","translate","","fxHide","","fxShow.lt-md","",1,"side-subHeader"],["fxHide","","fxShow.lt-md",""],["mat-list-item","","routerLink","/login","aria-label","Go to login page",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Go to user profile",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/accounting","aria-label","Go to accounting page",3,"click",4,"ngIf"],["class","parent","aria-label","Show Orders and Payment Menu",3,"click",4,"ngIf"],["class","submenu",3,"ngClass",4,"ngIf"],["class","parent","aria-label","Show Privacy and Security Menu",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Logout",3,"click",4,"ngIf"],["mat-subheader","","translate","",1,"side-subHeader"],["mat-list-item","","routerLink","/contact","aria-label","Go to contact us page",3,"click"],[1,"material-icons"],[1,"menu-text","truncate"],["mat-list-item","","routerLink","/complain","aria-label","Go to complain page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/chatbot","aria-label","Go to chatbot page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/about","aria-label","Go to about us page",3,"click"],["mat-list-item","","routerLink","/photo-wall","aria-label","Go to photo wall",3,"click"],["mat-list-item","","routerLink","/deluxe-membership","aria-label","Go to deluxe membership page",3,"click",4,"ngIf"],["style","margin-bottom: 10px;",4,"ngIf"],["mat-list-item","","routerLink","/score-board","aria-label","Open score-board",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Launch beginners tutorial",3,"click",4,"ngIf"],["mat-list-item","","href","./redirect?to=https://github.com/bkimminich/juice-shop","aria-label","Go to OWASP Juice Shop GitHub page",4,"ngIf"],[1,"appVersion"],[2,"font-size","13px"],[2,"font-size","12px"],[2,"margin-top","10px"],[1,"icon-angular"],[1,"icon-html5"],[1,"icon-sass"],[1,"icon-css3"],[1,"icon-javascript-alt"],[1,"icon-nodejs"],[1,"icon-database-alt2"],[1,"icon-mongodb"],["mat-list-item","","routerLink","/login","aria-label","Go to login page",3,"click"],["mat-list-item","","aria-label","Go to user profile",3,"click"],["mat-list-item","","routerLink","/accounting","aria-label","Go to accounting page",3,"click"],["aria-label","Show Orders and Payment Menu",1,"parent",3,"click"],[1,"menu-button",3,"ngClass"],[1,"submenu",3,"ngClass"],["mat-list-item","","routerLink","/order-history","aria-label","Go to order history page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/recycle","aria-label","Go to recycling page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/address/saved","aria-label","Go to saved address page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/wallet","aria-label","Go to wallet page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/order-history","aria-label","Go to order history page",3,"click"],["mat-list-item","","routerLink","/recycle","aria-label","Go to recycling page",3,"click"],["mat-list-item","","routerLink","/address/saved","aria-label","Go to saved address page",3,"click"],["mat-list-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page",3,"click"],["mat-list-item","","routerLink","/wallet","aria-label","Go to wallet page",3,"click"],["aria-label","Show Privacy and Security Menu",1,"parent",3,"click"],["mat-list-item","","routerLink","privacy-security/privacy-policy","aria-label","Go to privacy policy page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/data-export","aria-label","Go to data export page",3,"click",4,"ngIf"],["mat-list-item","","aria-label","Go to data subject page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/change-password","aria-label","Go to change password page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/two-factor-authentication","aria-label","Go to two factor authentication page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/last-login-ip","aria-label","Go to last login ip page",3,"click",4,"ngIf"],["mat-list-item","","routerLink","privacy-security/privacy-policy","aria-label","Go to privacy policy page",3,"click"],["translate","",1,"menu-text","truncate"],["mat-list-item","","routerLink","privacy-security/data-export","aria-label","Go to data export page",3,"click"],["mat-list-item","","aria-label","Go to data subject page",3,"click"],["mat-list-item","","routerLink","privacy-security/change-password","aria-label","Go to change password page",3,"click"],["mat-list-item","","routerLink","privacy-security/two-factor-authentication","aria-label","Go to two factor authentication page",3,"click"],["mat-list-item","","routerLink","privacy-security/last-login-ip","aria-label","Go to last login ip page",3,"click"],["mat-list-item","","aria-label","Logout",3,"click"],["mat-list-item","","routerLink","/complain","aria-label","Go to complain page",3,"click"],["mat-list-item","","routerLink","/chatbot","aria-label","Go to chatbot page",3,"click"],["mat-list-item","","routerLink","/deluxe-membership","aria-label","Go to deluxe membership page",3,"click"],[2,"margin-bottom","10px"],["mat-list-item","","routerLink","/score-board","aria-label","Open score-board",3,"click"],["matListIcon","",1,"fas","fa-trophy","fa-lg"],["mat-list-item","","aria-label","Launch beginners tutorial",3,"click"],["mat-list-item","","href","./redirect?to=https://github.com/bkimminich/juice-shop","aria-label","Go to OWASP Juice Shop GitHub page"],["matListIcon","",1,"fab","fa-github","fa-lg"]],template:function(t,e){1&t&&(l.Vb(0,"mat-toolbar",0),l.Vb(1,"mat-toolbar-row"),l.Vb(2,"h2"),l.Ic(3),l.Ub(),l.Ub(),l.Ub(),l.Vb(4,"mat-nav-list"),l.Qb(5,"button",1),l.Vb(6,"h3",2),l.Ic(7,"ACCOUNT"),l.Ub(),l.Vb(8,"div",3),l.Gc(9,Iu,6,3,"a",4),l.Gc(10,Cu,5,1,"a",5),l.Gc(11,yu,6,3,"a",6),l.Gc(12,Uu,8,6,"mat-list-item",7),l.Gc(13,_u,7,8,"div",8),l.Gc(14,Pu,8,6,"mat-list-item",9),l.Gc(15,Nu,8,9,"div",8),l.Gc(16,Bu,6,3,"a",10),l.Ub(),l.Qb(17,"mat-divider",3),l.Vb(18,"h3",11),l.Ic(19,"TITLE_CONTACT"),l.Ub(),l.Vb(20,"a",12),l.dc("click",function(){return e.onToggleSidenav()}),l.Vb(21,"i",13),l.Ic(22," feedback "),l.Ub(),l.Vb(23,"span",14),l.Ic(24),l.ic(25,"translate"),l.Ub(),l.Ub(),l.Gc(26,Gu,6,3,"a",15),l.Gc(27,Fu,6,3,"a",16),l.Qb(28,"mat-divider"),l.Vb(29,"h3",11),l.Ic(30,"COMPANY"),l.Ub(),l.Vb(31,"a",17),l.dc("click",function(){return e.onToggleSidenav()}),l.Vb(32,"i",13),l.Ic(33," business_center "),l.Ub(),l.Vb(34,"span",14),l.Ic(35),l.ic(36,"translate"),l.Ub(),l.Ub(),l.Vb(37,"a",18),l.dc("click",function(){return e.onToggleSidenav()}),l.Vb(38,"i",13),l.Ic(39," camera "),l.Ub(),l.Vb(40,"span",14),l.Ic(41),l.ic(42,"translate"),l.Ub(),l.Ub(),l.Gc(43,ju,6,3,"a",19),l.Gc(44,Hu,1,0,"mat-divider",20),l.Gc(45,Qu,5,3,"a",21),l.Gc(46,zu,6,3,"a",22),l.Gc(47,Wu,4,0,"a",23),l.Ub(),l.Vb(48,"div",24),l.Vb(49,"span"),l.Vb(50,"span",25),l.Ic(51),l.Ub(),l.Qb(52,"br"),l.Vb(53,"span",26),l.Ic(54),l.Ub(),l.Qb(55,"br"),l.Vb(56,"div",27),l.Qb(57,"i",28),l.Ic(58,"\xa0 "),l.Qb(59,"i",29),l.Ic(60,"\xa0 "),l.Qb(61,"i",30),l.Ic(62,"\xa0 "),l.Qb(63,"i",31),l.Ic(64,"\xa0 "),l.Qb(65,"i",32),l.Ic(66,"\xa0 "),l.Qb(67,"i",33),l.Ic(68,"\xa0 "),l.Qb(69,"i",34),l.Ic(70,"\xa0 "),l.Qb(71,"i",35),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Kc(" ",e.applicationName,""),l.Db(6),l.nc("ngIf",!e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()&&e.isAccounting()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.showOrdersSubmenu),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.showPrivacySubmenu),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(8),l.Kc(" ",l.jc(25,21,"SECTION_CUSTOMER_FEEDBACK")," "),l.Db(2),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(8),l.Kc(" ",l.jc(36,23,"TITLE_ABOUT")," "),l.Db(6),l.Kc(" ",l.jc(42,25,"LABEL_PHOTO_WALL")," "),l.Db(2),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.scoreBoardVisible||e.showGitHubLink),l.Db(1),l.nc("ngIf",e.scoreBoardVisible),l.Db(1),l.nc("ngIf",!e.scoreBoardVisible&&e.offerScoreBoardTutorial),l.Db(1),l.nc("ngIf",e.showGitHubLink),l.Db(4),l.Jc(e.applicationName),l.Db(3),l.Jc(e.version))},directives:[gu.a,gu.c,vu.e,S.a,vu.d,U.a,J.b,Y.l,sn.a,vu.b,N.d,Fe.a,Y.j,J.a,vu.a],pipes:[U.d],styles:["mat-toolbar[_ngcontent-%COMP%]{height:auto;min-width:100%;padding-bottom:5px;width:100%}a[_ngcontent-%COMP%]{text-decoration:none!important}.menu-text[_ngcontent-%COMP%]{padding-left:10px}.mat-list-base[_ngcontent-%COMP%], .mat-list-icon[_ngcontent-%COMP%], .mat-list-item[_ngcontent-%COMP%]{padding:0!important}.toolbar-title[_ngcontent-%COMP%]{margin:0 16px}.mat-subheader[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.app-nav-list-icon[_ngcontent-%COMP%]{margin:0 12px}.side-subHeader[_ngcontent-%COMP%]{font-weight:300}mat-nav-list[_ngcontent-%COMP%]{margin-bottom:50px}.menu-button[_ngcontent-%COMP%]{transform:rotate(0deg);transition:.3s ease-in-out}.menu-button.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu[_ngcontent-%COMP%]{overflow-y:hidden;padding-left:30px;transform:scaleY(0);transform-origin:top;transition:transform .3s ease}.submenu.expanded[_ngcontent-%COMP%]{transform:scaleY(1)}.appVersion[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px;text-align:center}.truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),qu),Ju=((Ku=function(){function t(e){i(this,t),this.http=e,this.hostServer="."}return r(t,[{key:"getLanguages",value:function(){return this.http.get("".concat(this.hostServer,"/rest/languages")).pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||Ku)(l.Zb(b.b))},Ku.\u0275prov=l.Lb({token:Ku,factory:Ku.\u0275fac,providedIn:"root"}),Ku),$u=o("lGt0"),Zu=o("rJgo");function Xu(t,e){1&t&&(l.Vb(0,"button",38),l.Vb(1,"mat-icon"),l.Ic(2," exit_to_app "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"TITLE_LOGIN")," "))}function tb(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",39),l.dc("click",function(){return l.yc(n),l.hc().goToProfilePage()}),l.Vb(1,"mat-icon"),l.Ic(2," account_circle "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(4),l.Kc(" ",a.userEmail," ")}}function eb(t,e){1&t&&(l.Vb(0,"button",40),l.Vb(1,"mat-icon"),l.Ic(2," account_balance "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"ACCOUNTING")," "))}function nb(t,e){if(1&t&&(l.Vb(0,"button",41),l.Vb(1,"mat-icon"),l.Ic(2," check_circle_outline "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t){l.hc();var n=l.vc(71);l.nc("matMenuTriggerFor",n),l.Db(4),l.Kc(" ",l.jc(5,2,"ORDERS_AND_PAYMENT")," ")}}function ab(t,e){if(1&t&&(l.Vb(0,"button",42),l.Vb(1,"mat-icon"),l.Ic(2," security "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t){l.hc();var n=l.vc(38);l.nc("matMenuTriggerFor",n),l.Db(4),l.Kc(" ",l.jc(5,2,"PRIVACY_AND_SECURITY")," ")}}function ib(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",43),l.dc("click",function(){return l.yc(n),l.hc().logout()}),l.Vb(1,"mat-icon"),l.Ic(2," power_settings_new "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()}2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"TITLE_LOGOUT")," "))}function ob(t,e){if(1&t&&(l.Vb(0,"button",44),l.Vb(1,"mat-icon"),l.Ic(2," shopping_cart "),l.Ub(),l.Vb(3,"span",20),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Vb(6,"span",45),l.Ic(7),l.Ub(),l.Ub()),2&t){var n=l.hc();l.Db(4),l.Kc(" ",l.jc(5,2,"TITLE_BASKET"),""),l.Db(3),l.Jc(n.itemTotal)}}function rb(t,e){1&t&&l.Qb(0,"span"),2&t&&l.Fb("flag-icon flag-icon-"+e.$implicit)}function cb(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-radio-button",46),l.dc("click",function(){l.yc(n);var t=e.$implicit;return l.hc().changeLanguage(t.key)}),l.Vb(1,"div",47),l.Gc(2,rb,1,2,"span",48),l.Ic(3),l.Ub(),l.Qb(4,"i"),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc();l.oc("checked",i.selectedLanguage===a),l.oc("aria-label",a.lang),l.nc("value",a),l.Db(2),l.nc("ngForOf",a.icons),l.Db(1),l.Kc(" ",null==a?null:a.lang," "),l.Db(1),l.Fb("fas fa-thermometer-"+a.gauge+(a.percentage>70?" confirmation":" error"))}}function sb(t,e){1&t&&(l.Vb(0,"button",49),l.Vb(1,"mat-icon"),l.Ic(2," my_location "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"MY_SAVED_ADRESSES")," "))}function lb(t,e){1&t&&(l.Vb(0,"button",50),l.Vb(1,"mat-icon"),l.Ic(2," credit_card "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"MY_PAYMENT_OPTIONS")," "))}function ub(t,e){1&t&&(l.Vb(0,"button",51),l.Vb(1,"mat-icon"),l.Ic(2," account_balance_wallet "),l.Ub(),l.Vb(3,"span"),l.Ic(4),l.ic(5,"translate"),l.Ub(),l.Ub()),2&t&&(l.Db(4),l.Kc(" ",l.jc(5,1,"DIGITAL_WALLET")," "))}var bb=function(){return["privacy-security/privacy-policy"]},db=function(){return["privacy-security/data-export"]},mb=function(){return["privacy-security/change-password"]},fb=function(){return["privacy-security/two-factor-authentication"]},pb=function(){return["privacy-security/last-login-ip"]};g.b.add(I.w,I.F,I.I,I.J,I.h,I.c,I.V,I.u,I.H,I.fb,I.C,I.x,I.cb,v.d,C.b,I.N,I.Q,I.P,I.R,I.O),g.a.watch();var hb,gb=((hb=function(){function t(e,n,a,o,r,c,s,u,b,d,m,f,p){var h=this;i(this,t),this.administrationService=e,this.challengeService=n,this.configurationService=a,this.userService=o,this.ngZone=r,this.cookieService=c,this.router=s,this.translate=u,this.io=b,this.langService=d,this.loginGuard=m,this.snackBar=f,this.basketService=p,this.userEmail="",this.languages=[],this.selectedLanguage="placeholder",this.version="",this.applicationName="OWASP Juice Shop",this.showGitHubLink=!0,this.logoSrc="assets/public/images/JuiceShop_Logo.png",this.scoreBoardVisible=!1,this.shortKeyLang="placeholder",this.itemTotal=0,this.sidenavToggle=new l.o,this.onToggleSidenav=function(){h.sidenavToggle.emit()}}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.getLanguages(),this.basketService.getItemTotal().subscribe(function(e){return t.itemTotal=e}),this.administrationService.getApplicationVersion().subscribe(function(e){e&&(t.version="v".concat(e))},function(t){return console.log(t)}),this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a;if((null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.name)&&(t.applicationName=e.application.name),(null==e?void 0:e.application)&&(t.showGitHubLink=e.application.showGitHubLinks),null===(a=null==e?void 0:e.application)||void 0===a?void 0:a.logo){var i=e.application.logo;"http"===i.substring(0,4)&&(i=decodeURIComponent(i.substring(i.lastIndexOf("/")+1))),t.logoSrc="assets/public/images/"+i}},function(t){return console.log(t)}),localStorage.getItem("token")?this.getUserDetails():this.userEmail="",this.userService.getLoggedInState().subscribe(function(e){e?t.getUserDetails():t.userEmail=""}),this.getScoreBoardStatus(),this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){"scoreBoardChallenge"===e.key&&(t.scoreBoardVisible=!0)})})}},{key:"checkLanguage",value:function(){if(this.cookieService.get("language")){var t=this.cookieService.get("language");this.translate.use(t),this.selectedLanguage=this.languages.find(function(e){return e.key===t}),this.shortKeyLang=this.languages.find(function(e){return e.key===t}).shortKey}else this.changeLanguage("en"),this.selectedLanguage=this.languages.find(function(t){return"en"===t.key}),this.shortKeyLang=this.languages.find(function(t){return"en"===t.key}).shortKey}},{key:"search",value:function(t){var e=this;if(t){var n={queryParams:{q:t}};this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/search"],n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}else this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/search"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}},{key:"getUserDetails",value:function(){var t=this;this.userService.whoAmI().subscribe(function(e){t.userEmail=e.email},function(t){return console.log(t)})}},{key:"isLoggedIn",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){var t=this,e=this;this.userService.saveLastLoginIp().subscribe(function(e){t.noop()},function(t){return console.log(t)}),localStorage.removeItem("token"),this.cookieService.remove("token"),sessionStorage.removeItem("bid"),sessionStorage.removeItem("itemTotal"),this.userService.isLoggedIn.next(!1),this.ngZone.run(Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.router.navigate(["/"]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})))}},{key:"changeLanguage",value:function(t){this.translate.use(t);var e=new Date;if(e.setFullYear(e.getFullYear()+1),this.cookieService.put("language",t,{expires:e}),this.languages.find(function(e){return e.key===t})){var n=this.languages.find(function(e){return e.key===t});this.shortKeyLang=n.shortKey,this.snackBar.open("Language has been changed to ".concat(n.lang),"Force page reload",{duration:5e3}).onAction().subscribe(function(){location.reload()})}}},{key:"getScoreBoardStatus",value:function(){var t=this;this.challengeService.find({name:"Score Board"}).subscribe(function(e){t.ngZone.run(function(){t.scoreBoardVisible=e[0].solved})},function(t){return console.log(t)})}},{key:"goToProfilePage",value:function(){window.location.replace("./profile")}},{key:"goToDataErasurePage",value:function(){window.location.replace("./dataerasure")}},{key:"noop",value:function(){}},{key:"getLanguages",value:function(){var t=this;this.langService.getLanguages().subscribe(function(e){t.languages=e,t.checkLanguage()})}},{key:"isAccounting",value:function(){var t=this.loginGuard.tokenDecode();return(null==t?void 0:t.data)&&"accounting"===t.data.role}}]),t}()).\u0275fac=function(t){return new(t||hb)(l.Pb(hu),l.Pb($i),l.Pb(h),l.Pb(R),l.Pb(l.B),l.Pb(d.b),l.Pb(N.b),l.Pb(U.e),l.Pb(Sn),l.Pb(Ju),l.Pb(j),l.Pb(W.a),l.Pb(G))},hb.\u0275cmp=l.Jb({type:hb,selectors:[["app-navbar"]],outputs:{sidenavToggle:"sidenavToggle"},decls:88,vars:43,consts:[["color","primary","fxLayout","column","xmlns","http://www.w3.org/1999/html",1,"mat-elevation-z6"],["fxLayout","row"],["mat-button","","aria-label","Open Sidenav","matTooltipPosition","below",2,"height","48px","width","48px",3,"matTooltip","click"],["mat-button","","routerLink","/search","aria-label","Back to homepage",1,"buttons",2,"height","60px"],[1,"logo",3,"src","alt"],["fxHide.lt-sm","","fxShow","",2,"font-size","x-large"],[1,"fill-remaining-space"],["id","searchQuery","aria-label","Click to search",3,"onEnter"],["searchControl",""],["mat-button","","fxHide.lt-md","","fxShow","","aria-label","Show/hide account menu","id","navbarAccount",1,"buttons",2,"vertical-align","middle","height","48px",3,"matMenuTriggerFor"],[1,"material-icons"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/login","aria-label","Go to login page","id","navbarLoginButton",4,"ngIf"],["mat-menu-item","","aria-label","Go to user profile",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/accounting","aria-label","Go to accounting page",4,"ngIf"],["mat-menu-item","","aria-label","Show Orders and Payment Menu",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","aria-label","Show Privacy and Security Menu",3,"matMenuTriggerFor",4,"ngIf"],["mat-menu-item","","aria-label","Logout","id","navbarLogoutButton",3,"click",4,"ngIf"],["mat-button","","routerLink","/basket","style","height:48px;","class","buttons","aria-label","Show the shopping cart",4,"ngIf"],["mat-button","","aria-label","Language selection menu","matTooltipPosition","below",1,"buttons",2,"height","48px","width","48px",3,"matMenuTriggerFor","matTooltip"],["fxHide.lt-md","","fxShow",""],[3,"overlapTrigger"],["menu","matMenu"],["class","mat-menu-item","style","width: 240px;",3,"value","checked","aria-label","click",4,"ngFor","ngForOf"],["privacySubMenu","matMenu"],["mat-menu-item","","aria-label","Go to privacy policy page",3,"routerLink"],["translate",""],["mat-menu-item","","aria-label","Go to data export page",3,"routerLink"],["mat-menu-item","","aria-label","Go to data subject page",3,"click"],["mat-menu-item","","aria-label","Go to change password page",3,"routerLink"],["mat-menu-item","","aria-label","Go to two factor authentication page",3,"routerLink"],["mat-menu-item","","aria-label","Go to last login ip page",3,"routerLink"],["ordersSubMenu","matMenu"],["mat-menu-item","","routerLink","/order-history","aria-label","Go to order history page"],["mat-menu-item","","routerLink","/recycle","aria-label","Go to recycling page"],["mat-menu-item","","routerLink","/address/saved","aria-label","Go to saved address page",4,"ngIf"],["mat-menu-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page",4,"ngIf"],["mat-menu-item","","routerLink","/wallet","aria-label","Go to wallet page",4,"ngIf"],["mat-menu-item","","routerLink","/login","aria-label","Go to login page","id","navbarLoginButton"],["mat-menu-item","","aria-label","Go to user profile",3,"click"],["mat-menu-item","","routerLink","/accounting","aria-label","Go to accounting page"],["mat-menu-item","","aria-label","Show Orders and Payment Menu",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","Show Privacy and Security Menu",3,"matMenuTriggerFor"],["mat-menu-item","","aria-label","Logout","id","navbarLogoutButton",3,"click"],["mat-button","","routerLink","/basket","aria-label","Show the shopping cart",1,"buttons",2,"height","48px"],[1,"fa-layers-counter","fa-layers-top-right","fa-3x","warn-notification",2,"font-size","47px"],[1,"mat-menu-item",2,"width","240px",3,"value","checked","aria-label","click"],[2,"display","inline-block","width","200px","margin-left","5px"],[3,"class",4,"ngFor","ngForOf"],["mat-menu-item","","routerLink","/address/saved","aria-label","Go to saved address page"],["mat-menu-item","","routerLink","/saved-payment-methods","aria-label","Go to saved payment methods page"],["mat-menu-item","","routerLink","/wallet","aria-label","Go to wallet page"]],template:function(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-toolbar",0),l.Vb(1,"mat-toolbar-row",1),l.Vb(2,"button",2),l.dc("click",function(){return e.onToggleSidenav()}),l.ic(3,"translate"),l.Vb(4,"mat-icon"),l.Ic(5,"menu"),l.Ub(),l.Ub(),l.Vb(6,"button",3),l.Qb(7,"img",4),l.Vb(8,"span",5),l.Ic(9),l.Ub(),l.Ub(),l.Qb(10,"span",6),l.Vb(11,"mat-search-bar",7,8),l.dc("onEnter",function(){l.yc(n);var t=l.vc(12);return e.search(t.value)}),l.Ub(),l.Vb(13,"button",9),l.Vb(14,"i",10),l.Ic(15," account_circle "),l.Ub(),l.Vb(16,"span"),l.Ic(17),l.ic(18,"translate"),l.Ub(),l.Ub(),l.Vb(19,"mat-menu",null,11),l.Gc(21,Xu,6,3,"button",12),l.Gc(22,tb,5,1,"button",13),l.Gc(23,eb,6,3,"button",14),l.Gc(24,nb,6,4,"button",15),l.Gc(25,ab,6,4,"button",16),l.Gc(26,ib,6,3,"button",17),l.Ub(),l.Gc(27,ob,8,4,"button",18),l.Vb(28,"button",19),l.ic(29,"translate"),l.Vb(30,"mat-icon"),l.Ic(31," language "),l.Ub(),l.Vb(32,"span",20),l.Ic(33),l.Ub(),l.Ub(),l.Vb(34,"mat-menu",21,22),l.Gc(36,cb,5,7,"mat-radio-button",23),l.Ub(),l.Vb(37,"mat-menu",null,24),l.Vb(39,"button",25),l.Vb(40,"mat-icon"),l.Ic(41," assignment "),l.Ub(),l.Vb(42,"span",26),l.Ic(43,"TITLE_PRIVACY_POLICY"),l.Ub(),l.Ub(),l.Vb(44,"button",27),l.Vb(45,"mat-icon"),l.Ic(46," get_app "),l.Ub(),l.Vb(47,"span",26),l.Ic(48,"TITLE_REQUEST_DATA_EXPORT"),l.Ub(),l.Ub(),l.Vb(49,"button",28),l.dc("click",function(){return e.goToDataErasurePage()}),l.Vb(50,"mat-icon"),l.Ic(51," delete_forever "),l.Ub(),l.Vb(52,"span",26),l.Ic(53,"DATA_SUBJECT_TITLE"),l.Ub(),l.Ub(),l.Qb(54,"mat-divider"),l.Vb(55,"button",29),l.Vb(56,"mat-icon"),l.Ic(57," edit "),l.Ub(),l.Vb(58,"span",26),l.Ic(59,"TITLE_CHANGE_PASSWORD"),l.Ub(),l.Ub(),l.Vb(60,"button",30),l.Vb(61,"mat-icon"),l.Ic(62," exposure_plus_2 "),l.Ub(),l.Vb(63,"span",26),l.Ic(64,"TITLE_TWO_FACTOR_AUTH_CONFIG"),l.Ub(),l.Ub(),l.Vb(65,"button",31),l.Vb(66,"mat-icon"),l.Ic(67," place "),l.Ub(),l.Vb(68,"span",26),l.Ic(69,"LAST_LOGIN_IP"),l.Ub(),l.Ub(),l.Ub(),l.Vb(70,"mat-menu",null,32),l.Vb(72,"button",33),l.Vb(73,"mat-icon"),l.Ic(74," archive "),l.Ub(),l.Vb(75,"span"),l.Ic(76),l.ic(77,"translate"),l.Ub(),l.Ub(),l.Vb(78,"button",34),l.Vb(79,"mat-icon"),l.Ic(80," autorenew "),l.Ub(),l.Vb(81,"span"),l.Ic(82),l.ic(83,"translate"),l.Ub(),l.Ub(),l.Qb(84,"mat-divider"),l.Gc(85,sb,6,3,"button",35),l.Gc(86,lb,6,3,"button",36),l.Gc(87,ub,6,3,"button",37),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=l.vc(20),i=l.vc(35);l.Db(2),l.oc("matTooltip",l.jc(3,28,"SIDENAV_HINT")),l.Db(5),l.oc("alt",e.applicationName),l.nc("src",e.logoSrc,l.Bc),l.Db(2),l.Kc(" ",e.applicationName," "),l.Db(4),l.nc("matMenuTriggerFor",a),l.Db(4),l.Kc(" ",l.jc(18,30,"ACCOUNT")," "),l.Db(4),l.nc("ngIf",!e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()&&e.isAccounting()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.oc("matTooltip",l.jc(29,32,"LANGUAGE_SEL_HINT")),l.nc("matMenuTriggerFor",i),l.Db(5),l.Kc(" ",e.shortKeyLang," "),l.Db(1),l.nc("overlapTrigger",!0),l.Db(2),l.nc("ngForOf",e.languages),l.Db(3),l.nc("routerLink",l.rc(38,bb)),l.Db(5),l.nc("routerLink",l.rc(39,db)),l.Db(11),l.nc("routerLink",l.rc(40,mb)),l.Db(5),l.nc("routerLink",l.rc(41,fb)),l.Db(5),l.nc("routerLink",l.rc(42,pb)),l.Db(11),l.Kc(" ",l.jc(77,34,"LABEL_ORDER_HISTORY")," "),l.Db(6),l.Kc(" ",l.jc(83,36,"NAV_RECYCLE")," "),l.Db(3),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn()),l.Db(1),l.nc("ngIf",e.isLoggedIn())}},directives:[gu.a,w.d,gu.c,S.a,je.a,Fe.a,N.c,J.b,$u.b,Zu.d,Zu.a,Y.l,Y.k,Zu.b,U.a,sn.a,fi.a],pipes:[U.d],styles:["mat-toolbar[_ngcontent-%COMP%]{height:auto;min-width:100%;padding-bottom:5px;width:100%}.mat-button[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.logo[_ngcontent-%COMP%]{max-height:60px;width:auto}.avatar[_ngcontent-%COMP%]{background-repeat:no-repeat;border-radius:50%;display:inline-block;max-height:35px;max-width:35px;padding:0;pointer-events:none}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.language-select[_ngcontent-%COMP%]{margin-left:10px;width:11%}  .mat-select-value-text{font-size:15px}.user-info[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.flag-icon[_ngcontent-%COMP%]{margin-right:2px}[_nghost-%COMP%]     mat-form-field{background:transparent!important}[_nghost-%COMP%]     mat-icon{background:transparent!important}mat-search-bar[_ngcontent-%COMP%]{font-size:13px;margin-right:14px}.buttons[_ngcontent-%COMP%]{width:auto}@media screen and (max-width:959px){.buttons[_ngcontent-%COMP%]{width:48px}}[_nghost-%COMP%]     .mat-form-field-infix{max-width:250px!important;width:14vw!important}"]}),hb);function vb(t,e){1&t&&(l.Vb(0,"span",2),l.Ic(1,"RESTART_REQUIRED"),l.Ub())}function Ib(t,e){1&t&&(l.Vb(0,"span",2),l.Ic(1,"RESET_HACKING_PROGRESS"),l.Ub())}function Cb(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-card",1),l.Qb(1,"mat-card-header"),l.Vb(2,"mat-card-content"),l.Vb(3,"span",2),l.Ic(4,"NOTIFICATION_SERVER_STARTED"),l.Ub(),l.Ic(5),l.Vb(6,"button",3),l.dc("click",function(){return l.yc(n),l.hc().closeNotification()}),l.Ic(7,"X"),l.Ub(),l.Vb(8,"button",4),l.dc("click",function(){return l.yc(n),l.hc().clearProgress()}),l.Vb(9,"mat-icon"),l.Ic(10," delete_forever "),l.Ub(),l.Gc(11,vb,2,0,"span",5),l.Gc(12,Ib,2,0,"span",5),l.Ub(),l.Ub(),l.Ub()}if(2&t){var a=l.hc();l.Db(5),l.Kc(": ",a.hackingProgress.autoRestoreMessage,"\xa0"),l.Db(3),l.nc("disabled",a.hackingProgress.cleared),l.Db(3),l.nc("ngIf",a.hackingProgress.cleared),l.Db(1),l.nc("ngIf",!a.hackingProgress.cleared)}}var yb,wb,Ub=((wb=function(){function t(e,n,a,o,r,c){i(this,t),this.ngZone=e,this.challengeService=n,this.translate=a,this.cookieService=o,this.ref=r,this.io=c,this.hackingProgress={}}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.io.socket().on("server started",function(){var e=t.cookieService.get("continueCode"),n=t.cookieService.get("continueCodeFindIt"),a=t.cookieService.get("continueCodeFixIt");e&&t.challengeService.restoreProgress(encodeURIComponent(e)).subscribe(function(){t.translate.get("AUTO_RESTORED_PROGRESS").subscribe(function(e){t.hackingProgress.autoRestoreMessage=e},function(e){t.hackingProgress.autoRestoreMessage=e})},function(e){console.log(e),t.translate.get("AUTO_RESTORE_PROGRESS_FAILED",{error:e}).subscribe(function(e){t.hackingProgress.autoRestoreMessage=e},function(e){t.hackingProgress.autoRestoreMessage=e})}),n&&t.challengeService.restoreProgressFindIt(encodeURIComponent(n)).subscribe(function(){},function(t){console.log(t)}),a&&t.challengeService.restoreProgressFixIt(encodeURIComponent(a)).subscribe(function(){},function(t){console.log(t)}),t.ref.detectChanges()})})}},{key:"closeNotification",value:function(){this.hackingProgress.autoRestoreMessage=null}},{key:"clearProgress",value:function(){this.cookieService.remove("continueCode"),this.cookieService.remove("continueCodeFixIt"),this.cookieService.remove("continueCodeFindIt"),this.cookieService.remove("token"),sessionStorage.removeItem("bid"),sessionStorage.removeItem("itemTotal"),localStorage.removeItem("token"),localStorage.removeItem("displayedDifficulties"),localStorage.removeItem("showSolvedChallenges"),localStorage.removeItem("showDisabledChallenges"),localStorage.removeItem("showOnlyTutorialChallenges"),localStorage.removeItem("displayedChallengeCategories"),this.hackingProgress.cleared=!0}}]),t}()).\u0275fac=function(t){return new(t||wb)(l.Pb(l.B),l.Pb($i),l.Pb(U.e),l.Pb(d.b),l.Pb(l.h),l.Pb(Sn))},wb.\u0275cmp=l.Jb({type:wb,selectors:[["app-server-started-notification"]],decls:1,vars:1,consts:[["class","container primary-notification mat-elevation-z4",4,"ngIf"],[1,"container","primary-notification","mat-elevation-z4"],["translate",""],["id","closeButton","mat-button","",3,"click"],["mat-stroked-button","",3,"disabled","click"],["translate","",4,"ngIf"]],template:function(t,e){1&t&&l.Gc(0,Cb,13,4,"mat-card",0),2&t&&l.nc("ngIf",e.hackingProgress.autoRestoreMessage)},directives:[Y.l,y.a,y.c,y.b,U.a,S.a,Fe.a],styles:[".container[_ngcontent-%COMP%]{font-size:14px;margin:40px}#closeButton[_ngcontent-%COMP%]{float:right}"]}),wb),Sb=((yb=function(){function t(e){i(this,t),this.http=e,this.hostServer="."}return r(t,[{key:"getCountryMapping",value:function(){return this.http.get(this.hostServer+"/rest/country-mapping").pipe(Object(p.a)(function(t){throw t}))}}]),t}()).\u0275fac=function(t){return new(t||yb)(l.Zb(b.b))},yb.\u0275prov=l.Lb({token:yb,factory:yb.\u0275fac,providedIn:"root"}),yb);function kb(t,e){if(1&t&&(l.Qb(0,"span"),l.ic(1,"lowercase")),2&t){var n=l.hc(2).$implicit;l.Gb("flag-icon flag-icon-",l.jc(1,3,n.country.code),"")}}function Db(t,e){1&t&&(l.Vb(0,"mat-icon"),l.Ic(1,"my_location"),l.Ub())}function Vb(t,e){if(1&t&&(l.Vb(0,"span"),l.Ic(1),l.Ub()),2&t){var n=l.hc(2).$implicit;l.Db(1),l.Kc(" ",n.country.name," ")}}function xb(t,e){if(1&t&&(l.Vb(0,"span",5),l.Gc(1,kb,2,5,"span",8),l.Gc(2,Db,2,0,"mat-icon",9),l.Ic(3,"\xa0 "),l.Gc(4,Vb,2,1,"span",9),l.Ub()),2&t){var n=l.hc(2);l.Db(1),l.nc("ngIf","flag"===n.showCtfCountryDetailsInNotifications||"both"===n.showCtfCountryDetailsInNotifications),l.Db(1),l.nc("ngIf","name"===n.showCtfCountryDetailsInNotifications),l.Db(2),l.nc("ngIf","name"===n.showCtfCountryDetailsInNotifications||"both"===n.showCtfCountryDetailsInNotifications)}}function Ob(t,e){if(1&t){var n=l.Wb();l.Vb(0,"mat-card",2),l.Vb(1,"div"),l.Ic(2),l.Vb(3,"button",3),l.dc("click",function(t){l.yc(n);var a=e.index;return l.hc().closeNotification(a,t.shiftKey)}),l.Ic(4,"X"),l.Ub(),l.Ub(),l.Qb(5,"br"),l.Vb(6,"div",4),l.Vb(7,"span",5),l.Vb(8,"mat-icon"),l.Ic(9,"outlined_flag"),l.Ub(),l.Ic(10),l.Ub(),l.Ic(11,"\xa0 "),l.Vb(12,"button",6),l.dc("cbOnSuccess",function(){return e.$implicit.copied=!0}),l.Vb(13,"mat-icon"),l.Ic(14,"content_copy"),l.Ub(),l.Vb(15,"span",4),l.Ic(16),l.ic(17,"translate"),l.Ub(),l.Vb(18,"span",4),l.Ic(19),l.ic(20,"translate"),l.Ub(),l.Ub(),l.Qb(21,"br"),l.Gc(22,xb,5,3,"span",7),l.Ub(),l.Ub()}if(2&t){var a=e.$implicit,i=l.hc();l.Db(2),l.Jc(a.message),l.Db(4),l.nc("hidden",!i.showCtfFlagsInNotifications),l.Db(4),l.Kc(" ",a.flag,""),l.Db(2),l.nc("cbContent",a.flag)("disabled",a.copied),l.Db(3),l.nc("hidden",!a.copied),l.Db(1),l.Jc(l.jc(17,10,"COPY_SUCCESS")),l.Db(2),l.nc("hidden",a.copied),l.Db(1),l.Jc(l.jc(20,12,"COPY_TO_CLIPBOARD")),l.Db(3),l.nc("ngIf","none"!==i.showCtfCountryDetailsInNotifications)}}var _b,Pb=((_b=function(){function t(e,n,a,o,r,c,s,l){i(this,t),this.ngZone=e,this.configurationService=n,this.challengeService=a,this.countryMappingService=o,this.translate=r,this.cookieService=c,this.ref=s,this.io=l,this.notifications=[],this.showCtfFlagsInNotifications=!1,this.showCtfCountryDetailsInNotifications="none"}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){t.io.socket().on("challenge solved",function(e){(null==e?void 0:e.challenge)&&(e.hidden||(t.showNotification(e),o.e(1).then(o.bind(null,"5RHJ")).then(function(t){t.shootConfetti()})),e.isRestore||t.saveProgress(),t.io.socket().emit("notification received",e.flag))})}),this.configurationService.getApplicationConfiguration().subscribe(function(e){(null==e?void 0:e.ctf)&&(t.showCtfFlagsInNotifications=!!e.ctf.showFlagsInNotifications&&e.ctf.showFlagsInNotifications,e.ctf.showCountryDetailsInNotifications?(t.showCtfCountryDetailsInNotifications=e.ctf.showCountryDetailsInNotifications,"none"!==e.ctf.showCountryDetailsInNotifications&&t.countryMappingService.getCountryMapping().subscribe(function(e){t.countryMap=e},function(t){return console.log(t)})):t.showCtfCountryDetailsInNotifications="none")})}},{key:"closeNotification",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?this.notifications=[]:this.notifications.splice(t,1),this.ref.detectChanges()}},{key:"showNotification",value:function(t){var e=this;this.translate.get("CHALLENGE_SOLVED",{challenge:t.challenge}).toPromise().then(function(t){return t},function(t){return t}).then(function(n){var a;e.showCtfCountryDetailsInNotifications&&"none"!==e.showCtfCountryDetailsInNotifications&&(a=e.countryMap[t.key]),e.notifications.push({message:n,flag:t.flag,country:a,copied:!1}),e.ref.detectChanges()})}},{key:"saveProgress",value:function(){var t=this;this.challengeService.continueCode().subscribe(function(e){if(!e)throw new Error("Received invalid continue code from the sever!");var n=new Date;n.setFullYear(n.getFullYear()+1),t.cookieService.put("continueCode",e,{expires:n})},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||_b)(l.Pb(l.B),l.Pb(h),l.Pb($i),l.Pb(Sb),l.Pb(U.e),l.Pb(d.b),l.Pb(l.h),l.Pb(Sn))},_b.\u0275cmp=l.Jb({type:_b,selectors:[["app-challenge-solved-notification"]],decls:2,vars:1,consts:[[1,"container","challenge-solved-toast","mat-elevation-z4"],["class","accent-notification",4,"ngFor","ngForOf"],[1,"accent-notification"],["id","closeButton","mat-button","",3,"click"],[3,"hidden"],[1,"icon-box"],["ngxClipboard","","mat-stroked-button","",3,"cbContent","disabled","cbOnSuccess"],["class","icon-box",4,"ngIf"],[3,"class",4,"ngIf"],[4,"ngIf"]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Gc(1,Ob,23,14,"mat-card",1),l.Ub()),2&t&&(l.Db(1),l.nc("ngForOf",e.notifications))},directives:[Y.k,y.a,S.a,Fe.a,pu.a,Y.l],pipes:[U.d,Y.i],styles:[".container[_ngcontent-%COMP%]{font-size:14px;margin:40px}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}#closeButton[_ngcontent-%COMP%]{float:right}.icon-box[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}"]}),_b);function Tb(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",4),l.dc("click",function(){return l.yc(n),l.hc().startHackingInstructor()}),l.ic(1,"translate"),l.Vb(2,"mat-icon"),l.Ic(3," school "),l.Ub(),l.Vb(4,"span",5),l.Ic(5,"BTN_GETTING_STARTED"),l.Ub(),l.Ub()}2&t&&l.nc("matTooltip",l.jc(1,1,"SCORE_BOARD_HACKING_INSTRUCTOR"))}function Ab(t,e){if(1&t){var n=l.Wb();l.Vb(0,"button",6),l.dc("click",function(){return l.yc(n),l.hc().closeWelcome()}),l.Vb(1,"mat-icon"),l.Ic(2," visibility_off "),l.Ub(),l.Vb(3,"span",7),l.Ic(4,"BTN_DISMISS"),l.Ub(),l.Ub()}}var Lb,Eb,Mb,Rb,Nb=((Rb=function(){function t(e,n,a){i(this,t),this.dialogRef=e,this.configurationService=n,this.cookieService=a,this.title="Welcome to OWASP Juice Shop",this.message="<p>Being a web application with a vast number of intended security vulnerabilities, the <strong>OWASP Juice Shop</strong> is supposed to be the opposite of a best practice or template application for web developers: It is an awareness, training, demonstration and exercise tool for security risks in modern web applications. The <strong>OWASP Juice Shop</strong> is an open-source project hosted by the non-profit <a href='https://owasp.org' target='_blank'>Open Web Application Security Project (OWASP)</a> and is developed and maintained by volunteers. Check out the link below for more information and documentation on the project.</p><h1><a href='https://owasp-juice.shop' target='_blank'>https://owasp-juice.shop</a></h1>",this.showHackingInstructor=!0,this.showDismissBtn=!0,this.welcomeBannerStatusCookieKey="welcomebanner_status"}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.configurationService.getApplicationConfiguration().subscribe(function(e){var n,a,i;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.welcomeBanner)&&(t.title=e.application.welcomeBanner.title,t.message=e.application.welcomeBanner.message),t.showHackingInstructor=null===(a=null==e?void 0:e.hackingInstructor)||void 0===a?void 0:a.isEnabled,t.showHackingInstructor&&(null===(i=null==e?void 0:e.challenges)||void 0===i?void 0:i.restrictToTutorialsFirst)&&(t.dialogRef.disableClose=!0,t.showDismissBtn=!1)},function(t){return console.log(t)})}},{key:"startHackingInstructor",value:function(){this.closeWelcome(),console.log('Starting instructions for challenge "Score Board"'),o.e(6).then(o.bind(null,"s2oO")).then(function(t){t.startHackingInstructorFor("Score Board")})}},{key:"closeWelcome",value:function(){this.dialogRef.close();var t=new Date;t.setFullYear(t.getFullYear()+1),this.cookieService.put(this.welcomeBannerStatusCookieKey,"dismiss",{expires:t})}}]),t}()).\u0275fac=function(t){return new(t||Rb)(l.Pb(nn.g),l.Pb(h),l.Pb(d.b))},Rb.\u0275cmp=l.Jb({type:Rb,selectors:[["app-welcome-banner"]],decls:8,vars:4,consts:[[1,"mat-typography"],[1,"text-justify",3,"innerHtml"],["mat-raised-button","","color","warn","matTooltipPosition","above",3,"matTooltip","click",4,"ngIf"],["mat-raised-button","","class","close-dialog","color","primary","aria-label","Close Welcome Banner",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","matTooltipPosition","above",3,"matTooltip","click"],["fxShow","","fxHide.lt-lg","","translate",""],["mat-raised-button","","color","primary","aria-label","Close Welcome Banner",1,"close-dialog",3,"click"],["fxShow","","fxHide.lt-sm","","translate",""]],template:function(t,e){1&t&&(l.Vb(0,"div",0),l.Vb(1,"h1"),l.Vb(2,"span"),l.Ic(3),l.Ub(),l.Ub(),l.Qb(4,"div",1),l.Vb(5,"div"),l.Gc(6,Tb,6,3,"button",2),l.Gc(7,Ab,5,0,"button",3),l.Ub(),l.Ub()),2&t&&(l.Db(3),l.Jc(e.title),l.Db(1),l.nc("innerHtml",e.message,l.zc),l.Db(2),l.nc("ngIf",e.showHackingInstructor),l.Db(1),l.nc("ngIf",e.showDismissBtn))},directives:[Y.l,S.a,je.a,Fe.a,J.b,U.a],pipes:[U.d],styles:[".text-justify[_ngcontent-%COMP%]{text-align:justify;text-justify:inter-word}[_nghost-%COMP%]     h1 a{font-size:20px}[_nghost-%COMP%]     strong{font-style:italic}"]}),Rb),Bb=((Mb=function(){function t(e,n,a){i(this,t),this.dialog=e,this.configurationService=n,this.cookieService=a,this.welcomeBannerStatusCookieKey="welcomebanner_status"}return r(t,[{key:"ngOnInit",value:function(){var t=this;"dismiss"!==this.cookieService.get(this.welcomeBannerStatusCookieKey)&&this.configurationService.getApplicationConfiguration().subscribe(function(e){var n;(null===(n=null==e?void 0:e.application)||void 0===n?void 0:n.welcomeBanner)&&!e.application.welcomeBanner.showOnFirstStart||t.dialog.open(Nb,{minWidth:"320px",width:"35%",position:{top:"50px"}})},function(t){return console.log(t)})}}]),t}()).\u0275fac=function(t){return new(t||Mb)(l.Pb(nn.b),l.Pb(h),l.Pb(d.b))},Mb.\u0275cmp=l.Jb({type:Mb,selectors:[["app-welcome"]],decls:1,vars:0,template:function(t,e){1&t&&l.Qb(0,"div")},styles:[".welcome-style[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:50%;min-width:320px}"]}),Mb),Gb=((Eb=function t(e,n){i(this,t),this._document=e,this.translate=n,this.translate.setDefaultLang("en")}).\u0275fac=function(t){return new(t||Eb)(l.Pb(Y.d),l.Pb(U.e))},Eb.\u0275cmp=l.Jb({type:Eb,selectors:[["app-root"]],decls:10,vars:0,consts:[[1,"mat-typography"],["fullscreen",""],["mode","over"],["sidenav",""],[3,"sidenavToggle"]],template:function(t,e){if(1&t){var n=l.Wb();l.Vb(0,"div",0),l.Vb(1,"mat-sidenav-container",1),l.Vb(2,"mat-sidenav",2,3),l.Vb(4,"sidenav",4),l.dc("sidenavToggle",function(){return l.yc(n),l.vc(3).toggle()}),l.Ub(),l.Ub(),l.Vb(5,"app-navbar",4),l.dc("sidenavToggle",function(){return l.yc(n),l.vc(3).toggle()}),l.Ub(),l.Qb(6,"app-server-started-notification"),l.Qb(7,"app-challenge-solved-notification"),l.Qb(8,"app-welcome"),l.Qb(9,"router-outlet"),l.Ub(),l.Ub()}},directives:[xr.b,xr.a,Yu,gb,Ub,Pb,Bb,N.f],styles:[".mat-sidenav[_ngcontent-%COMP%]{width:280px}"]}),Eb),Fb=((Lb=function(){function t(){i(this,t)}return r(t,[{key:"intercept",value:function(t,e){return localStorage.getItem("token")&&(t=t.clone({setHeaders:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})),localStorage.getItem("email")&&(t=t.clone({setHeaders:{"X-User-Email":String(localStorage.getItem("email"))}})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Lb)},Lb.\u0275prov=l.Lb({token:Lb,factory:Lb.\u0275fac}),Lb),jb=o("u9T3"),Hb=o("omvX"),Qb=o("1O3W");function zb(t){return new fu.a(t,"./assets/i18n/",".json")}var Wb,Kb,qb,Yb,Jb,$b,Zb=(($b=function t(e,n){i(this,t),this.configurationService=e,this.overlayContainer=n,e.getApplicationConfiguration().subscribe(function(t){n.getContainerElement().classList.add(t.application.theme+"-theme")})}).\u0275fac=function(t){return new(t||$b)(l.Zb(h),l.Zb(Qb.e))},$b.\u0275mod=l.Nb({type:$b,bootstrap:[Gb]}),$b.\u0275inj=l.Mb({providers:[{provide:b.a,useClass:Fb,multi:!0},{provide:ro.a,useValue:{coreLibraryLoader:(Jb=Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(8).then(o.t.bind(null,"ECCn",7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(){return Jb.apply(this,arguments)}),lineNumbersLoader:(Yb=Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(12).then(o.t.bind(null,"gPJM",7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(){return Yb.apply(this,arguments)}),languages:{typescript:(qb=Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(10).then(o.t.bind(null,"r0Rl",7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(){return qb.apply(this,arguments)}),javascript:(Kb=Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(9).then(o.t.bind(null,"TdF3",7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(){return Kb.apply(this,arguments)}),yaml:(Wb=Object(u.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e(11).then(o.t.bind(null,"Lns6",7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),function(){return Wb.apply(this,arguments)})}}},Cn,h,hu,we,Nr,R,ye,Xt,Zt,Fn,an,Ha,ei,Dt,bi,G,$i,d.b,H,j,vc,Q,z,Rr,di,kn,hc,us,gc,$l],imports:[[s.a,mu,U.c.forRoot({loader:{provide:U.b,useFactory:zb,deps:[b.b]}}),d.a.forRoot(),Se.c.forRoot(),jb.a,b.c,m.w,Hb.b,ue.a,_r.b,Qa.b,pu.b,So.b,gu.b,Fe.b,ee.e,ke.b,S.b,xr.d,q.p,yn.b,y.e,ne.c,jn.b,nn.f,sn.b,Mi.c,De.j,ln.a,ko.b,je.b,Zu.c,vu.c,Do.b,Vr.c,Dn.b,$u.a,Eo.b,fi.c,W.b,ae.b,oo.d,Ue.b,Vo.c,uo.b,ro.c]]}),$b);Object(l.U)(),s.f().bootstrapModule(Zb).catch(function(t){return console.log(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0,7]]])}();